(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const c of u.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(o){if(o.ep)return;o.ep=!0;const u=t(o);fetch(o.href,u)}})();var Of={exports:{}},ru={},bf={exports:{}},Ve={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g_;function cS(){if(g_)return Ve;g_=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=T&&L[T]||L["@@iterator"],typeof L=="function"?L:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,z={};function V(L,q,_e){this.props=L,this.context=q,this.refs=z,this.updater=_e||O}V.prototype.isReactComponent={},V.prototype.setState=function(L,q){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,q,"setState")},V.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function X(){}X.prototype=V.prototype;function re(L,q,_e){this.props=L,this.context=q,this.refs=z,this.updater=_e||O}var H=re.prototype=new X;H.constructor=re,b(H,V.prototype),H.isPureReactComponent=!0;var te=Array.isArray,de=Object.prototype.hasOwnProperty,ce={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function S(L,q,_e){var Ne,Ie={},Oe=null,be=null;if(q!=null)for(Ne in q.ref!==void 0&&(be=q.ref),q.key!==void 0&&(Oe=""+q.key),q)de.call(q,Ne)&&!P.hasOwnProperty(Ne)&&(Ie[Ne]=q[Ne]);var Me=arguments.length-2;if(Me===1)Ie.children=_e;else if(1<Me){for(var ze=Array(Me),ot=0;ot<Me;ot++)ze[ot]=arguments[ot+2];Ie.children=ze}if(L&&L.defaultProps)for(Ne in Me=L.defaultProps,Me)Ie[Ne]===void 0&&(Ie[Ne]=Me[Ne]);return{$$typeof:n,type:L,key:Oe,ref:be,props:Ie,_owner:ce.current}}function A(L,q){return{$$typeof:n,type:L.type,key:q,ref:L.ref,props:L.props,_owner:L._owner}}function k(L){return typeof L=="object"&&L!==null&&L.$$typeof===n}function N(L){var q={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(_e){return q[_e]})}var M=/\/+/g;function C(L,q){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):q.toString(36)}function fe(L,q,_e,Ne,Ie){var Oe=typeof L;(Oe==="undefined"||Oe==="boolean")&&(L=null);var be=!1;if(L===null)be=!0;else switch(Oe){case"string":case"number":be=!0;break;case"object":switch(L.$$typeof){case n:case e:be=!0}}if(be)return be=L,Ie=Ie(be),L=Ne===""?"."+C(be,0):Ne,te(Ie)?(_e="",L!=null&&(_e=L.replace(M,"$&/")+"/"),fe(Ie,q,_e,"",function(ot){return ot})):Ie!=null&&(k(Ie)&&(Ie=A(Ie,_e+(!Ie.key||be&&be.key===Ie.key?"":(""+Ie.key).replace(M,"$&/")+"/")+L)),q.push(Ie)),1;if(be=0,Ne=Ne===""?".":Ne+":",te(L))for(var Me=0;Me<L.length;Me++){Oe=L[Me];var ze=Ne+C(Oe,Me);be+=fe(Oe,q,_e,ze,Ie)}else if(ze=I(L),typeof ze=="function")for(L=ze.call(L),Me=0;!(Oe=L.next()).done;)Oe=Oe.value,ze=Ne+C(Oe,Me++),be+=fe(Oe,q,_e,ze,Ie);else if(Oe==="object")throw q=String(L),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return be}function we(L,q,_e){if(L==null)return L;var Ne=[],Ie=0;return fe(L,Ne,"","",function(Oe){return q.call(_e,Oe,Ie++)}),Ne}function He(L){if(L._status===-1){var q=L._result;q=q(),q.then(function(_e){(L._status===0||L._status===-1)&&(L._status=1,L._result=_e)},function(_e){(L._status===0||L._status===-1)&&(L._status=2,L._result=_e)}),L._status===-1&&(L._status=0,L._result=q)}if(L._status===1)return L._result.default;throw L._result}var Pe={current:null},J={transition:null},ue={ReactCurrentDispatcher:Pe,ReactCurrentBatchConfig:J,ReactCurrentOwner:ce};function se(){throw Error("act(...) is not supported in production builds of React.")}return Ve.Children={map:we,forEach:function(L,q,_e){we(L,function(){q.apply(this,arguments)},_e)},count:function(L){var q=0;return we(L,function(){q++}),q},toArray:function(L){return we(L,function(q){return q})||[]},only:function(L){if(!k(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ve.Component=V,Ve.Fragment=t,Ve.Profiler=o,Ve.PureComponent=re,Ve.StrictMode=i,Ve.Suspense=p,Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ue,Ve.act=se,Ve.cloneElement=function(L,q,_e){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ne=b({},L.props),Ie=L.key,Oe=L.ref,be=L._owner;if(q!=null){if(q.ref!==void 0&&(Oe=q.ref,be=ce.current),q.key!==void 0&&(Ie=""+q.key),L.type&&L.type.defaultProps)var Me=L.type.defaultProps;for(ze in q)de.call(q,ze)&&!P.hasOwnProperty(ze)&&(Ne[ze]=q[ze]===void 0&&Me!==void 0?Me[ze]:q[ze])}var ze=arguments.length-2;if(ze===1)Ne.children=_e;else if(1<ze){Me=Array(ze);for(var ot=0;ot<ze;ot++)Me[ot]=arguments[ot+2];Ne.children=Me}return{$$typeof:n,type:L.type,key:Ie,ref:Oe,props:Ne,_owner:be}},Ve.createContext=function(L){return L={$$typeof:c,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ve.createElement=S,Ve.createFactory=function(L){var q=S.bind(null,L);return q.type=L,q},Ve.createRef=function(){return{current:null}},Ve.forwardRef=function(L){return{$$typeof:d,render:L}},Ve.isValidElement=k,Ve.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:He}},Ve.memo=function(L,q){return{$$typeof:y,type:L,compare:q===void 0?null:q}},Ve.startTransition=function(L){var q=J.transition;J.transition={};try{L()}finally{J.transition=q}},Ve.unstable_act=se,Ve.useCallback=function(L,q){return Pe.current.useCallback(L,q)},Ve.useContext=function(L){return Pe.current.useContext(L)},Ve.useDebugValue=function(){},Ve.useDeferredValue=function(L){return Pe.current.useDeferredValue(L)},Ve.useEffect=function(L,q){return Pe.current.useEffect(L,q)},Ve.useId=function(){return Pe.current.useId()},Ve.useImperativeHandle=function(L,q,_e){return Pe.current.useImperativeHandle(L,q,_e)},Ve.useInsertionEffect=function(L,q){return Pe.current.useInsertionEffect(L,q)},Ve.useLayoutEffect=function(L,q){return Pe.current.useLayoutEffect(L,q)},Ve.useMemo=function(L,q){return Pe.current.useMemo(L,q)},Ve.useReducer=function(L,q,_e){return Pe.current.useReducer(L,q,_e)},Ve.useRef=function(L){return Pe.current.useRef(L)},Ve.useState=function(L){return Pe.current.useState(L)},Ve.useSyncExternalStore=function(L,q,_e){return Pe.current.useSyncExternalStore(L,q,_e)},Ve.useTransition=function(){return Pe.current.useTransition()},Ve.version="18.3.1",Ve}var y_;function Ih(){return y_||(y_=1,bf.exports=cS()),bf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var __;function hS(){if(__)return ru;__=1;var n=Ih(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(d,p,y){var w,T={},I=null,O=null;y!==void 0&&(I=""+y),p.key!==void 0&&(I=""+p.key),p.ref!==void 0&&(O=p.ref);for(w in p)i.call(p,w)&&!u.hasOwnProperty(w)&&(T[w]=p[w]);if(d&&d.defaultProps)for(w in p=d.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:d,key:I,ref:O,props:T,_owner:o.current}}return ru.Fragment=t,ru.jsx=c,ru.jsxs=c,ru}var v_;function dS(){return v_||(v_=1,Of.exports=hS()),Of.exports}var G=dS(),ye=Ih(),Sc={},Vf={exports:{}},nn={},Mf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var w_;function fS(){return w_||(w_=1,function(n){function e(J,ue){var se=J.length;J.push(ue);e:for(;0<se;){var L=se-1>>>1,q=J[L];if(0<o(q,ue))J[L]=ue,J[se]=q,se=L;else break e}}function t(J){return J.length===0?null:J[0]}function i(J){if(J.length===0)return null;var ue=J[0],se=J.pop();if(se!==ue){J[0]=se;e:for(var L=0,q=J.length,_e=q>>>1;L<_e;){var Ne=2*(L+1)-1,Ie=J[Ne],Oe=Ne+1,be=J[Oe];if(0>o(Ie,se))Oe<q&&0>o(be,Ie)?(J[L]=be,J[Oe]=se,L=Oe):(J[L]=Ie,J[Ne]=se,L=Ne);else if(Oe<q&&0>o(be,se))J[L]=be,J[Oe]=se,L=Oe;else break e}}return ue}function o(J,ue){var se=J.sortIndex-ue.sortIndex;return se!==0?se:J.id-ue.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;n.unstable_now=function(){return u.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var p=[],y=[],w=1,T=null,I=3,O=!1,b=!1,z=!1,V=typeof setTimeout=="function"?setTimeout:null,X=typeof clearTimeout=="function"?clearTimeout:null,re=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(J){for(var ue=t(y);ue!==null;){if(ue.callback===null)i(y);else if(ue.startTime<=J)i(y),ue.sortIndex=ue.expirationTime,e(p,ue);else break;ue=t(y)}}function te(J){if(z=!1,H(J),!b)if(t(p)!==null)b=!0,He(de);else{var ue=t(y);ue!==null&&Pe(te,ue.startTime-J)}}function de(J,ue){b=!1,z&&(z=!1,X(S),S=-1),O=!0;var se=I;try{for(H(ue),T=t(p);T!==null&&(!(T.expirationTime>ue)||J&&!N());){var L=T.callback;if(typeof L=="function"){T.callback=null,I=T.priorityLevel;var q=L(T.expirationTime<=ue);ue=n.unstable_now(),typeof q=="function"?T.callback=q:T===t(p)&&i(p),H(ue)}else i(p);T=t(p)}if(T!==null)var _e=!0;else{var Ne=t(y);Ne!==null&&Pe(te,Ne.startTime-ue),_e=!1}return _e}finally{T=null,I=se,O=!1}}var ce=!1,P=null,S=-1,A=5,k=-1;function N(){return!(n.unstable_now()-k<A)}function M(){if(P!==null){var J=n.unstable_now();k=J;var ue=!0;try{ue=P(!0,J)}finally{ue?C():(ce=!1,P=null)}}else ce=!1}var C;if(typeof re=="function")C=function(){re(M)};else if(typeof MessageChannel<"u"){var fe=new MessageChannel,we=fe.port2;fe.port1.onmessage=M,C=function(){we.postMessage(null)}}else C=function(){V(M,0)};function He(J){P=J,ce||(ce=!0,C())}function Pe(J,ue){S=V(function(){J(n.unstable_now())},ue)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_continueExecution=function(){b||O||(b=!0,He(de))},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(J){switch(I){case 1:case 2:case 3:var ue=3;break;default:ue=I}var se=I;I=ue;try{return J()}finally{I=se}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(J,ue){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var se=I;I=J;try{return ue()}finally{I=se}},n.unstable_scheduleCallback=function(J,ue,se){var L=n.unstable_now();switch(typeof se=="object"&&se!==null?(se=se.delay,se=typeof se=="number"&&0<se?L+se:L):se=L,J){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=se+q,J={id:w++,callback:ue,priorityLevel:J,startTime:se,expirationTime:q,sortIndex:-1},se>L?(J.sortIndex=se,e(y,J),t(p)===null&&J===t(y)&&(z?(X(S),S=-1):z=!0,Pe(te,se-L))):(J.sortIndex=q,e(p,J),b||O||(b=!0,He(de))),J},n.unstable_shouldYield=N,n.unstable_wrapCallback=function(J){var ue=I;return function(){var se=I;I=ue;try{return J.apply(this,arguments)}finally{I=se}}}}(Lf)),Lf}var E_;function pS(){return E_||(E_=1,Mf.exports=fS()),Mf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T_;function mS(){if(T_)return nn;T_=1;var n=Ih(),e=pS();function t(r){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function u(r,s){c(r,s),c(r+"Capture",s)}function c(r,s){for(o[r]=s,r=0;r<s.length;r++)i.add(s[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function I(r){return p.call(T,r)?!0:p.call(w,r)?!1:y.test(r)?T[r]=!0:(w[r]=!0,!1)}function O(r,s,a,h){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return h?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function b(r,s,a,h){if(s===null||typeof s>"u"||O(r,s,a,h))return!0;if(h)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function z(r,s,a,h,f,g,v){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=h,this.attributeNamespace=f,this.mustUseProperty=a,this.propertyName=r,this.type=s,this.sanitizeURL=g,this.removeEmptyString=v}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){V[r]=new z(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var s=r[0];V[s]=new z(s,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){V[r]=new z(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){V[r]=new z(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){V[r]=new z(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){V[r]=new z(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){V[r]=new z(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){V[r]=new z(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){V[r]=new z(r,5,!1,r.toLowerCase(),null,!1,!1)});var X=/[\-:]([a-z])/g;function re(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var s=r.replace(X,re);V[s]=new z(s,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var s=r.replace(X,re);V[s]=new z(s,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var s=r.replace(X,re);V[s]=new z(s,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){V[r]=new z(r,1,!1,r.toLowerCase(),null,!1,!1)}),V.xlinkHref=new z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){V[r]=new z(r,1,!1,r.toLowerCase(),null,!0,!0)});function H(r,s,a,h){var f=V.hasOwnProperty(s)?V[s]:null;(f!==null?f.type!==0:h||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(b(s,a,f,h)&&(a=null),h||f===null?I(s)&&(a===null?r.removeAttribute(s):r.setAttribute(s,""+a)):f.mustUseProperty?r[f.propertyName]=a===null?f.type===3?!1:"":a:(s=f.attributeName,h=f.attributeNamespace,a===null?r.removeAttribute(s):(f=f.type,a=f===3||f===4&&a===!0?"":""+a,h?r.setAttributeNS(h,s,a):r.setAttribute(s,a))))}var te=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,de=Symbol.for("react.element"),ce=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),N=Symbol.for("react.context"),M=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),we=Symbol.for("react.memo"),He=Symbol.for("react.lazy"),Pe=Symbol.for("react.offscreen"),J=Symbol.iterator;function ue(r){return r===null||typeof r!="object"?null:(r=J&&r[J]||r["@@iterator"],typeof r=="function"?r:null)}var se=Object.assign,L;function q(r){if(L===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);L=s&&s[1]||""}return`
`+L+r}var _e=!1;function Ne(r,s){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var h=B}Reflect.construct(r,[],s)}else{try{s.call()}catch(B){h=B}r.call(s.prototype)}else{try{throw Error()}catch(B){h=B}r()}}catch(B){if(B&&h&&typeof B.stack=="string"){for(var f=B.stack.split(`
`),g=h.stack.split(`
`),v=f.length-1,R=g.length-1;1<=v&&0<=R&&f[v]!==g[R];)R--;for(;1<=v&&0<=R;v--,R--)if(f[v]!==g[R]){if(v!==1||R!==1)do if(v--,R--,0>R||f[v]!==g[R]){var x=`
`+f[v].replace(" at new "," at ");return r.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",r.displayName)),x}while(1<=v&&0<=R);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?q(r):""}function Ie(r){switch(r.tag){case 5:return q(r.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case P:return"Fragment";case ce:return"Portal";case A:return"Profiler";case S:return"StrictMode";case C:return"Suspense";case fe:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case N:return(r.displayName||"Context")+".Consumer";case k:return(r._context.displayName||"Context")+".Provider";case M:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case we:return s=r.displayName||null,s!==null?s:Oe(r.type)||"Memo";case He:s=r._payload,r=r._init;try{return Oe(r(s))}catch{}}return null}function be(r){var s=r.type;switch(r.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=s.render,r=r.displayName||r.name||"",s.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(s);case 8:return s===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function ze(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function ot(r){var s=ze(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),h=""+r[s];if(!r.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(v){h=""+v,g.call(this,v)}}),Object.defineProperty(r,s,{enumerable:a.enumerable}),{getValue:function(){return h},setValue:function(v){h=""+v},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function wr(r){r._valueTracker||(r._valueTracker=ot(r))}function js(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var a=s.getValue(),h="";return r&&(h=ze(r)?r.checked?"true":"false":r.value),r=h,r!==a?(s.setValue(r),!0):!1}function Xr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Gi(r,s){var a=s.checked;return se({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function zs(r,s){var a=s.defaultValue==null?"":s.defaultValue,h=s.checked!=null?s.checked:s.defaultChecked;a=Me(s.value!=null?s.value:a),r._wrapperState={initialChecked:h,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function la(r,s){s=s.checked,s!=null&&H(r,"checked",s,!1)}function ca(r,s){la(r,s);var a=Me(s.value),h=s.type;if(a!=null)h==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(h==="submit"||h==="reset"){r.removeAttribute("value");return}s.hasOwnProperty("value")?Bs(r,s.type,a):s.hasOwnProperty("defaultValue")&&Bs(r,s.type,Me(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(r.defaultChecked=!!s.defaultChecked)}function ll(r,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var h=s.type;if(!(h!=="submit"&&h!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+r._wrapperState.initialValue,a||s===r.value||(r.value=s),r.defaultValue=s}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Bs(r,s,a){(s!=="number"||Xr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var Er=Array.isArray;function Tr(r,s,a,h){if(r=r.options,s){s={};for(var f=0;f<a.length;f++)s["$"+a[f]]=!0;for(a=0;a<r.length;a++)f=s.hasOwnProperty("$"+r[a].value),r[a].selected!==f&&(r[a].selected=f),f&&h&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),s=null,f=0;f<r.length;f++){if(r[f].value===a){r[f].selected=!0,h&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function ha(r,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return se({},s,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function $s(r,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(Er(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}r._wrapperState={initialValue:Me(a)}}function qs(r,s){var a=Me(s.value),h=Me(s.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),s.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),h!=null&&(r.defaultValue=""+h)}function da(r){var s=r.textContent;s===r._wrapperState.initialValue&&s!==""&&s!==null&&(r.value=s)}function gt(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yt(r,s){return r==null||r==="http://www.w3.org/1999/xhtml"?gt(s):r==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Ir,fa=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,h,f){MSApp.execUnsafeLocalFunction(function(){return r(s,a,h,f)})}:r}(function(r,s){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=s;else{for(Ir=Ir||document.createElement("div"),Ir.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Ir.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;s.firstChild;)r.appendChild(s.firstChild)}});function Jr(r,s){if(s){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=s;return}}r.textContent=s}var Qi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Yi=["Webkit","ms","Moz","O"];Object.keys(Qi).forEach(function(r){Yi.forEach(function(s){s=s+r.charAt(0).toUpperCase()+r.substring(1),Qi[s]=Qi[r]})});function pa(r,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Qi.hasOwnProperty(r)&&Qi[r]?(""+s).trim():s+"px"}function ma(r,s){r=r.style;for(var a in s)if(s.hasOwnProperty(a)){var h=a.indexOf("--")===0,f=pa(a,s[a],h);a==="float"&&(a="cssFloat"),h?r.setProperty(a,f):r[a]=f}}var ga=se({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ya(r,s){if(s){if(ga[r]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function _a(r,s){if(r.indexOf("-")===-1)return typeof s.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xi=null;function Hs(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Ws=null,En=null,tr=null;function Ks(r){if(r=Ba(r)){if(typeof Ws!="function")throw Error(t(280));var s=r.stateNode;s&&(s=Ul(s),Ws(r.stateNode,r.type,s))}}function nr(r){En?tr?tr.push(r):tr=[r]:En=r}function va(){if(En){var r=En,s=tr;if(tr=En=null,Ks(r),s)for(r=0;r<s.length;r++)Ks(s[r])}}function Ji(r,s){return r(s)}function wa(){}var Sr=!1;function Ea(r,s,a){if(Sr)return r(s,a);Sr=!0;try{return Ji(r,s,a)}finally{Sr=!1,(En!==null||tr!==null)&&(wa(),va())}}function ut(r,s){var a=r.stateNode;if(a===null)return null;var h=Ul(a);if(h===null)return null;a=h[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(r=r.type,h=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!h;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Gs=!1;if(d)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){Gs=!0}}),window.addEventListener("test",bn,bn),window.removeEventListener("test",bn,bn)}catch{Gs=!1}function Zi(r,s,a,h,f,g,v,R,x){var B=Array.prototype.slice.call(arguments,3);try{s.apply(a,B)}catch(Y){this.onError(Y)}}var es=!1,Qs=null,Vn=!1,Ta=null,od={onError:function(r){es=!0,Qs=r}};function Ys(r,s,a,h,f,g,v,R,x){es=!1,Qs=null,Zi.apply(od,arguments)}function cl(r,s,a,h,f,g,v,R,x){if(Ys.apply(this,arguments),es){if(es){var B=Qs;es=!1,Qs=null}else throw Error(t(198));Vn||(Vn=!0,Ta=B)}}function Mn(r){var s=r,a=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,s.flags&4098&&(a=s.return),r=s.return;while(r)}return s.tag===3?a:null}function ts(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function Ln(r){if(Mn(r)!==r)throw Error(t(188))}function hl(r){var s=r.alternate;if(!s){if(s=Mn(r),s===null)throw Error(t(188));return s!==r?null:r}for(var a=r,h=s;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(h=f.return,h!==null){a=h;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return Ln(f),r;if(g===h)return Ln(f),s;g=g.sibling}throw Error(t(188))}if(a.return!==h.return)a=f,h=g;else{for(var v=!1,R=f.child;R;){if(R===a){v=!0,a=f,h=g;break}if(R===h){v=!0,h=f,a=g;break}R=R.sibling}if(!v){for(R=g.child;R;){if(R===a){v=!0,a=g,h=f;break}if(R===h){v=!0,h=g,a=f;break}R=R.sibling}if(!v)throw Error(t(189))}}if(a.alternate!==h)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:s}function Ia(r){return r=hl(r),r!==null?Xs(r):null}function Xs(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var s=Xs(r);if(s!==null)return s;r=r.sibling}return null}var Js=e.unstable_scheduleCallback,Sa=e.unstable_cancelCallback,dl=e.unstable_shouldYield,ad=e.unstable_requestPaint,Ye=e.unstable_now,fl=e.unstable_getCurrentPriorityLevel,ns=e.unstable_ImmediatePriority,Zr=e.unstable_UserBlockingPriority,Tn=e.unstable_NormalPriority,Aa=e.unstable_LowPriority,pl=e.unstable_IdlePriority,rs=null,cn=null;function ml(r){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(rs,r,void 0,(r.current.flags&128)===128)}catch{}}var qt=Math.clz32?Math.clz32:yl,Ra=Math.log,gl=Math.LN2;function yl(r){return r>>>=0,r===0?32:31-(Ra(r)/gl|0)|0}var Zs=64,eo=4194304;function ei(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function is(r,s){var a=r.pendingLanes;if(a===0)return 0;var h=0,f=r.suspendedLanes,g=r.pingedLanes,v=a&268435455;if(v!==0){var R=v&~f;R!==0?h=ei(R):(g&=v,g!==0&&(h=ei(g)))}else v=a&~f,v!==0?h=ei(v):g!==0&&(h=ei(g));if(h===0)return 0;if(s!==0&&s!==h&&!(s&f)&&(f=h&-h,g=s&-s,f>=g||f===16&&(g&4194240)!==0))return s;if(h&4&&(h|=a&16),s=r.entangledLanes,s!==0)for(r=r.entanglements,s&=h;0<s;)a=31-qt(s),f=1<<a,h|=r[a],s&=~f;return h}function ud(r,s){switch(r){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(r,s){for(var a=r.suspendedLanes,h=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes;0<g;){var v=31-qt(g),R=1<<v,x=f[v];x===-1?(!(R&a)||R&h)&&(f[v]=ud(R,s)):x<=s&&(r.expiredLanes|=R),g&=~R}}function hn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ss(){var r=Zs;return Zs<<=1,!(Zs&4194240)&&(Zs=64),r}function ti(r){for(var s=[],a=0;31>a;a++)s.push(r);return s}function ni(r,s,a){r.pendingLanes|=s,s!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,s=31-qt(s),r[s]=a}function Qe(r,s){var a=r.pendingLanes&~s;r.pendingLanes=s,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=s,r.mutableReadLanes&=s,r.entangledLanes&=s,s=r.entanglements;var h=r.eventTimes;for(r=r.expirationTimes;0<a;){var f=31-qt(a),g=1<<f;s[f]=0,h[f]=-1,r[f]=-1,a&=~g}}function ri(r,s){var a=r.entangledLanes|=s;for(r=r.entanglements;a;){var h=31-qt(a),f=1<<h;f&s|r[h]&s&&(r[h]|=s),a&=~f}}var je=0;function ii(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var _l,to,vl,wl,El,Ca=!1,rr=[],Pt=null,Fn=null,Un=null,si=new Map,In=new Map,ir=[],ld="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tl(r,s){switch(r){case"focusin":case"focusout":Pt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":Un=null;break;case"pointerover":case"pointerout":si.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(s.pointerId)}}function Qt(r,s,a,h,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:a,eventSystemFlags:h,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Ba(s),s!==null&&to(s)),r):(r.eventSystemFlags|=h,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function cd(r,s,a,h,f){switch(s){case"focusin":return Pt=Qt(Pt,r,s,a,h,f),!0;case"dragenter":return Fn=Qt(Fn,r,s,a,h,f),!0;case"mouseover":return Un=Qt(Un,r,s,a,h,f),!0;case"pointerover":var g=f.pointerId;return si.set(g,Qt(si.get(g)||null,r,s,a,h,f)),!0;case"gotpointercapture":return g=f.pointerId,In.set(g,Qt(In.get(g)||null,r,s,a,h,f)),!0}return!1}function Il(r){var s=cs(r.target);if(s!==null){var a=Mn(s);if(a!==null){if(s=a.tag,s===13){if(s=ts(a),s!==null){r.blockedOn=s,El(r.priority,function(){vl(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Rr(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var a=no(r.domEventName,r.eventSystemFlags,s[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var h=new a.constructor(a.type,a);Xi=h,a.target.dispatchEvent(h),Xi=null}else return s=Ba(a),s!==null&&to(s),r.blockedOn=a,!1;s.shift()}return!0}function os(r,s,a){Rr(r)&&a.delete(s)}function Sl(){Ca=!1,Pt!==null&&Rr(Pt)&&(Pt=null),Fn!==null&&Rr(Fn)&&(Fn=null),Un!==null&&Rr(Un)&&(Un=null),si.forEach(os),In.forEach(os)}function jn(r,s){r.blockedOn===s&&(r.blockedOn=null,Ca||(Ca=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Sl)))}function zn(r){function s(f){return jn(f,r)}if(0<rr.length){jn(rr[0],r);for(var a=1;a<rr.length;a++){var h=rr[a];h.blockedOn===r&&(h.blockedOn=null)}}for(Pt!==null&&jn(Pt,r),Fn!==null&&jn(Fn,r),Un!==null&&jn(Un,r),si.forEach(s),In.forEach(s),a=0;a<ir.length;a++)h=ir[a],h.blockedOn===r&&(h.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Il(a),a.blockedOn===null&&ir.shift()}var Cr=te.ReactCurrentBatchConfig,oi=!0;function tt(r,s,a,h){var f=je,g=Cr.transition;Cr.transition=null;try{je=1,Pa(r,s,a,h)}finally{je=f,Cr.transition=g}}function hd(r,s,a,h){var f=je,g=Cr.transition;Cr.transition=null;try{je=4,Pa(r,s,a,h)}finally{je=f,Cr.transition=g}}function Pa(r,s,a,h){if(oi){var f=no(r,s,a,h);if(f===null)Td(r,s,h,as,a),Tl(r,h);else if(cd(f,r,s,a,h))h.stopPropagation();else if(Tl(r,h),s&4&&-1<ld.indexOf(r)){for(;f!==null;){var g=Ba(f);if(g!==null&&_l(g),g=no(r,s,a,h),g===null&&Td(r,s,h,as,a),g===f)break;f=g}f!==null&&h.stopPropagation()}else Td(r,s,h,null,a)}}var as=null;function no(r,s,a,h){if(as=null,r=Hs(h),r=cs(r),r!==null)if(s=Mn(r),s===null)r=null;else if(a=s.tag,a===13){if(r=ts(s),r!==null)return r;r=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null);return as=r,null}function ka(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(fl()){case ns:return 1;case Zr:return 4;case Tn:case Aa:return 16;case pl:return 536870912;default:return 16}default:return 16}}var dn=null,ro=null,Yt=null;function xa(){if(Yt)return Yt;var r,s=ro,a=s.length,h,f="value"in dn?dn.value:dn.textContent,g=f.length;for(r=0;r<a&&s[r]===f[r];r++);var v=a-r;for(h=1;h<=v&&s[a-h]===f[g-h];h++);return Yt=f.slice(r,1<h?1-h:void 0)}function io(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function sr(){return!0}function Na(){return!1}function kt(r){function s(a,h,f,g,v){this._reactName=a,this._targetInst=f,this.type=h,this.nativeEvent=g,this.target=v,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?sr:Na,this.isPropagationStopped=Na,this}return se(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=sr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=sr)},persist:function(){},isPersistent:sr}),s}var Bn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},so=kt(Bn),or=se({},Bn,{view:0,detail:0}),dd=kt(or),oo,Pr,ai,us=se({},or,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ar,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ai&&(ai&&r.type==="mousemove"?(oo=r.screenX-ai.screenX,Pr=r.screenY-ai.screenY):Pr=oo=0,ai=r),oo)},movementY:function(r){return"movementY"in r?r.movementY:Pr}}),ao=kt(us),Da=se({},us,{dataTransfer:0}),Al=kt(Da),uo=se({},or,{relatedTarget:0}),lo=kt(uo),Rl=se({},Bn,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=kt(Rl),Cl=se({},Bn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Pl=kt(Cl),kl=se({},Bn,{data:0}),Oa=kt(kl),co={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ht={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nl(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=xl[r])?!!s[r]:!1}function ar(){return Nl}var l=se({},or,{key:function(r){if(r.key){var s=co[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=io(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Ht[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ar,charCode:function(r){return r.type==="keypress"?io(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?io(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=kt(l),_=se({},us,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=kt(_),F=se({},or,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ar}),$=kt(F),ie=se({},Bn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ge=kt(ie),_t=se({},us,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=kt(_t),It=[9,13,27,32],dt=d&&"CompositionEvent"in window,Sn=null;d&&"documentMode"in document&&(Sn=document.documentMode);var fn=d&&"TextEvent"in window&&!Sn,ls=d&&(!dt||Sn&&8<Sn&&11>=Sn),ho=" ",cg=!1;function hg(r,s){switch(r){case"keyup":return It.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dg(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var fo=!1;function uI(r,s){switch(r){case"compositionend":return dg(s);case"keypress":return s.which!==32?null:(cg=!0,ho);case"textInput":return r=s.data,r===ho&&cg?null:r;default:return null}}function lI(r,s){if(fo)return r==="compositionend"||!dt&&hg(r,s)?(r=xa(),Yt=ro=dn=null,fo=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return ls&&s.locale!=="ko"?null:s.data;default:return null}}var cI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!cI[r.type]:s==="textarea"}function pg(r,s,a,h){nr(h),s=Ml(s,"onChange"),0<s.length&&(a=new so("onChange","change",null,a,h),r.push({event:a,listeners:s}))}var ba=null,Va=null;function hI(r){Dg(r,0)}function Dl(r){var s=_o(r);if(js(s))return r}function dI(r,s){if(r==="change")return s}var mg=!1;if(d){var fd;if(d){var pd="oninput"in document;if(!pd){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),pd=typeof gg.oninput=="function"}fd=pd}else fd=!1;mg=fd&&(!document.documentMode||9<document.documentMode)}function yg(){ba&&(ba.detachEvent("onpropertychange",_g),Va=ba=null)}function _g(r){if(r.propertyName==="value"&&Dl(Va)){var s=[];pg(s,Va,r,Hs(r)),Ea(hI,s)}}function fI(r,s,a){r==="focusin"?(yg(),ba=s,Va=a,ba.attachEvent("onpropertychange",_g)):r==="focusout"&&yg()}function pI(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Dl(Va)}function mI(r,s){if(r==="click")return Dl(s)}function gI(r,s){if(r==="input"||r==="change")return Dl(s)}function yI(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var $n=typeof Object.is=="function"?Object.is:yI;function Ma(r,s){if($n(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var a=Object.keys(r),h=Object.keys(s);if(a.length!==h.length)return!1;for(h=0;h<a.length;h++){var f=a[h];if(!p.call(s,f)||!$n(r[f],s[f]))return!1}return!0}function vg(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function wg(r,s){var a=vg(r);r=0;for(var h;a;){if(a.nodeType===3){if(h=r+a.textContent.length,r<=s&&h>=s)return{node:a,offset:s-r};r=h}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=vg(a)}}function Eg(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?Eg(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function Tg(){for(var r=window,s=Xr();s instanceof r.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)r=s.contentWindow;else break;s=Xr(r.document)}return s}function md(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}function _I(r){var s=Tg(),a=r.focusedElem,h=r.selectionRange;if(s!==a&&a&&a.ownerDocument&&Eg(a.ownerDocument.documentElement,a)){if(h!==null&&md(a)){if(s=h.start,r=h.end,r===void 0&&(r=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(r,a.value.length);else if(r=(s=a.ownerDocument||document)&&s.defaultView||window,r.getSelection){r=r.getSelection();var f=a.textContent.length,g=Math.min(h.start,f);h=h.end===void 0?g:Math.min(h.end,f),!r.extend&&g>h&&(f=h,h=g,g=f),f=wg(a,g);var v=wg(a,h);f&&v&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==v.node||r.focusOffset!==v.offset)&&(s=s.createRange(),s.setStart(f.node,f.offset),r.removeAllRanges(),g>h?(r.addRange(s),r.extend(v.node,v.offset)):(s.setEnd(v.node,v.offset),r.addRange(s)))}}for(s=[],r=a;r=r.parentNode;)r.nodeType===1&&s.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)r=s[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var vI=d&&"documentMode"in document&&11>=document.documentMode,po=null,gd=null,La=null,yd=!1;function Ig(r,s,a){var h=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yd||po==null||po!==Xr(h)||(h=po,"selectionStart"in h&&md(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),La&&Ma(La,h)||(La=h,h=Ml(gd,"onSelect"),0<h.length&&(s=new so("onSelect","select",null,s,a),r.push({event:s,listeners:h}),s.target=po)))}function Ol(r,s){var a={};return a[r.toLowerCase()]=s.toLowerCase(),a["Webkit"+r]="webkit"+s,a["Moz"+r]="moz"+s,a}var mo={animationend:Ol("Animation","AnimationEnd"),animationiteration:Ol("Animation","AnimationIteration"),animationstart:Ol("Animation","AnimationStart"),transitionend:Ol("Transition","TransitionEnd")},_d={},Sg={};d&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function bl(r){if(_d[r])return _d[r];if(!mo[r])return r;var s=mo[r],a;for(a in s)if(s.hasOwnProperty(a)&&a in Sg)return _d[r]=s[a];return r}var Ag=bl("animationend"),Rg=bl("animationiteration"),Cg=bl("animationstart"),Pg=bl("transitionend"),kg=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ui(r,s){kg.set(r,s),u(s,[r])}for(var vd=0;vd<xg.length;vd++){var wd=xg[vd],wI=wd.toLowerCase(),EI=wd[0].toUpperCase()+wd.slice(1);ui(wI,"on"+EI)}ui(Ag,"onAnimationEnd"),ui(Rg,"onAnimationIteration"),ui(Cg,"onAnimationStart"),ui("dblclick","onDoubleClick"),ui("focusin","onFocus"),ui("focusout","onBlur"),ui(Pg,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),TI=new Set("cancel close invalid load scroll toggle".split(" ").concat(Fa));function Ng(r,s,a){var h=r.type||"unknown-event";r.currentTarget=a,cl(h,s,void 0,r),r.currentTarget=null}function Dg(r,s){s=(s&4)!==0;for(var a=0;a<r.length;a++){var h=r[a],f=h.event;h=h.listeners;e:{var g=void 0;if(s)for(var v=h.length-1;0<=v;v--){var R=h[v],x=R.instance,B=R.currentTarget;if(R=R.listener,x!==g&&f.isPropagationStopped())break e;Ng(f,R,B),g=x}else for(v=0;v<h.length;v++){if(R=h[v],x=R.instance,B=R.currentTarget,R=R.listener,x!==g&&f.isPropagationStopped())break e;Ng(f,R,B),g=x}}}if(Vn)throw r=Ta,Vn=!1,Ta=null,r}function Je(r,s){var a=s[Pd];a===void 0&&(a=s[Pd]=new Set);var h=r+"__bubble";a.has(h)||(Og(s,r,2,!1),a.add(h))}function Ed(r,s,a){var h=0;s&&(h|=4),Og(a,r,h,s)}var Vl="_reactListening"+Math.random().toString(36).slice(2);function Ua(r){if(!r[Vl]){r[Vl]=!0,i.forEach(function(a){a!=="selectionchange"&&(TI.has(a)||Ed(a,!1,r),Ed(a,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Vl]||(s[Vl]=!0,Ed("selectionchange",!1,s))}}function Og(r,s,a,h){switch(ka(s)){case 1:var f=tt;break;case 4:f=hd;break;default:f=Pa}a=f.bind(null,s,a,r),f=void 0,!Gs||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),h?f!==void 0?r.addEventListener(s,a,{capture:!0,passive:f}):r.addEventListener(s,a,!0):f!==void 0?r.addEventListener(s,a,{passive:f}):r.addEventListener(s,a,!1)}function Td(r,s,a,h,f){var g=h;if(!(s&1)&&!(s&2)&&h!==null)e:for(;;){if(h===null)return;var v=h.tag;if(v===3||v===4){var R=h.stateNode.containerInfo;if(R===f||R.nodeType===8&&R.parentNode===f)break;if(v===4)for(v=h.return;v!==null;){var x=v.tag;if((x===3||x===4)&&(x=v.stateNode.containerInfo,x===f||x.nodeType===8&&x.parentNode===f))return;v=v.return}for(;R!==null;){if(v=cs(R),v===null)return;if(x=v.tag,x===5||x===6){h=g=v;continue e}R=R.parentNode}}h=h.return}Ea(function(){var B=g,Y=Hs(a),Z=[];e:{var Q=kg.get(r);if(Q!==void 0){var oe=so,pe=r;switch(r){case"keypress":if(io(a)===0)break e;case"keydown":case"keyup":oe=m;break;case"focusin":pe="focus",oe=lo;break;case"focusout":pe="blur",oe=lo;break;case"beforeblur":case"afterblur":oe=lo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=ao;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=Al;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=$;break;case Ag:case Rg:case Cg:oe=kr;break;case Pg:oe=Ge;break;case"scroll":oe=dd;break;case"wheel":oe=Be;break;case"copy":case"cut":case"paste":oe=Pl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=E}var me=(s&4)!==0,lt=!me&&r==="scroll",U=me?Q!==null?Q+"Capture":null:Q;me=[];for(var D=B,j;D!==null;){j=D;var ne=j.stateNode;if(j.tag===5&&ne!==null&&(j=ne,U!==null&&(ne=ut(D,U),ne!=null&&me.push(ja(D,ne,j)))),lt)break;D=D.return}0<me.length&&(Q=new oe(Q,pe,null,a,Y),Z.push({event:Q,listeners:me}))}}if(!(s&7)){e:{if(Q=r==="mouseover"||r==="pointerover",oe=r==="mouseout"||r==="pointerout",Q&&a!==Xi&&(pe=a.relatedTarget||a.fromElement)&&(cs(pe)||pe[xr]))break e;if((oe||Q)&&(Q=Y.window===Y?Y:(Q=Y.ownerDocument)?Q.defaultView||Q.parentWindow:window,oe?(pe=a.relatedTarget||a.toElement,oe=B,pe=pe?cs(pe):null,pe!==null&&(lt=Mn(pe),pe!==lt||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(oe=null,pe=B),oe!==pe)){if(me=ao,ne="onMouseLeave",U="onMouseEnter",D="mouse",(r==="pointerout"||r==="pointerover")&&(me=E,ne="onPointerLeave",U="onPointerEnter",D="pointer"),lt=oe==null?Q:_o(oe),j=pe==null?Q:_o(pe),Q=new me(ne,D+"leave",oe,a,Y),Q.target=lt,Q.relatedTarget=j,ne=null,cs(Y)===B&&(me=new me(U,D+"enter",pe,a,Y),me.target=j,me.relatedTarget=lt,ne=me),lt=ne,oe&&pe)t:{for(me=oe,U=pe,D=0,j=me;j;j=go(j))D++;for(j=0,ne=U;ne;ne=go(ne))j++;for(;0<D-j;)me=go(me),D--;for(;0<j-D;)U=go(U),j--;for(;D--;){if(me===U||U!==null&&me===U.alternate)break t;me=go(me),U=go(U)}me=null}else me=null;oe!==null&&bg(Z,Q,oe,me,!1),pe!==null&&lt!==null&&bg(Z,lt,pe,me,!0)}}e:{if(Q=B?_o(B):window,oe=Q.nodeName&&Q.nodeName.toLowerCase(),oe==="select"||oe==="input"&&Q.type==="file")var ge=dI;else if(fg(Q))if(mg)ge=gI;else{ge=pI;var Ee=fI}else(oe=Q.nodeName)&&oe.toLowerCase()==="input"&&(Q.type==="checkbox"||Q.type==="radio")&&(ge=mI);if(ge&&(ge=ge(r,B))){pg(Z,ge,a,Y);break e}Ee&&Ee(r,Q,B),r==="focusout"&&(Ee=Q._wrapperState)&&Ee.controlled&&Q.type==="number"&&Bs(Q,"number",Q.value)}switch(Ee=B?_o(B):window,r){case"focusin":(fg(Ee)||Ee.contentEditable==="true")&&(po=Ee,gd=B,La=null);break;case"focusout":La=gd=po=null;break;case"mousedown":yd=!0;break;case"contextmenu":case"mouseup":case"dragend":yd=!1,Ig(Z,a,Y);break;case"selectionchange":if(vI)break;case"keydown":case"keyup":Ig(Z,a,Y)}var Te;if(dt)e:{switch(r){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else fo?hg(r,a)&&(Re="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Re="onCompositionStart");Re&&(ls&&a.locale!=="ko"&&(fo||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&fo&&(Te=xa()):(dn=Y,ro="value"in dn?dn.value:dn.textContent,fo=!0)),Ee=Ml(B,Re),0<Ee.length&&(Re=new Oa(Re,r,null,a,Y),Z.push({event:Re,listeners:Ee}),Te?Re.data=Te:(Te=dg(a),Te!==null&&(Re.data=Te)))),(Te=fn?uI(r,a):lI(r,a))&&(B=Ml(B,"onBeforeInput"),0<B.length&&(Y=new Oa("onBeforeInput","beforeinput",null,a,Y),Z.push({event:Y,listeners:B}),Y.data=Te))}Dg(Z,s)})}function ja(r,s,a){return{instance:r,listener:s,currentTarget:a}}function Ml(r,s){for(var a=s+"Capture",h=[];r!==null;){var f=r,g=f.stateNode;f.tag===5&&g!==null&&(f=g,g=ut(r,a),g!=null&&h.unshift(ja(r,g,f)),g=ut(r,s),g!=null&&h.push(ja(r,g,f))),r=r.return}return h}function go(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function bg(r,s,a,h,f){for(var g=s._reactName,v=[];a!==null&&a!==h;){var R=a,x=R.alternate,B=R.stateNode;if(x!==null&&x===h)break;R.tag===5&&B!==null&&(R=B,f?(x=ut(a,g),x!=null&&v.unshift(ja(a,x,R))):f||(x=ut(a,g),x!=null&&v.push(ja(a,x,R)))),a=a.return}v.length!==0&&r.push({event:s,listeners:v})}var II=/\r\n?/g,SI=/\u0000|\uFFFD/g;function Vg(r){return(typeof r=="string"?r:""+r).replace(II,`
`).replace(SI,"")}function Ll(r,s,a){if(s=Vg(s),Vg(r)!==s&&a)throw Error(t(425))}function Fl(){}var Id=null,Sd=null;function Ad(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Rd=typeof setTimeout=="function"?setTimeout:void 0,AI=typeof clearTimeout=="function"?clearTimeout:void 0,Mg=typeof Promise=="function"?Promise:void 0,RI=typeof queueMicrotask=="function"?queueMicrotask:typeof Mg<"u"?function(r){return Mg.resolve(null).then(r).catch(CI)}:Rd;function CI(r){setTimeout(function(){throw r})}function Cd(r,s){var a=s,h=0;do{var f=a.nextSibling;if(r.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(h===0){r.removeChild(f),zn(s);return}h--}else a!=="$"&&a!=="$?"&&a!=="$!"||h++;a=f}while(a);zn(s)}function li(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return r}function Lg(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return r;s--}else a==="/$"&&s++}r=r.previousSibling}return null}var yo=Math.random().toString(36).slice(2),ur="__reactFiber$"+yo,za="__reactProps$"+yo,xr="__reactContainer$"+yo,Pd="__reactEvents$"+yo,PI="__reactListeners$"+yo,kI="__reactHandles$"+yo;function cs(r){var s=r[ur];if(s)return s;for(var a=r.parentNode;a;){if(s=a[xr]||a[ur]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(r=Lg(r);r!==null;){if(a=r[ur])return a;r=Lg(r)}return s}r=a,a=r.parentNode}return null}function Ba(r){return r=r[ur]||r[xr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function _o(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function Ul(r){return r[za]||null}var kd=[],vo=-1;function ci(r){return{current:r}}function Ze(r){0>vo||(r.current=kd[vo],kd[vo]=null,vo--)}function Xe(r,s){vo++,kd[vo]=r.current,r.current=s}var hi={},Mt=ci(hi),Xt=ci(!1),hs=hi;function wo(r,s){var a=r.type.contextTypes;if(!a)return hi;var h=r.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===s)return h.__reactInternalMemoizedMaskedChildContext;var f={},g;for(g in a)f[g]=s[g];return h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=s,r.__reactInternalMemoizedMaskedChildContext=f),f}function Jt(r){return r=r.childContextTypes,r!=null}function jl(){Ze(Xt),Ze(Mt)}function Fg(r,s,a){if(Mt.current!==hi)throw Error(t(168));Xe(Mt,s),Xe(Xt,a)}function Ug(r,s,a){var h=r.stateNode;if(s=s.childContextTypes,typeof h.getChildContext!="function")return a;h=h.getChildContext();for(var f in h)if(!(f in s))throw Error(t(108,be(r)||"Unknown",f));return se({},a,h)}function zl(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||hi,hs=Mt.current,Xe(Mt,r),Xe(Xt,Xt.current),!0}function jg(r,s,a){var h=r.stateNode;if(!h)throw Error(t(169));a?(r=Ug(r,s,hs),h.__reactInternalMemoizedMergedChildContext=r,Ze(Xt),Ze(Mt),Xe(Mt,r)):Ze(Xt),Xe(Xt,a)}var Nr=null,Bl=!1,xd=!1;function zg(r){Nr===null?Nr=[r]:Nr.push(r)}function xI(r){Bl=!0,zg(r)}function di(){if(!xd&&Nr!==null){xd=!0;var r=0,s=je;try{var a=Nr;for(je=1;r<a.length;r++){var h=a[r];do h=h(!0);while(h!==null)}Nr=null,Bl=!1}catch(f){throw Nr!==null&&(Nr=Nr.slice(r+1)),Js(ns,di),f}finally{je=s,xd=!1}}return null}var Eo=[],To=0,$l=null,ql=0,An=[],Rn=0,ds=null,Dr=1,Or="";function fs(r,s){Eo[To++]=ql,Eo[To++]=$l,$l=r,ql=s}function Bg(r,s,a){An[Rn++]=Dr,An[Rn++]=Or,An[Rn++]=ds,ds=r;var h=Dr;r=Or;var f=32-qt(h)-1;h&=~(1<<f),a+=1;var g=32-qt(s)+f;if(30<g){var v=f-f%5;g=(h&(1<<v)-1).toString(32),h>>=v,f-=v,Dr=1<<32-qt(s)+f|a<<f|h,Or=g+r}else Dr=1<<g|a<<f|h,Or=r}function Nd(r){r.return!==null&&(fs(r,1),Bg(r,1,0))}function Dd(r){for(;r===$l;)$l=Eo[--To],Eo[To]=null,ql=Eo[--To],Eo[To]=null;for(;r===ds;)ds=An[--Rn],An[Rn]=null,Or=An[--Rn],An[Rn]=null,Dr=An[--Rn],An[Rn]=null}var pn=null,mn=null,nt=!1,qn=null;function $g(r,s){var a=xn(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=r,s=r.deletions,s===null?(r.deletions=[a],r.flags|=16):s.push(a)}function qg(r,s){switch(r.tag){case 5:var a=r.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(r.stateNode=s,pn=r,mn=li(s.firstChild),!0):!1;case 6:return s=r.pendingProps===""||s.nodeType!==3?null:s,s!==null?(r.stateNode=s,pn=r,mn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=ds!==null?{id:Dr,overflow:Or}:null,r.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=xn(18,null,null,0),a.stateNode=s,a.return=r,r.child=a,pn=r,mn=null,!0):!1;default:return!1}}function Od(r){return(r.mode&1)!==0&&(r.flags&128)===0}function bd(r){if(nt){var s=mn;if(s){var a=s;if(!qg(r,s)){if(Od(r))throw Error(t(418));s=li(a.nextSibling);var h=pn;s&&qg(r,s)?$g(h,a):(r.flags=r.flags&-4097|2,nt=!1,pn=r)}}else{if(Od(r))throw Error(t(418));r.flags=r.flags&-4097|2,nt=!1,pn=r}}}function Hg(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;pn=r}function Hl(r){if(r!==pn)return!1;if(!nt)return Hg(r),nt=!0,!1;var s;if((s=r.tag!==3)&&!(s=r.tag!==5)&&(s=r.type,s=s!=="head"&&s!=="body"&&!Ad(r.type,r.memoizedProps)),s&&(s=mn)){if(Od(r))throw Wg(),Error(t(418));for(;s;)$g(r,s),s=li(s.nextSibling)}if(Hg(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(s===0){mn=li(r.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}r=r.nextSibling}mn=null}}else mn=pn?li(r.stateNode.nextSibling):null;return!0}function Wg(){for(var r=mn;r;)r=li(r.nextSibling)}function Io(){mn=pn=null,nt=!1}function Vd(r){qn===null?qn=[r]:qn.push(r)}var NI=te.ReactCurrentBatchConfig;function $a(r,s,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var h=a.stateNode}if(!h)throw Error(t(147,r));var f=h,g=""+r;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(v){var R=f.refs;v===null?delete R[g]:R[g]=v},s._stringRef=g,s)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function Wl(r,s){throw r=Object.prototype.toString.call(s),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r))}function Kg(r){var s=r._init;return s(r._payload)}function Gg(r){function s(U,D){if(r){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function a(U,D){if(!r)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function h(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function f(U,D){return U=wi(U,D),U.index=0,U.sibling=null,U}function g(U,D,j){return U.index=j,r?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=2,D):j):(U.flags|=2,D)):(U.flags|=1048576,D)}function v(U){return r&&U.alternate===null&&(U.flags|=2),U}function R(U,D,j,ne){return D===null||D.tag!==6?(D=Cf(j,U.mode,ne),D.return=U,D):(D=f(D,j),D.return=U,D)}function x(U,D,j,ne){var ge=j.type;return ge===P?Y(U,D,j.props.children,ne,j.key):D!==null&&(D.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===He&&Kg(ge)===D.type)?(ne=f(D,j.props),ne.ref=$a(U,D,j),ne.return=U,ne):(ne=gc(j.type,j.key,j.props,null,U.mode,ne),ne.ref=$a(U,D,j),ne.return=U,ne)}function B(U,D,j,ne){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Pf(j,U.mode,ne),D.return=U,D):(D=f(D,j.children||[]),D.return=U,D)}function Y(U,D,j,ne,ge){return D===null||D.tag!==7?(D=Es(j,U.mode,ne,ge),D.return=U,D):(D=f(D,j),D.return=U,D)}function Z(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Cf(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case de:return j=gc(D.type,D.key,D.props,null,U.mode,j),j.ref=$a(U,null,D),j.return=U,j;case ce:return D=Pf(D,U.mode,j),D.return=U,D;case He:var ne=D._init;return Z(U,ne(D._payload),j)}if(Er(D)||ue(D))return D=Es(D,U.mode,j,null),D.return=U,D;Wl(U,D)}return null}function Q(U,D,j,ne){var ge=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return ge!==null?null:R(U,D,""+j,ne);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case de:return j.key===ge?x(U,D,j,ne):null;case ce:return j.key===ge?B(U,D,j,ne):null;case He:return ge=j._init,Q(U,D,ge(j._payload),ne)}if(Er(j)||ue(j))return ge!==null?null:Y(U,D,j,ne,null);Wl(U,j)}return null}function oe(U,D,j,ne,ge){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return U=U.get(j)||null,R(D,U,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case de:return U=U.get(ne.key===null?j:ne.key)||null,x(D,U,ne,ge);case ce:return U=U.get(ne.key===null?j:ne.key)||null,B(D,U,ne,ge);case He:var Ee=ne._init;return oe(U,D,j,Ee(ne._payload),ge)}if(Er(ne)||ue(ne))return U=U.get(j)||null,Y(D,U,ne,ge,null);Wl(D,ne)}return null}function pe(U,D,j,ne){for(var ge=null,Ee=null,Te=D,Re=D=0,Rt=null;Te!==null&&Re<j.length;Re++){Te.index>Re?(Rt=Te,Te=null):Rt=Te.sibling;var We=Q(U,Te,j[Re],ne);if(We===null){Te===null&&(Te=Rt);break}r&&Te&&We.alternate===null&&s(U,Te),D=g(We,D,Re),Ee===null?ge=We:Ee.sibling=We,Ee=We,Te=Rt}if(Re===j.length)return a(U,Te),nt&&fs(U,Re),ge;if(Te===null){for(;Re<j.length;Re++)Te=Z(U,j[Re],ne),Te!==null&&(D=g(Te,D,Re),Ee===null?ge=Te:Ee.sibling=Te,Ee=Te);return nt&&fs(U,Re),ge}for(Te=h(U,Te);Re<j.length;Re++)Rt=oe(Te,U,Re,j[Re],ne),Rt!==null&&(r&&Rt.alternate!==null&&Te.delete(Rt.key===null?Re:Rt.key),D=g(Rt,D,Re),Ee===null?ge=Rt:Ee.sibling=Rt,Ee=Rt);return r&&Te.forEach(function(Ei){return s(U,Ei)}),nt&&fs(U,Re),ge}function me(U,D,j,ne){var ge=ue(j);if(typeof ge!="function")throw Error(t(150));if(j=ge.call(j),j==null)throw Error(t(151));for(var Ee=ge=null,Te=D,Re=D=0,Rt=null,We=j.next();Te!==null&&!We.done;Re++,We=j.next()){Te.index>Re?(Rt=Te,Te=null):Rt=Te.sibling;var Ei=Q(U,Te,We.value,ne);if(Ei===null){Te===null&&(Te=Rt);break}r&&Te&&Ei.alternate===null&&s(U,Te),D=g(Ei,D,Re),Ee===null?ge=Ei:Ee.sibling=Ei,Ee=Ei,Te=Rt}if(We.done)return a(U,Te),nt&&fs(U,Re),ge;if(Te===null){for(;!We.done;Re++,We=j.next())We=Z(U,We.value,ne),We!==null&&(D=g(We,D,Re),Ee===null?ge=We:Ee.sibling=We,Ee=We);return nt&&fs(U,Re),ge}for(Te=h(U,Te);!We.done;Re++,We=j.next())We=oe(Te,U,Re,We.value,ne),We!==null&&(r&&We.alternate!==null&&Te.delete(We.key===null?Re:We.key),D=g(We,D,Re),Ee===null?ge=We:Ee.sibling=We,Ee=We);return r&&Te.forEach(function(lS){return s(U,lS)}),nt&&fs(U,Re),ge}function lt(U,D,j,ne){if(typeof j=="object"&&j!==null&&j.type===P&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case de:e:{for(var ge=j.key,Ee=D;Ee!==null;){if(Ee.key===ge){if(ge=j.type,ge===P){if(Ee.tag===7){a(U,Ee.sibling),D=f(Ee,j.props.children),D.return=U,U=D;break e}}else if(Ee.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===He&&Kg(ge)===Ee.type){a(U,Ee.sibling),D=f(Ee,j.props),D.ref=$a(U,Ee,j),D.return=U,U=D;break e}a(U,Ee);break}else s(U,Ee);Ee=Ee.sibling}j.type===P?(D=Es(j.props.children,U.mode,ne,j.key),D.return=U,U=D):(ne=gc(j.type,j.key,j.props,null,U.mode,ne),ne.ref=$a(U,D,j),ne.return=U,U=ne)}return v(U);case ce:e:{for(Ee=j.key;D!==null;){if(D.key===Ee)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){a(U,D.sibling),D=f(D,j.children||[]),D.return=U,U=D;break e}else{a(U,D);break}else s(U,D);D=D.sibling}D=Pf(j,U.mode,ne),D.return=U,U=D}return v(U);case He:return Ee=j._init,lt(U,D,Ee(j._payload),ne)}if(Er(j))return pe(U,D,j,ne);if(ue(j))return me(U,D,j,ne);Wl(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(a(U,D.sibling),D=f(D,j),D.return=U,U=D):(a(U,D),D=Cf(j,U.mode,ne),D.return=U,U=D),v(U)):a(U,D)}return lt}var So=Gg(!0),Qg=Gg(!1),Kl=ci(null),Gl=null,Ao=null,Md=null;function Ld(){Md=Ao=Gl=null}function Fd(r){var s=Kl.current;Ze(Kl),r._currentValue=s}function Ud(r,s,a){for(;r!==null;){var h=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,h!==null&&(h.childLanes|=s)):h!==null&&(h.childLanes&s)!==s&&(h.childLanes|=s),r===a)break;r=r.return}}function Ro(r,s){Gl=r,Md=Ao=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&s&&(Zt=!0),r.firstContext=null)}function Cn(r){var s=r._currentValue;if(Md!==r)if(r={context:r,memoizedValue:s,next:null},Ao===null){if(Gl===null)throw Error(t(308));Ao=r,Gl.dependencies={lanes:0,firstContext:r}}else Ao=Ao.next=r;return s}var ps=null;function jd(r){ps===null?ps=[r]:ps.push(r)}function Yg(r,s,a,h){var f=s.interleaved;return f===null?(a.next=a,jd(s)):(a.next=f.next,f.next=a),s.interleaved=a,br(r,h)}function br(r,s){r.lanes|=s;var a=r.alternate;for(a!==null&&(a.lanes|=s),a=r,r=r.return;r!==null;)r.childLanes|=s,a=r.alternate,a!==null&&(a.childLanes|=s),a=r,r=r.return;return a.tag===3?a.stateNode:null}var fi=!1;function zd(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xg(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Vr(r,s){return{eventTime:r,lane:s,tag:0,payload:null,callback:null,next:null}}function pi(r,s,a){var h=r.updateQueue;if(h===null)return null;if(h=h.shared,qe&2){var f=h.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),h.pending=s,br(r,a)}return f=h.interleaved,f===null?(s.next=s,jd(h)):(s.next=f.next,f.next=s),h.interleaved=s,br(r,a)}function Ql(r,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ri(r,a)}}function Jg(r,s){var a=r.updateQueue,h=r.alternate;if(h!==null&&(h=h.updateQueue,a===h)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var v={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?f=g=v:g=g.next=v,a=a.next}while(a!==null);g===null?f=g=s:g=g.next=s}else f=g=s;a={baseState:h.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:h.shared,effects:h.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=s:r.next=s,a.lastBaseUpdate=s}function Yl(r,s,a,h){var f=r.updateQueue;fi=!1;var g=f.firstBaseUpdate,v=f.lastBaseUpdate,R=f.shared.pending;if(R!==null){f.shared.pending=null;var x=R,B=x.next;x.next=null,v===null?g=B:v.next=B,v=x;var Y=r.alternate;Y!==null&&(Y=Y.updateQueue,R=Y.lastBaseUpdate,R!==v&&(R===null?Y.firstBaseUpdate=B:R.next=B,Y.lastBaseUpdate=x))}if(g!==null){var Z=f.baseState;v=0,Y=B=x=null,R=g;do{var Q=R.lane,oe=R.eventTime;if((h&Q)===Q){Y!==null&&(Y=Y.next={eventTime:oe,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var pe=r,me=R;switch(Q=s,oe=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Z=pe.call(oe,Z,Q);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,Q=typeof pe=="function"?pe.call(oe,Z,Q):pe,Q==null)break e;Z=se({},Z,Q);break e;case 2:fi=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Q=f.effects,Q===null?f.effects=[R]:Q.push(R))}else oe={eventTime:oe,lane:Q,tag:R.tag,payload:R.payload,callback:R.callback,next:null},Y===null?(B=Y=oe,x=Z):Y=Y.next=oe,v|=Q;if(R=R.next,R===null){if(R=f.shared.pending,R===null)break;Q=R,R=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);if(Y===null&&(x=Z),f.baseState=x,f.firstBaseUpdate=B,f.lastBaseUpdate=Y,s=f.shared.interleaved,s!==null){f=s;do v|=f.lane,f=f.next;while(f!==s)}else g===null&&(f.shared.lanes=0);ys|=v,r.lanes=v,r.memoizedState=Z}}function Zg(r,s,a){if(r=s.effects,s.effects=null,r!==null)for(s=0;s<r.length;s++){var h=r[s],f=h.callback;if(f!==null){if(h.callback=null,h=a,typeof f!="function")throw Error(t(191,f));f.call(h)}}}var qa={},lr=ci(qa),Ha=ci(qa),Wa=ci(qa);function ms(r){if(r===qa)throw Error(t(174));return r}function Bd(r,s){switch(Xe(Wa,s),Xe(Ha,r),Xe(lr,qa),r=s.nodeType,r){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:yt(null,"");break;default:r=r===8?s.parentNode:s,s=r.namespaceURI||null,r=r.tagName,s=yt(s,r)}Ze(lr),Xe(lr,s)}function Co(){Ze(lr),Ze(Ha),Ze(Wa)}function ey(r){ms(Wa.current);var s=ms(lr.current),a=yt(s,r.type);s!==a&&(Xe(Ha,r),Xe(lr,a))}function $d(r){Ha.current===r&&(Ze(lr),Ze(Ha))}var rt=ci(0);function Xl(r){for(var s=r;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var qd=[];function Hd(){for(var r=0;r<qd.length;r++)qd[r]._workInProgressVersionPrimary=null;qd.length=0}var Jl=te.ReactCurrentDispatcher,Wd=te.ReactCurrentBatchConfig,gs=0,it=null,vt=null,St=null,Zl=!1,Ka=!1,Ga=0,DI=0;function Lt(){throw Error(t(321))}function Kd(r,s){if(s===null)return!1;for(var a=0;a<s.length&&a<r.length;a++)if(!$n(r[a],s[a]))return!1;return!0}function Gd(r,s,a,h,f,g){if(gs=g,it=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Jl.current=r===null||r.memoizedState===null?MI:LI,r=a(h,f),Ka){g=0;do{if(Ka=!1,Ga=0,25<=g)throw Error(t(301));g+=1,St=vt=null,s.updateQueue=null,Jl.current=FI,r=a(h,f)}while(Ka)}if(Jl.current=nc,s=vt!==null&&vt.next!==null,gs=0,St=vt=it=null,Zl=!1,s)throw Error(t(300));return r}function Qd(){var r=Ga!==0;return Ga=0,r}function cr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return St===null?it.memoizedState=St=r:St=St.next=r,St}function Pn(){if(vt===null){var r=it.alternate;r=r!==null?r.memoizedState:null}else r=vt.next;var s=St===null?it.memoizedState:St.next;if(s!==null)St=s,vt=r;else{if(r===null)throw Error(t(310));vt=r,r={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},St===null?it.memoizedState=St=r:St=St.next=r}return St}function Qa(r,s){return typeof s=="function"?s(r):s}function Yd(r){var s=Pn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=vt,f=h.baseQueue,g=a.pending;if(g!==null){if(f!==null){var v=f.next;f.next=g.next,g.next=v}h.baseQueue=f=g,a.pending=null}if(f!==null){g=f.next,h=h.baseState;var R=v=null,x=null,B=g;do{var Y=B.lane;if((gs&Y)===Y)x!==null&&(x=x.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),h=B.hasEagerState?B.eagerState:r(h,B.action);else{var Z={lane:Y,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};x===null?(R=x=Z,v=h):x=x.next=Z,it.lanes|=Y,ys|=Y}B=B.next}while(B!==null&&B!==g);x===null?v=h:x.next=R,$n(h,s.memoizedState)||(Zt=!0),s.memoizedState=h,s.baseState=v,s.baseQueue=x,a.lastRenderedState=h}if(r=a.interleaved,r!==null){f=r;do g=f.lane,it.lanes|=g,ys|=g,f=f.next;while(f!==r)}else f===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xd(r){var s=Pn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var h=a.dispatch,f=a.pending,g=s.memoizedState;if(f!==null){a.pending=null;var v=f=f.next;do g=r(g,v.action),v=v.next;while(v!==f);$n(g,s.memoizedState)||(Zt=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,h]}function ty(){}function ny(r,s){var a=it,h=Pn(),f=s(),g=!$n(h.memoizedState,f);if(g&&(h.memoizedState=f,Zt=!0),h=h.queue,Jd(sy.bind(null,a,h,r),[r]),h.getSnapshot!==s||g||St!==null&&St.memoizedState.tag&1){if(a.flags|=2048,Ya(9,iy.bind(null,a,h,f,s),void 0,null),At===null)throw Error(t(349));gs&30||ry(a,s,f)}return f}function ry(r,s,a){r.flags|=16384,r={getSnapshot:s,value:a},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.stores=[r]):(a=s.stores,a===null?s.stores=[r]:a.push(r))}function iy(r,s,a,h){s.value=a,s.getSnapshot=h,oy(s)&&ay(r)}function sy(r,s,a){return a(function(){oy(s)&&ay(r)})}function oy(r){var s=r.getSnapshot;r=r.value;try{var a=s();return!$n(r,a)}catch{return!0}}function ay(r){var s=br(r,1);s!==null&&Gn(s,r,1,-1)}function uy(r){var s=cr();return typeof r=="function"&&(r=r()),s.memoizedState=s.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qa,lastRenderedState:r},s.queue=r,r=r.dispatch=VI.bind(null,it,r),[s.memoizedState,r]}function Ya(r,s,a,h){return r={tag:r,create:s,destroy:a,deps:h,next:null},s=it.updateQueue,s===null?(s={lastEffect:null,stores:null},it.updateQueue=s,s.lastEffect=r.next=r):(a=s.lastEffect,a===null?s.lastEffect=r.next=r:(h=a.next,a.next=r,r.next=h,s.lastEffect=r)),r}function ly(){return Pn().memoizedState}function ec(r,s,a,h){var f=cr();it.flags|=r,f.memoizedState=Ya(1|s,a,void 0,h===void 0?null:h)}function tc(r,s,a,h){var f=Pn();h=h===void 0?null:h;var g=void 0;if(vt!==null){var v=vt.memoizedState;if(g=v.destroy,h!==null&&Kd(h,v.deps)){f.memoizedState=Ya(s,a,g,h);return}}it.flags|=r,f.memoizedState=Ya(1|s,a,g,h)}function cy(r,s){return ec(8390656,8,r,s)}function Jd(r,s){return tc(2048,8,r,s)}function hy(r,s){return tc(4,2,r,s)}function dy(r,s){return tc(4,4,r,s)}function fy(r,s){if(typeof s=="function")return r=r(),s(r),function(){s(null)};if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function py(r,s,a){return a=a!=null?a.concat([r]):null,tc(4,4,fy.bind(null,s,r),a)}function Zd(){}function my(r,s){var a=Pn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Kd(s,h[1])?h[0]:(a.memoizedState=[r,s],r)}function gy(r,s){var a=Pn();s=s===void 0?null:s;var h=a.memoizedState;return h!==null&&s!==null&&Kd(s,h[1])?h[0]:(r=r(),a.memoizedState=[r,s],r)}function yy(r,s,a){return gs&21?($n(a,s)||(a=ss(),it.lanes|=a,ys|=a,r.baseState=!0),s):(r.baseState&&(r.baseState=!1,Zt=!0),r.memoizedState=a)}function OI(r,s){var a=je;je=a!==0&&4>a?a:4,r(!0);var h=Wd.transition;Wd.transition={};try{r(!1),s()}finally{je=a,Wd.transition=h}}function _y(){return Pn().memoizedState}function bI(r,s,a){var h=_i(r);if(a={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null},vy(r))wy(s,a);else if(a=Yg(r,s,a,h),a!==null){var f=Kt();Gn(a,r,h,f),Ey(a,s,h)}}function VI(r,s,a){var h=_i(r),f={lane:h,action:a,hasEagerState:!1,eagerState:null,next:null};if(vy(r))wy(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var v=s.lastRenderedState,R=g(v,a);if(f.hasEagerState=!0,f.eagerState=R,$n(R,v)){var x=s.interleaved;x===null?(f.next=f,jd(s)):(f.next=x.next,x.next=f),s.interleaved=f;return}}catch{}finally{}a=Yg(r,s,f,h),a!==null&&(f=Kt(),Gn(a,r,h,f),Ey(a,s,h))}}function vy(r){var s=r.alternate;return r===it||s!==null&&s===it}function wy(r,s){Ka=Zl=!0;var a=r.pending;a===null?s.next=s:(s.next=a.next,a.next=s),r.pending=s}function Ey(r,s,a){if(a&4194240){var h=s.lanes;h&=r.pendingLanes,a|=h,s.lanes=a,ri(r,a)}}var nc={readContext:Cn,useCallback:Lt,useContext:Lt,useEffect:Lt,useImperativeHandle:Lt,useInsertionEffect:Lt,useLayoutEffect:Lt,useMemo:Lt,useReducer:Lt,useRef:Lt,useState:Lt,useDebugValue:Lt,useDeferredValue:Lt,useTransition:Lt,useMutableSource:Lt,useSyncExternalStore:Lt,useId:Lt,unstable_isNewReconciler:!1},MI={readContext:Cn,useCallback:function(r,s){return cr().memoizedState=[r,s===void 0?null:s],r},useContext:Cn,useEffect:cy,useImperativeHandle:function(r,s,a){return a=a!=null?a.concat([r]):null,ec(4194308,4,fy.bind(null,s,r),a)},useLayoutEffect:function(r,s){return ec(4194308,4,r,s)},useInsertionEffect:function(r,s){return ec(4,2,r,s)},useMemo:function(r,s){var a=cr();return s=s===void 0?null:s,r=r(),a.memoizedState=[r,s],r},useReducer:function(r,s,a){var h=cr();return s=a!==void 0?a(s):s,h.memoizedState=h.baseState=s,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:s},h.queue=r,r=r.dispatch=bI.bind(null,it,r),[h.memoizedState,r]},useRef:function(r){var s=cr();return r={current:r},s.memoizedState=r},useState:uy,useDebugValue:Zd,useDeferredValue:function(r){return cr().memoizedState=r},useTransition:function(){var r=uy(!1),s=r[0];return r=OI.bind(null,r[1]),cr().memoizedState=r,[s,r]},useMutableSource:function(){},useSyncExternalStore:function(r,s,a){var h=it,f=cr();if(nt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),At===null)throw Error(t(349));gs&30||ry(h,s,a)}f.memoizedState=a;var g={value:a,getSnapshot:s};return f.queue=g,cy(sy.bind(null,h,g,r),[r]),h.flags|=2048,Ya(9,iy.bind(null,h,g,a,s),void 0,null),a},useId:function(){var r=cr(),s=At.identifierPrefix;if(nt){var a=Or,h=Dr;a=(h&~(1<<32-qt(h)-1)).toString(32)+a,s=":"+s+"R"+a,a=Ga++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=DI++,s=":"+s+"r"+a.toString(32)+":";return r.memoizedState=s},unstable_isNewReconciler:!1},LI={readContext:Cn,useCallback:my,useContext:Cn,useEffect:Jd,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:Yd,useRef:ly,useState:function(){return Yd(Qa)},useDebugValue:Zd,useDeferredValue:function(r){var s=Pn();return yy(s,vt.memoizedState,r)},useTransition:function(){var r=Yd(Qa)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:ty,useSyncExternalStore:ny,useId:_y,unstable_isNewReconciler:!1},FI={readContext:Cn,useCallback:my,useContext:Cn,useEffect:Jd,useImperativeHandle:py,useInsertionEffect:hy,useLayoutEffect:dy,useMemo:gy,useReducer:Xd,useRef:ly,useState:function(){return Xd(Qa)},useDebugValue:Zd,useDeferredValue:function(r){var s=Pn();return vt===null?s.memoizedState=r:yy(s,vt.memoizedState,r)},useTransition:function(){var r=Xd(Qa)[0],s=Pn().memoizedState;return[r,s]},useMutableSource:ty,useSyncExternalStore:ny,useId:_y,unstable_isNewReconciler:!1};function Hn(r,s){if(r&&r.defaultProps){s=se({},s),r=r.defaultProps;for(var a in r)s[a]===void 0&&(s[a]=r[a]);return s}return s}function ef(r,s,a,h){s=r.memoizedState,a=a(h,s),a=a==null?s:se({},s,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var rc={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,s,a){r=r._reactInternals;var h=Kt(),f=_i(r),g=Vr(h,f);g.payload=s,a!=null&&(g.callback=a),s=pi(r,g,f),s!==null&&(Gn(s,r,f,h),Ql(s,r,f))},enqueueReplaceState:function(r,s,a){r=r._reactInternals;var h=Kt(),f=_i(r),g=Vr(h,f);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=pi(r,g,f),s!==null&&(Gn(s,r,f,h),Ql(s,r,f))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var a=Kt(),h=_i(r),f=Vr(a,h);f.tag=2,s!=null&&(f.callback=s),s=pi(r,f,h),s!==null&&(Gn(s,r,h,a),Ql(s,r,h))}};function Ty(r,s,a,h,f,g,v){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(h,g,v):s.prototype&&s.prototype.isPureReactComponent?!Ma(a,h)||!Ma(f,g):!0}function Iy(r,s,a){var h=!1,f=hi,g=s.contextType;return typeof g=="object"&&g!==null?g=Cn(g):(f=Jt(s)?hs:Mt.current,h=s.contextTypes,g=(h=h!=null)?wo(r,f):hi),s=new s(a,g),r.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=rc,r.stateNode=s,s._reactInternals=r,h&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=g),s}function Sy(r,s,a,h){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,h),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,h),s.state!==r&&rc.enqueueReplaceState(s,s.state,null)}function tf(r,s,a,h){var f=r.stateNode;f.props=a,f.state=r.memoizedState,f.refs={},zd(r);var g=s.contextType;typeof g=="object"&&g!==null?f.context=Cn(g):(g=Jt(s)?hs:Mt.current,f.context=wo(r,g)),f.state=r.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ef(r,s,g,a),f.state=r.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(s=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),s!==f.state&&rc.enqueueReplaceState(f,f.state,null),Yl(r,a,f,h),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function Po(r,s){try{var a="",h=s;do a+=Ie(h),h=h.return;while(h);var f=a}catch(g){f=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:s,stack:f,digest:null}}function nf(r,s,a){return{value:r,source:null,stack:a??null,digest:s??null}}function rf(r,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var UI=typeof WeakMap=="function"?WeakMap:Map;function Ay(r,s,a){a=Vr(-1,a),a.tag=3,a.payload={element:null};var h=s.value;return a.callback=function(){cc||(cc=!0,vf=h),rf(r,s)},a}function Ry(r,s,a){a=Vr(-1,a),a.tag=3;var h=r.type.getDerivedStateFromError;if(typeof h=="function"){var f=s.value;a.payload=function(){return h(f)},a.callback=function(){rf(r,s)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){rf(r,s),typeof h!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var v=s.stack;this.componentDidCatch(s.value,{componentStack:v!==null?v:""})}),a}function Cy(r,s,a){var h=r.pingCache;if(h===null){h=r.pingCache=new UI;var f=new Set;h.set(s,f)}else f=h.get(s),f===void 0&&(f=new Set,h.set(s,f));f.has(a)||(f.add(a),r=ZI.bind(null,r,s,a),s.then(r,r))}function Py(r){do{var s;if((s=r.tag===13)&&(s=r.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return r;r=r.return}while(r!==null);return null}function ky(r,s,a,h,f){return r.mode&1?(r.flags|=65536,r.lanes=f,r):(r===s?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Vr(-1,1),s.tag=2,pi(a,s,1))),a.lanes|=1),r)}var jI=te.ReactCurrentOwner,Zt=!1;function Wt(r,s,a,h){s.child=r===null?Qg(s,null,a,h):So(s,r.child,a,h)}function xy(r,s,a,h,f){a=a.render;var g=s.ref;return Ro(s,f),h=Gd(r,s,a,h,g,f),a=Qd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Mr(r,s,f)):(nt&&a&&Nd(s),s.flags|=1,Wt(r,s,h,f),s.child)}function Ny(r,s,a,h,f){if(r===null){var g=a.type;return typeof g=="function"&&!Rf(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,Dy(r,s,g,h,f)):(r=gc(a.type,null,h,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!(r.lanes&f)){var v=g.memoizedProps;if(a=a.compare,a=a!==null?a:Ma,a(v,h)&&r.ref===s.ref)return Mr(r,s,f)}return s.flags|=1,r=wi(g,h),r.ref=s.ref,r.return=s,s.child=r}function Dy(r,s,a,h,f){if(r!==null){var g=r.memoizedProps;if(Ma(g,h)&&r.ref===s.ref)if(Zt=!1,s.pendingProps=h=g,(r.lanes&f)!==0)r.flags&131072&&(Zt=!0);else return s.lanes=r.lanes,Mr(r,s,f)}return sf(r,s,a,h,f)}function Oy(r,s,a){var h=s.pendingProps,f=h.children,g=r!==null?r.memoizedState:null;if(h.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xe(xo,gn),gn|=a;else{if(!(a&1073741824))return r=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:r,cachePool:null,transitions:null},s.updateQueue=null,Xe(xo,gn),gn|=r,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=g!==null?g.baseLanes:a,Xe(xo,gn),gn|=h}else g!==null?(h=g.baseLanes|a,s.memoizedState=null):h=a,Xe(xo,gn),gn|=h;return Wt(r,s,f,a),s.child}function by(r,s){var a=s.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function sf(r,s,a,h,f){var g=Jt(a)?hs:Mt.current;return g=wo(s,g),Ro(s,f),a=Gd(r,s,a,h,g,f),h=Qd(),r!==null&&!Zt?(s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~f,Mr(r,s,f)):(nt&&h&&Nd(s),s.flags|=1,Wt(r,s,a,f),s.child)}function Vy(r,s,a,h,f){if(Jt(a)){var g=!0;zl(s)}else g=!1;if(Ro(s,f),s.stateNode===null)sc(r,s),Iy(s,a,h),tf(s,a,h,f),h=!0;else if(r===null){var v=s.stateNode,R=s.memoizedProps;v.props=R;var x=v.context,B=a.contextType;typeof B=="object"&&B!==null?B=Cn(B):(B=Jt(a)?hs:Mt.current,B=wo(s,B));var Y=a.getDerivedStateFromProps,Z=typeof Y=="function"||typeof v.getSnapshotBeforeUpdate=="function";Z||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==h||x!==B)&&Sy(s,v,h,B),fi=!1;var Q=s.memoizedState;v.state=Q,Yl(s,h,v,f),x=s.memoizedState,R!==h||Q!==x||Xt.current||fi?(typeof Y=="function"&&(ef(s,a,Y,h),x=s.memoizedState),(R=fi||Ty(s,a,R,h,Q,x,B))?(Z||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(s.flags|=4194308)):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=h,s.memoizedState=x),v.props=h,v.state=x,v.context=B,h=R):(typeof v.componentDidMount=="function"&&(s.flags|=4194308),h=!1)}else{v=s.stateNode,Xg(r,s),R=s.memoizedProps,B=s.type===s.elementType?R:Hn(s.type,R),v.props=B,Z=s.pendingProps,Q=v.context,x=a.contextType,typeof x=="object"&&x!==null?x=Cn(x):(x=Jt(a)?hs:Mt.current,x=wo(s,x));var oe=a.getDerivedStateFromProps;(Y=typeof oe=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(R!==Z||Q!==x)&&Sy(s,v,h,x),fi=!1,Q=s.memoizedState,v.state=Q,Yl(s,h,v,f);var pe=s.memoizedState;R!==Z||Q!==pe||Xt.current||fi?(typeof oe=="function"&&(ef(s,a,oe,h),pe=s.memoizedState),(B=fi||Ty(s,a,B,h,Q,pe,x)||!1)?(Y||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(h,pe,x),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(h,pe,x)),typeof v.componentDidUpdate=="function"&&(s.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),s.memoizedProps=h,s.memoizedState=pe),v.props=h,v.state=pe,v.context=x,h=B):(typeof v.componentDidUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Q===r.memoizedState||(s.flags|=1024),h=!1)}return of(r,s,a,h,g,f)}function of(r,s,a,h,f,g){by(r,s);var v=(s.flags&128)!==0;if(!h&&!v)return f&&jg(s,a,!1),Mr(r,s,g);h=s.stateNode,jI.current=s;var R=v&&typeof a.getDerivedStateFromError!="function"?null:h.render();return s.flags|=1,r!==null&&v?(s.child=So(s,r.child,null,g),s.child=So(s,null,R,g)):Wt(r,s,R,g),s.memoizedState=h.state,f&&jg(s,a,!0),s.child}function My(r){var s=r.stateNode;s.pendingContext?Fg(r,s.pendingContext,s.pendingContext!==s.context):s.context&&Fg(r,s.context,!1),Bd(r,s.containerInfo)}function Ly(r,s,a,h,f){return Io(),Vd(f),s.flags|=256,Wt(r,s,a,h),s.child}var af={dehydrated:null,treeContext:null,retryLane:0};function uf(r){return{baseLanes:r,cachePool:null,transitions:null}}function Fy(r,s,a){var h=s.pendingProps,f=rt.current,g=!1,v=(s.flags&128)!==0,R;if((R=v)||(R=r!==null&&r.memoizedState===null?!1:(f&2)!==0),R?(g=!0,s.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Xe(rt,f&1),r===null)return bd(s),r=s.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(s.mode&1?r.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(v=h.children,r=h.fallback,g?(h=s.mode,g=s.child,v={mode:"hidden",children:v},!(h&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=yc(v,h,0,null),r=Es(r,h,a,null),g.return=s,r.return=s,g.sibling=r,s.child=g,s.child.memoizedState=uf(a),s.memoizedState=af,r):lf(s,v));if(f=r.memoizedState,f!==null&&(R=f.dehydrated,R!==null))return zI(r,s,v,h,R,f,a);if(g){g=h.fallback,v=s.mode,f=r.child,R=f.sibling;var x={mode:"hidden",children:h.children};return!(v&1)&&s.child!==f?(h=s.child,h.childLanes=0,h.pendingProps=x,s.deletions=null):(h=wi(f,x),h.subtreeFlags=f.subtreeFlags&14680064),R!==null?g=wi(R,g):(g=Es(g,v,a,null),g.flags|=2),g.return=s,h.return=s,h.sibling=g,s.child=h,h=g,g=s.child,v=r.child.memoizedState,v=v===null?uf(a):{baseLanes:v.baseLanes|a,cachePool:null,transitions:v.transitions},g.memoizedState=v,g.childLanes=r.childLanes&~a,s.memoizedState=af,h}return g=r.child,r=g.sibling,h=wi(g,{mode:"visible",children:h.children}),!(s.mode&1)&&(h.lanes=a),h.return=s,h.sibling=null,r!==null&&(a=s.deletions,a===null?(s.deletions=[r],s.flags|=16):a.push(r)),s.child=h,s.memoizedState=null,h}function lf(r,s){return s=yc({mode:"visible",children:s},r.mode,0,null),s.return=r,r.child=s}function ic(r,s,a,h){return h!==null&&Vd(h),So(s,r.child,null,a),r=lf(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function zI(r,s,a,h,f,g,v){if(a)return s.flags&256?(s.flags&=-257,h=nf(Error(t(422))),ic(r,s,v,h)):s.memoizedState!==null?(s.child=r.child,s.flags|=128,null):(g=h.fallback,f=s.mode,h=yc({mode:"visible",children:h.children},f,0,null),g=Es(g,f,v,null),g.flags|=2,h.return=s,g.return=s,h.sibling=g,s.child=h,s.mode&1&&So(s,r.child,null,v),s.child.memoizedState=uf(v),s.memoizedState=af,g);if(!(s.mode&1))return ic(r,s,v,null);if(f.data==="$!"){if(h=f.nextSibling&&f.nextSibling.dataset,h)var R=h.dgst;return h=R,g=Error(t(419)),h=nf(g,h,void 0),ic(r,s,v,h)}if(R=(v&r.childLanes)!==0,Zt||R){if(h=At,h!==null){switch(v&-v){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=f&(h.suspendedLanes|v)?0:f,f!==0&&f!==g.retryLane&&(g.retryLane=f,br(r,f),Gn(h,r,f,-1))}return Af(),h=nf(Error(t(421))),ic(r,s,v,h)}return f.data==="$?"?(s.flags|=128,s.child=r.child,s=eS.bind(null,r),f._reactRetry=s,null):(r=g.treeContext,mn=li(f.nextSibling),pn=s,nt=!0,qn=null,r!==null&&(An[Rn++]=Dr,An[Rn++]=Or,An[Rn++]=ds,Dr=r.id,Or=r.overflow,ds=s),s=lf(s,h.children),s.flags|=4096,s)}function Uy(r,s,a){r.lanes|=s;var h=r.alternate;h!==null&&(h.lanes|=s),Ud(r.return,s,a)}function cf(r,s,a,h,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:h,tail:a,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=h,g.tail=a,g.tailMode=f)}function jy(r,s,a){var h=s.pendingProps,f=h.revealOrder,g=h.tail;if(Wt(r,s,h.children,a),h=rt.current,h&2)h=h&1|2,s.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Uy(r,a,s);else if(r.tag===19)Uy(r,a,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}h&=1}if(Xe(rt,h),!(s.mode&1))s.memoizedState=null;else switch(f){case"forwards":for(a=s.child,f=null;a!==null;)r=a.alternate,r!==null&&Xl(r)===null&&(f=a),a=a.sibling;a=f,a===null?(f=s.child,s.child=null):(f=a.sibling,a.sibling=null),cf(s,!1,f,a,g);break;case"backwards":for(a=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&Xl(r)===null){s.child=f;break}r=f.sibling,f.sibling=a,a=f,f=r}cf(s,!0,a,null,g);break;case"together":cf(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function sc(r,s){!(s.mode&1)&&r!==null&&(r.alternate=null,s.alternate=null,s.flags|=2)}function Mr(r,s,a){if(r!==null&&(s.dependencies=r.dependencies),ys|=s.lanes,!(a&s.childLanes))return null;if(r!==null&&s.child!==r.child)throw Error(t(153));if(s.child!==null){for(r=s.child,a=wi(r,r.pendingProps),s.child=a,a.return=s;r.sibling!==null;)r=r.sibling,a=a.sibling=wi(r,r.pendingProps),a.return=s;a.sibling=null}return s.child}function BI(r,s,a){switch(s.tag){case 3:My(s),Io();break;case 5:ey(s);break;case 1:Jt(s.type)&&zl(s);break;case 4:Bd(s,s.stateNode.containerInfo);break;case 10:var h=s.type._context,f=s.memoizedProps.value;Xe(Kl,h._currentValue),h._currentValue=f;break;case 13:if(h=s.memoizedState,h!==null)return h.dehydrated!==null?(Xe(rt,rt.current&1),s.flags|=128,null):a&s.child.childLanes?Fy(r,s,a):(Xe(rt,rt.current&1),r=Mr(r,s,a),r!==null?r.sibling:null);Xe(rt,rt.current&1);break;case 19:if(h=(a&s.childLanes)!==0,r.flags&128){if(h)return jy(r,s,a);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Xe(rt,rt.current),h)break;return null;case 22:case 23:return s.lanes=0,Oy(r,s,a)}return Mr(r,s,a)}var zy,hf,By,$y;zy=function(r,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},hf=function(){},By=function(r,s,a,h){var f=r.memoizedProps;if(f!==h){r=s.stateNode,ms(lr.current);var g=null;switch(a){case"input":f=Gi(r,f),h=Gi(r,h),g=[];break;case"select":f=se({},f,{value:void 0}),h=se({},h,{value:void 0}),g=[];break;case"textarea":f=ha(r,f),h=ha(r,h),g=[];break;default:typeof f.onClick!="function"&&typeof h.onClick=="function"&&(r.onclick=Fl)}ya(a,h);var v;a=null;for(B in f)if(!h.hasOwnProperty(B)&&f.hasOwnProperty(B)&&f[B]!=null)if(B==="style"){var R=f[B];for(v in R)R.hasOwnProperty(v)&&(a||(a={}),a[v]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?g||(g=[]):(g=g||[]).push(B,null));for(B in h){var x=h[B];if(R=f!=null?f[B]:void 0,h.hasOwnProperty(B)&&x!==R&&(x!=null||R!=null))if(B==="style")if(R){for(v in R)!R.hasOwnProperty(v)||x&&x.hasOwnProperty(v)||(a||(a={}),a[v]="");for(v in x)x.hasOwnProperty(v)&&R[v]!==x[v]&&(a||(a={}),a[v]=x[v])}else a||(g||(g=[]),g.push(B,a)),a=x;else B==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,R=R?R.__html:void 0,x!=null&&R!==x&&(g=g||[]).push(B,x)):B==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push(B,""+x):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(x!=null&&B==="onScroll"&&Je("scroll",r),g||R===x||(g=[])):(g=g||[]).push(B,x))}a&&(g=g||[]).push("style",a);var B=g;(s.updateQueue=B)&&(s.flags|=4)}},$y=function(r,s,a,h){a!==h&&(s.flags|=4)};function Xa(r,s){if(!nt)switch(r.tailMode){case"hidden":s=r.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var h=null;a!==null;)a.alternate!==null&&(h=a),a=a.sibling;h===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:h.sibling=null}}function Ft(r){var s=r.alternate!==null&&r.alternate.child===r.child,a=0,h=0;if(s)for(var f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags&14680064,h|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)a|=f.lanes|f.childLanes,h|=f.subtreeFlags,h|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=h,r.childLanes=a,s}function $I(r,s,a){var h=s.pendingProps;switch(Dd(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Jt(s.type)&&jl(),Ft(s),null;case 3:return h=s.stateNode,Co(),Ze(Xt),Ze(Mt),Hd(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(r===null||r.child===null)&&(Hl(s)?s.flags|=4:r===null||r.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,qn!==null&&(Tf(qn),qn=null))),hf(r,s),Ft(s),null;case 5:$d(s);var f=ms(Wa.current);if(a=s.type,r!==null&&s.stateNode!=null)By(r,s,a,h,f),r.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!h){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(r=ms(lr.current),Hl(s)){h=s.stateNode,a=s.type;var g=s.memoizedProps;switch(h[ur]=s,h[za]=g,r=(s.mode&1)!==0,a){case"dialog":Je("cancel",h),Je("close",h);break;case"iframe":case"object":case"embed":Je("load",h);break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],h);break;case"source":Je("error",h);break;case"img":case"image":case"link":Je("error",h),Je("load",h);break;case"details":Je("toggle",h);break;case"input":zs(h,g),Je("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!g.multiple},Je("invalid",h);break;case"textarea":$s(h,g),Je("invalid",h)}ya(a,g),f=null;for(var v in g)if(g.hasOwnProperty(v)){var R=g[v];v==="children"?typeof R=="string"?h.textContent!==R&&(g.suppressHydrationWarning!==!0&&Ll(h.textContent,R,r),f=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&Ll(h.textContent,R,r),f=["children",""+R]):o.hasOwnProperty(v)&&R!=null&&v==="onScroll"&&Je("scroll",h)}switch(a){case"input":wr(h),ll(h,g,!0);break;case"textarea":wr(h),da(h);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(h.onclick=Fl)}h=f,s.updateQueue=h,h!==null&&(s.flags|=4)}else{v=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=gt(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=v.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof h.is=="string"?r=v.createElement(a,{is:h.is}):(r=v.createElement(a),a==="select"&&(v=r,h.multiple?v.multiple=!0:h.size&&(v.size=h.size))):r=v.createElementNS(r,a),r[ur]=s,r[za]=h,zy(r,s,!1,!1),s.stateNode=r;e:{switch(v=_a(a,h),a){case"dialog":Je("cancel",r),Je("close",r),f=h;break;case"iframe":case"object":case"embed":Je("load",r),f=h;break;case"video":case"audio":for(f=0;f<Fa.length;f++)Je(Fa[f],r);f=h;break;case"source":Je("error",r),f=h;break;case"img":case"image":case"link":Je("error",r),Je("load",r),f=h;break;case"details":Je("toggle",r),f=h;break;case"input":zs(r,h),f=Gi(r,h),Je("invalid",r);break;case"option":f=h;break;case"select":r._wrapperState={wasMultiple:!!h.multiple},f=se({},h,{value:void 0}),Je("invalid",r);break;case"textarea":$s(r,h),f=ha(r,h),Je("invalid",r);break;default:f=h}ya(a,f),R=f;for(g in R)if(R.hasOwnProperty(g)){var x=R[g];g==="style"?ma(r,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&fa(r,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Jr(r,x):typeof x=="number"&&Jr(r,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Je("scroll",r):x!=null&&H(r,g,x,v))}switch(a){case"input":wr(r),ll(r,h,!1);break;case"textarea":wr(r),da(r);break;case"option":h.value!=null&&r.setAttribute("value",""+Me(h.value));break;case"select":r.multiple=!!h.multiple,g=h.value,g!=null?Tr(r,!!h.multiple,g,!1):h.defaultValue!=null&&Tr(r,!!h.multiple,h.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=Fl)}switch(a){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(r&&s.stateNode!=null)$y(r,s,r.memoizedProps,h);else{if(typeof h!="string"&&s.stateNode===null)throw Error(t(166));if(a=ms(Wa.current),ms(lr.current),Hl(s)){if(h=s.stateNode,a=s.memoizedProps,h[ur]=s,(g=h.nodeValue!==a)&&(r=pn,r!==null))switch(r.tag){case 3:Ll(h.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&Ll(h.nodeValue,a,(r.mode&1)!==0)}g&&(s.flags|=4)}else h=(a.nodeType===9?a:a.ownerDocument).createTextNode(h),h[ur]=s,s.stateNode=h}return Ft(s),null;case 13:if(Ze(rt),h=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(nt&&mn!==null&&s.mode&1&&!(s.flags&128))Wg(),Io(),s.flags|=98560,g=!1;else if(g=Hl(s),h!==null&&h.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=s}else Io(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else qn!==null&&(Tf(qn),qn=null),g=!0;if(!g)return s.flags&65536?s:null}return s.flags&128?(s.lanes=a,s):(h=h!==null,h!==(r!==null&&r.memoizedState!==null)&&h&&(s.child.flags|=8192,s.mode&1&&(r===null||rt.current&1?wt===0&&(wt=3):Af())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return Co(),hf(r,s),r===null&&Ua(s.stateNode.containerInfo),Ft(s),null;case 10:return Fd(s.type._context),Ft(s),null;case 17:return Jt(s.type)&&jl(),Ft(s),null;case 19:if(Ze(rt),g=s.memoizedState,g===null)return Ft(s),null;if(h=(s.flags&128)!==0,v=g.rendering,v===null)if(h)Xa(g,!1);else{if(wt!==0||r!==null&&r.flags&128)for(r=s.child;r!==null;){if(v=Xl(r),v!==null){for(s.flags|=128,Xa(g,!1),h=v.updateQueue,h!==null&&(s.updateQueue=h,s.flags|=4),s.subtreeFlags=0,h=a,a=s.child;a!==null;)g=a,r=h,g.flags&=14680066,v=g.alternate,v===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=v.childLanes,g.lanes=v.lanes,g.child=v.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=v.memoizedProps,g.memoizedState=v.memoizedState,g.updateQueue=v.updateQueue,g.type=v.type,r=v.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return Xe(rt,rt.current&1|2),s.child}r=r.sibling}g.tail!==null&&Ye()>No&&(s.flags|=128,h=!0,Xa(g,!1),s.lanes=4194304)}else{if(!h)if(r=Xl(v),r!==null){if(s.flags|=128,h=!0,a=r.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Xa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!v.alternate&&!nt)return Ft(s),null}else 2*Ye()-g.renderingStartTime>No&&a!==1073741824&&(s.flags|=128,h=!0,Xa(g,!1),s.lanes=4194304);g.isBackwards?(v.sibling=s.child,s.child=v):(a=g.last,a!==null?a.sibling=v:s.child=v,g.last=v)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ye(),s.sibling=null,a=rt.current,Xe(rt,h?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Sf(),h=s.memoizedState!==null,r!==null&&r.memoizedState!==null!==h&&(s.flags|=8192),h&&s.mode&1?gn&1073741824&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function qI(r,s){switch(Dd(s),s.tag){case 1:return Jt(s.type)&&jl(),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Co(),Ze(Xt),Ze(Mt),Hd(),r=s.flags,r&65536&&!(r&128)?(s.flags=r&-65537|128,s):null;case 5:return $d(s),null;case 13:if(Ze(rt),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(t(340));Io()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return Ze(rt),null;case 4:return Co(),null;case 10:return Fd(s.type._context),null;case 22:case 23:return Sf(),null;case 24:return null;default:return null}}var oc=!1,Ut=!1,HI=typeof WeakSet=="function"?WeakSet:Set,he=null;function ko(r,s){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(h){at(r,s,h)}else a.current=null}function df(r,s,a){try{a()}catch(h){at(r,s,h)}}var qy=!1;function WI(r,s){if(Id=oi,r=Tg(),md(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var h=a.getSelection&&a.getSelection();if(h&&h.rangeCount!==0){a=h.anchorNode;var f=h.anchorOffset,g=h.focusNode;h=h.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var v=0,R=-1,x=-1,B=0,Y=0,Z=r,Q=null;t:for(;;){for(var oe;Z!==a||f!==0&&Z.nodeType!==3||(R=v+f),Z!==g||h!==0&&Z.nodeType!==3||(x=v+h),Z.nodeType===3&&(v+=Z.nodeValue.length),(oe=Z.firstChild)!==null;)Q=Z,Z=oe;for(;;){if(Z===r)break t;if(Q===a&&++B===f&&(R=v),Q===g&&++Y===h&&(x=v),(oe=Z.nextSibling)!==null)break;Z=Q,Q=Z.parentNode}Z=oe}a=R===-1||x===-1?null:{start:R,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sd={focusedElem:r,selectionRange:a},oi=!1,he=s;he!==null;)if(s=he,r=s.child,(s.subtreeFlags&1028)!==0&&r!==null)r.return=s,he=r;else for(;he!==null;){s=he;try{var pe=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,lt=pe.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?me:Hn(s.type,me),lt);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){at(s,s.return,ne)}if(r=s.sibling,r!==null){r.return=s.return,he=r;break}he=s.return}return pe=qy,qy=!1,pe}function Ja(r,s,a){var h=s.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var f=h=h.next;do{if((f.tag&r)===r){var g=f.destroy;f.destroy=void 0,g!==void 0&&df(s,a,g)}f=f.next}while(f!==h)}}function ac(r,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&r)===r){var h=a.create;a.destroy=h()}a=a.next}while(a!==s)}}function ff(r){var s=r.ref;if(s!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof s=="function"?s(r):s.current=r}}function Hy(r){var s=r.alternate;s!==null&&(r.alternate=null,Hy(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&(delete s[ur],delete s[za],delete s[Pd],delete s[PI],delete s[kI])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Wy(r){return r.tag===5||r.tag===3||r.tag===4}function Ky(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Wy(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function pf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(r,s):a.insertBefore(r,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(r,a)):(s=a,s.appendChild(r)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Fl));else if(h!==4&&(r=r.child,r!==null))for(pf(r,s,a),r=r.sibling;r!==null;)pf(r,s,a),r=r.sibling}function mf(r,s,a){var h=r.tag;if(h===5||h===6)r=r.stateNode,s?a.insertBefore(r,s):a.appendChild(r);else if(h!==4&&(r=r.child,r!==null))for(mf(r,s,a),r=r.sibling;r!==null;)mf(r,s,a),r=r.sibling}var xt=null,Wn=!1;function mi(r,s,a){for(a=a.child;a!==null;)Gy(r,s,a),a=a.sibling}function Gy(r,s,a){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(rs,a)}catch{}switch(a.tag){case 5:Ut||ko(a,s);case 6:var h=xt,f=Wn;xt=null,mi(r,s,a),xt=h,Wn=f,xt!==null&&(Wn?(r=xt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):xt.removeChild(a.stateNode));break;case 18:xt!==null&&(Wn?(r=xt,a=a.stateNode,r.nodeType===8?Cd(r.parentNode,a):r.nodeType===1&&Cd(r,a),zn(r)):Cd(xt,a.stateNode));break;case 4:h=xt,f=Wn,xt=a.stateNode.containerInfo,Wn=!0,mi(r,s,a),xt=h,Wn=f;break;case 0:case 11:case 14:case 15:if(!Ut&&(h=a.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){f=h=h.next;do{var g=f,v=g.destroy;g=g.tag,v!==void 0&&(g&2||g&4)&&df(a,s,v),f=f.next}while(f!==h)}mi(r,s,a);break;case 1:if(!Ut&&(ko(a,s),h=a.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=a.memoizedProps,h.state=a.memoizedState,h.componentWillUnmount()}catch(R){at(a,s,R)}mi(r,s,a);break;case 21:mi(r,s,a);break;case 22:a.mode&1?(Ut=(h=Ut)||a.memoizedState!==null,mi(r,s,a),Ut=h):mi(r,s,a);break;default:mi(r,s,a)}}function Qy(r){var s=r.updateQueue;if(s!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new HI),s.forEach(function(h){var f=tS.bind(null,r,h);a.has(h)||(a.add(h),h.then(f,f))})}}function Kn(r,s){var a=s.deletions;if(a!==null)for(var h=0;h<a.length;h++){var f=a[h];try{var g=r,v=s,R=v;e:for(;R!==null;){switch(R.tag){case 5:xt=R.stateNode,Wn=!1;break e;case 3:xt=R.stateNode.containerInfo,Wn=!0;break e;case 4:xt=R.stateNode.containerInfo,Wn=!0;break e}R=R.return}if(xt===null)throw Error(t(160));Gy(g,v,f),xt=null,Wn=!1;var x=f.alternate;x!==null&&(x.return=null),f.return=null}catch(B){at(f,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)Yy(s,r),s=s.sibling}function Yy(r,s){var a=r.alternate,h=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Kn(s,r),hr(r),h&4){try{Ja(3,r,r.return),ac(3,r)}catch(me){at(r,r.return,me)}try{Ja(5,r,r.return)}catch(me){at(r,r.return,me)}}break;case 1:Kn(s,r),hr(r),h&512&&a!==null&&ko(a,a.return);break;case 5:if(Kn(s,r),hr(r),h&512&&a!==null&&ko(a,a.return),r.flags&32){var f=r.stateNode;try{Jr(f,"")}catch(me){at(r,r.return,me)}}if(h&4&&(f=r.stateNode,f!=null)){var g=r.memoizedProps,v=a!==null?a.memoizedProps:g,R=r.type,x=r.updateQueue;if(r.updateQueue=null,x!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&la(f,g),_a(R,v);var B=_a(R,g);for(v=0;v<x.length;v+=2){var Y=x[v],Z=x[v+1];Y==="style"?ma(f,Z):Y==="dangerouslySetInnerHTML"?fa(f,Z):Y==="children"?Jr(f,Z):H(f,Y,Z,B)}switch(R){case"input":ca(f,g);break;case"textarea":qs(f,g);break;case"select":var Q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!g.multiple;var oe=g.value;oe!=null?Tr(f,!!g.multiple,oe,!1):Q!==!!g.multiple&&(g.defaultValue!=null?Tr(f,!!g.multiple,g.defaultValue,!0):Tr(f,!!g.multiple,g.multiple?[]:"",!1))}f[za]=g}catch(me){at(r,r.return,me)}}break;case 6:if(Kn(s,r),hr(r),h&4){if(r.stateNode===null)throw Error(t(162));f=r.stateNode,g=r.memoizedProps;try{f.nodeValue=g}catch(me){at(r,r.return,me)}}break;case 3:if(Kn(s,r),hr(r),h&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(s.containerInfo)}catch(me){at(r,r.return,me)}break;case 4:Kn(s,r),hr(r);break;case 13:Kn(s,r),hr(r),f=r.child,f.flags&8192&&(g=f.memoizedState!==null,f.stateNode.isHidden=g,!g||f.alternate!==null&&f.alternate.memoizedState!==null||(_f=Ye())),h&4&&Qy(r);break;case 22:if(Y=a!==null&&a.memoizedState!==null,r.mode&1?(Ut=(B=Ut)||Y,Kn(s,r),Ut=B):Kn(s,r),hr(r),h&8192){if(B=r.memoizedState!==null,(r.stateNode.isHidden=B)&&!Y&&r.mode&1)for(he=r,Y=r.child;Y!==null;){for(Z=he=Y;he!==null;){switch(Q=he,oe=Q.child,Q.tag){case 0:case 11:case 14:case 15:Ja(4,Q,Q.return);break;case 1:ko(Q,Q.return);var pe=Q.stateNode;if(typeof pe.componentWillUnmount=="function"){h=Q,a=Q.return;try{s=h,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){at(h,a,me)}}break;case 5:ko(Q,Q.return);break;case 22:if(Q.memoizedState!==null){Zy(Z);continue}}oe!==null?(oe.return=Q,he=oe):Zy(Z)}Y=Y.sibling}e:for(Y=null,Z=r;;){if(Z.tag===5){if(Y===null){Y=Z;try{f=Z.stateNode,B?(g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=Z.stateNode,x=Z.memoizedProps.style,v=x!=null&&x.hasOwnProperty("display")?x.display:null,R.style.display=pa("display",v))}catch(me){at(r,r.return,me)}}}else if(Z.tag===6){if(Y===null)try{Z.stateNode.nodeValue=B?"":Z.memoizedProps}catch(me){at(r,r.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===r)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===r)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===r)break e;Y===Z&&(Y=null),Z=Z.return}Y===Z&&(Y=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:Kn(s,r),hr(r),h&4&&Qy(r);break;case 21:break;default:Kn(s,r),hr(r)}}function hr(r){var s=r.flags;if(s&2){try{e:{for(var a=r.return;a!==null;){if(Wy(a)){var h=a;break e}a=a.return}throw Error(t(160))}switch(h.tag){case 5:var f=h.stateNode;h.flags&32&&(Jr(f,""),h.flags&=-33);var g=Ky(r);mf(r,g,f);break;case 3:case 4:var v=h.stateNode.containerInfo,R=Ky(r);pf(r,R,v);break;default:throw Error(t(161))}}catch(x){at(r,r.return,x)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function KI(r,s,a){he=r,Xy(r)}function Xy(r,s,a){for(var h=(r.mode&1)!==0;he!==null;){var f=he,g=f.child;if(f.tag===22&&h){var v=f.memoizedState!==null||oc;if(!v){var R=f.alternate,x=R!==null&&R.memoizedState!==null||Ut;R=oc;var B=Ut;if(oc=v,(Ut=x)&&!B)for(he=f;he!==null;)v=he,x=v.child,v.tag===22&&v.memoizedState!==null?e_(f):x!==null?(x.return=v,he=x):e_(f);for(;g!==null;)he=g,Xy(g),g=g.sibling;he=f,oc=R,Ut=B}Jy(r)}else f.subtreeFlags&8772&&g!==null?(g.return=f,he=g):Jy(r)}}function Jy(r){for(;he!==null;){var s=he;if(s.flags&8772){var a=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:Ut||ac(5,s);break;case 1:var h=s.stateNode;if(s.flags&4&&!Ut)if(a===null)h.componentDidMount();else{var f=s.elementType===s.type?a.memoizedProps:Hn(s.type,a.memoizedProps);h.componentDidUpdate(f,a.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Zg(s,g,h);break;case 3:var v=s.updateQueue;if(v!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Zg(s,v,a)}break;case 5:var R=s.stateNode;if(a===null&&s.flags&4){a=R;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var Y=B.memoizedState;if(Y!==null){var Z=Y.dehydrated;Z!==null&&zn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&ff(s)}catch(Q){at(s,s.return,Q)}}if(s===r){he=null;break}if(a=s.sibling,a!==null){a.return=s.return,he=a;break}he=s.return}}function Zy(r){for(;he!==null;){var s=he;if(s===r){he=null;break}var a=s.sibling;if(a!==null){a.return=s.return,he=a;break}he=s.return}}function e_(r){for(;he!==null;){var s=he;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{ac(4,s)}catch(x){at(s,a,x)}break;case 1:var h=s.stateNode;if(typeof h.componentDidMount=="function"){var f=s.return;try{h.componentDidMount()}catch(x){at(s,f,x)}}var g=s.return;try{ff(s)}catch(x){at(s,g,x)}break;case 5:var v=s.return;try{ff(s)}catch(x){at(s,v,x)}}}catch(x){at(s,s.return,x)}if(s===r){he=null;break}var R=s.sibling;if(R!==null){R.return=s.return,he=R;break}he=s.return}}var GI=Math.ceil,uc=te.ReactCurrentDispatcher,gf=te.ReactCurrentOwner,kn=te.ReactCurrentBatchConfig,qe=0,At=null,ft=null,Nt=0,gn=0,xo=ci(0),wt=0,Za=null,ys=0,lc=0,yf=0,eu=null,en=null,_f=0,No=1/0,Lr=null,cc=!1,vf=null,gi=null,hc=!1,yi=null,dc=0,tu=0,wf=null,fc=-1,pc=0;function Kt(){return qe&6?Ye():fc!==-1?fc:fc=Ye()}function _i(r){return r.mode&1?qe&2&&Nt!==0?Nt&-Nt:NI.transition!==null?(pc===0&&(pc=ss()),pc):(r=je,r!==0||(r=window.event,r=r===void 0?16:ka(r.type)),r):1}function Gn(r,s,a,h){if(50<tu)throw tu=0,wf=null,Error(t(185));ni(r,a,h),(!(qe&2)||r!==At)&&(r===At&&(!(qe&2)&&(lc|=a),wt===4&&vi(r,Nt)),tn(r,h),a===1&&qe===0&&!(s.mode&1)&&(No=Ye()+500,Bl&&di()))}function tn(r,s){var a=r.callbackNode;Ar(r,s);var h=is(r,r===At?Nt:0);if(h===0)a!==null&&Sa(a),r.callbackNode=null,r.callbackPriority=0;else if(s=h&-h,r.callbackPriority!==s){if(a!=null&&Sa(a),s===1)r.tag===0?xI(n_.bind(null,r)):zg(n_.bind(null,r)),RI(function(){!(qe&6)&&di()}),a=null;else{switch(ii(h)){case 1:a=ns;break;case 4:a=Zr;break;case 16:a=Tn;break;case 536870912:a=pl;break;default:a=Tn}a=c_(a,t_.bind(null,r))}r.callbackPriority=s,r.callbackNode=a}}function t_(r,s){if(fc=-1,pc=0,qe&6)throw Error(t(327));var a=r.callbackNode;if(Do()&&r.callbackNode!==a)return null;var h=is(r,r===At?Nt:0);if(h===0)return null;if(h&30||h&r.expiredLanes||s)s=mc(r,h);else{s=h;var f=qe;qe|=2;var g=i_();(At!==r||Nt!==s)&&(Lr=null,No=Ye()+500,vs(r,s));do try{XI();break}catch(R){r_(r,R)}while(!0);Ld(),uc.current=g,qe=f,ft!==null?s=0:(At=null,Nt=0,s=wt)}if(s!==0){if(s===2&&(f=hn(r),f!==0&&(h=f,s=Ef(r,f))),s===1)throw a=Za,vs(r,0),vi(r,h),tn(r,Ye()),a;if(s===6)vi(r,h);else{if(f=r.current.alternate,!(h&30)&&!QI(f)&&(s=mc(r,h),s===2&&(g=hn(r),g!==0&&(h=g,s=Ef(r,g))),s===1))throw a=Za,vs(r,0),vi(r,h),tn(r,Ye()),a;switch(r.finishedWork=f,r.finishedLanes=h,s){case 0:case 1:throw Error(t(345));case 2:ws(r,en,Lr);break;case 3:if(vi(r,h),(h&130023424)===h&&(s=_f+500-Ye(),10<s)){if(is(r,0)!==0)break;if(f=r.suspendedLanes,(f&h)!==h){Kt(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=Rd(ws.bind(null,r,en,Lr),s);break}ws(r,en,Lr);break;case 4:if(vi(r,h),(h&4194240)===h)break;for(s=r.eventTimes,f=-1;0<h;){var v=31-qt(h);g=1<<v,v=s[v],v>f&&(f=v),h&=~g}if(h=f,h=Ye()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*GI(h/1960))-h,10<h){r.timeoutHandle=Rd(ws.bind(null,r,en,Lr),h);break}ws(r,en,Lr);break;case 5:ws(r,en,Lr);break;default:throw Error(t(329))}}}return tn(r,Ye()),r.callbackNode===a?t_.bind(null,r):null}function Ef(r,s){var a=eu;return r.current.memoizedState.isDehydrated&&(vs(r,s).flags|=256),r=mc(r,s),r!==2&&(s=en,en=a,s!==null&&Tf(s)),r}function Tf(r){en===null?en=r:en.push.apply(en,r)}function QI(r){for(var s=r;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var h=0;h<a.length;h++){var f=a[h],g=f.getSnapshot;f=f.value;try{if(!$n(g(),f))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function vi(r,s){for(s&=~yf,s&=~lc,r.suspendedLanes|=s,r.pingedLanes&=~s,r=r.expirationTimes;0<s;){var a=31-qt(s),h=1<<a;r[a]=-1,s&=~h}}function n_(r){if(qe&6)throw Error(t(327));Do();var s=is(r,0);if(!(s&1))return tn(r,Ye()),null;var a=mc(r,s);if(r.tag!==0&&a===2){var h=hn(r);h!==0&&(s=h,a=Ef(r,h))}if(a===1)throw a=Za,vs(r,0),vi(r,s),tn(r,Ye()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=s,ws(r,en,Lr),tn(r,Ye()),null}function If(r,s){var a=qe;qe|=1;try{return r(s)}finally{qe=a,qe===0&&(No=Ye()+500,Bl&&di())}}function _s(r){yi!==null&&yi.tag===0&&!(qe&6)&&Do();var s=qe;qe|=1;var a=kn.transition,h=je;try{if(kn.transition=null,je=1,r)return r()}finally{je=h,kn.transition=a,qe=s,!(qe&6)&&di()}}function Sf(){gn=xo.current,Ze(xo)}function vs(r,s){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,AI(a)),ft!==null)for(a=ft.return;a!==null;){var h=a;switch(Dd(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&jl();break;case 3:Co(),Ze(Xt),Ze(Mt),Hd();break;case 5:$d(h);break;case 4:Co();break;case 13:Ze(rt);break;case 19:Ze(rt);break;case 10:Fd(h.type._context);break;case 22:case 23:Sf()}a=a.return}if(At=r,ft=r=wi(r.current,null),Nt=gn=s,wt=0,Za=null,yf=lc=ys=0,en=eu=null,ps!==null){for(s=0;s<ps.length;s++)if(a=ps[s],h=a.interleaved,h!==null){a.interleaved=null;var f=h.next,g=a.pending;if(g!==null){var v=g.next;g.next=f,h.next=v}a.pending=h}ps=null}return r}function r_(r,s){do{var a=ft;try{if(Ld(),Jl.current=nc,Zl){for(var h=it.memoizedState;h!==null;){var f=h.queue;f!==null&&(f.pending=null),h=h.next}Zl=!1}if(gs=0,St=vt=it=null,Ka=!1,Ga=0,gf.current=null,a===null||a.return===null){wt=1,Za=s,ft=null;break}e:{var g=r,v=a.return,R=a,x=s;if(s=Nt,R.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var B=x,Y=R,Z=Y.tag;if(!(Y.mode&1)&&(Z===0||Z===11||Z===15)){var Q=Y.alternate;Q?(Y.updateQueue=Q.updateQueue,Y.memoizedState=Q.memoizedState,Y.lanes=Q.lanes):(Y.updateQueue=null,Y.memoizedState=null)}var oe=Py(v);if(oe!==null){oe.flags&=-257,ky(oe,v,R,g,s),oe.mode&1&&Cy(g,B,s),s=oe,x=B;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(x),s.updateQueue=me}else pe.add(x);break e}else{if(!(s&1)){Cy(g,B,s),Af();break e}x=Error(t(426))}}else if(nt&&R.mode&1){var lt=Py(v);if(lt!==null){!(lt.flags&65536)&&(lt.flags|=256),ky(lt,v,R,g,s),Vd(Po(x,R));break e}}g=x=Po(x,R),wt!==4&&(wt=2),eu===null?eu=[g]:eu.push(g),g=v;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Ay(g,x,s);Jg(g,U);break e;case 1:R=x;var D=g.type,j=g.stateNode;if(!(g.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(gi===null||!gi.has(j)))){g.flags|=65536,s&=-s,g.lanes|=s;var ne=Ry(g,R,s);Jg(g,ne);break e}}g=g.return}while(g!==null)}o_(a)}catch(ge){s=ge,ft===a&&a!==null&&(ft=a=a.return);continue}break}while(!0)}function i_(){var r=uc.current;return uc.current=nc,r===null?nc:r}function Af(){(wt===0||wt===3||wt===2)&&(wt=4),At===null||!(ys&268435455)&&!(lc&268435455)||vi(At,Nt)}function mc(r,s){var a=qe;qe|=2;var h=i_();(At!==r||Nt!==s)&&(Lr=null,vs(r,s));do try{YI();break}catch(f){r_(r,f)}while(!0);if(Ld(),qe=a,uc.current=h,ft!==null)throw Error(t(261));return At=null,Nt=0,wt}function YI(){for(;ft!==null;)s_(ft)}function XI(){for(;ft!==null&&!dl();)s_(ft)}function s_(r){var s=l_(r.alternate,r,gn);r.memoizedProps=r.pendingProps,s===null?o_(r):ft=s,gf.current=null}function o_(r){var s=r;do{var a=s.alternate;if(r=s.return,s.flags&32768){if(a=qI(a,s),a!==null){a.flags&=32767,ft=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{wt=6,ft=null;return}}else if(a=$I(a,s,gn),a!==null){ft=a;return}if(s=s.sibling,s!==null){ft=s;return}ft=s=r}while(s!==null);wt===0&&(wt=5)}function ws(r,s,a){var h=je,f=kn.transition;try{kn.transition=null,je=1,JI(r,s,a,h)}finally{kn.transition=f,je=h}return null}function JI(r,s,a,h){do Do();while(yi!==null);if(qe&6)throw Error(t(327));a=r.finishedWork;var f=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Qe(r,g),r===At&&(ft=At=null,Nt=0),!(a.subtreeFlags&2064)&&!(a.flags&2064)||hc||(hc=!0,c_(Tn,function(){return Do(),null})),g=(a.flags&15990)!==0,a.subtreeFlags&15990||g){g=kn.transition,kn.transition=null;var v=je;je=1;var R=qe;qe|=4,gf.current=null,WI(r,a),Yy(a,r),_I(Sd),oi=!!Id,Sd=Id=null,r.current=a,KI(a),ad(),qe=R,je=v,kn.transition=g}else r.current=a;if(hc&&(hc=!1,yi=r,dc=f),g=r.pendingLanes,g===0&&(gi=null),ml(a.stateNode),tn(r,Ye()),s!==null)for(h=r.onRecoverableError,a=0;a<s.length;a++)f=s[a],h(f.value,{componentStack:f.stack,digest:f.digest});if(cc)throw cc=!1,r=vf,vf=null,r;return dc&1&&r.tag!==0&&Do(),g=r.pendingLanes,g&1?r===wf?tu++:(tu=0,wf=r):tu=0,di(),null}function Do(){if(yi!==null){var r=ii(dc),s=kn.transition,a=je;try{if(kn.transition=null,je=16>r?16:r,yi===null)var h=!1;else{if(r=yi,yi=null,dc=0,qe&6)throw Error(t(331));var f=qe;for(qe|=4,he=r.current;he!==null;){var g=he,v=g.child;if(he.flags&16){var R=g.deletions;if(R!==null){for(var x=0;x<R.length;x++){var B=R[x];for(he=B;he!==null;){var Y=he;switch(Y.tag){case 0:case 11:case 15:Ja(8,Y,g)}var Z=Y.child;if(Z!==null)Z.return=Y,he=Z;else for(;he!==null;){Y=he;var Q=Y.sibling,oe=Y.return;if(Hy(Y),Y===B){he=null;break}if(Q!==null){Q.return=oe,he=Q;break}he=oe}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var lt=me.sibling;me.sibling=null,me=lt}while(me!==null)}}he=g}}if(g.subtreeFlags&2064&&v!==null)v.return=g,he=v;else e:for(;he!==null;){if(g=he,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ja(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,he=U;break e}he=g.return}}var D=r.current;for(he=D;he!==null;){v=he;var j=v.child;if(v.subtreeFlags&2064&&j!==null)j.return=v,he=j;else e:for(v=D;he!==null;){if(R=he,R.flags&2048)try{switch(R.tag){case 0:case 11:case 15:ac(9,R)}}catch(ge){at(R,R.return,ge)}if(R===v){he=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,he=ne;break e}he=R.return}}if(qe=f,di(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(rs,r)}catch{}h=!0}return h}finally{je=a,kn.transition=s}}return!1}function a_(r,s,a){s=Po(a,s),s=Ay(r,s,1),r=pi(r,s,1),s=Kt(),r!==null&&(ni(r,1,s),tn(r,s))}function at(r,s,a){if(r.tag===3)a_(r,r,a);else for(;s!==null;){if(s.tag===3){a_(s,r,a);break}else if(s.tag===1){var h=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(gi===null||!gi.has(h))){r=Po(a,r),r=Ry(s,r,1),s=pi(s,r,1),r=Kt(),s!==null&&(ni(s,1,r),tn(s,r));break}}s=s.return}}function ZI(r,s,a){var h=r.pingCache;h!==null&&h.delete(s),s=Kt(),r.pingedLanes|=r.suspendedLanes&a,At===r&&(Nt&a)===a&&(wt===4||wt===3&&(Nt&130023424)===Nt&&500>Ye()-_f?vs(r,0):yf|=a),tn(r,s)}function u_(r,s){s===0&&(r.mode&1?(s=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):s=1);var a=Kt();r=br(r,s),r!==null&&(ni(r,s,a),tn(r,a))}function eS(r){var s=r.memoizedState,a=0;s!==null&&(a=s.retryLane),u_(r,a)}function tS(r,s){var a=0;switch(r.tag){case 13:var h=r.stateNode,f=r.memoizedState;f!==null&&(a=f.retryLane);break;case 19:h=r.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(s),u_(r,a)}var l_;l_=function(r,s,a){if(r!==null)if(r.memoizedProps!==s.pendingProps||Xt.current)Zt=!0;else{if(!(r.lanes&a)&&!(s.flags&128))return Zt=!1,BI(r,s,a);Zt=!!(r.flags&131072)}else Zt=!1,nt&&s.flags&1048576&&Bg(s,ql,s.index);switch(s.lanes=0,s.tag){case 2:var h=s.type;sc(r,s),r=s.pendingProps;var f=wo(s,Mt.current);Ro(s,a),f=Gd(null,s,h,r,f,a);var g=Qd();return s.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Jt(h)?(g=!0,zl(s)):g=!1,s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,zd(s),f.updater=rc,s.stateNode=f,f._reactInternals=s,tf(s,h,r,a),s=of(null,s,h,!0,g,a)):(s.tag=0,nt&&g&&Nd(s),Wt(null,s,f,a),s=s.child),s;case 16:h=s.elementType;e:{switch(sc(r,s),r=s.pendingProps,f=h._init,h=f(h._payload),s.type=h,f=s.tag=rS(h),r=Hn(h,r),f){case 0:s=sf(null,s,h,r,a);break e;case 1:s=Vy(null,s,h,r,a);break e;case 11:s=xy(null,s,h,r,a);break e;case 14:s=Ny(null,s,h,Hn(h.type,r),a);break e}throw Error(t(306,h,""))}return s;case 0:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Hn(h,f),sf(r,s,h,f,a);case 1:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Hn(h,f),Vy(r,s,h,f,a);case 3:e:{if(My(s),r===null)throw Error(t(387));h=s.pendingProps,g=s.memoizedState,f=g.element,Xg(r,s),Yl(s,h,null,a);var v=s.memoizedState;if(h=v.element,g.isDehydrated)if(g={element:h,isDehydrated:!1,cache:v.cache,pendingSuspenseBoundaries:v.pendingSuspenseBoundaries,transitions:v.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){f=Po(Error(t(423)),s),s=Ly(r,s,h,a,f);break e}else if(h!==f){f=Po(Error(t(424)),s),s=Ly(r,s,h,a,f);break e}else for(mn=li(s.stateNode.containerInfo.firstChild),pn=s,nt=!0,qn=null,a=Qg(s,null,h,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(Io(),h===f){s=Mr(r,s,a);break e}Wt(r,s,h,a)}s=s.child}return s;case 5:return ey(s),r===null&&bd(s),h=s.type,f=s.pendingProps,g=r!==null?r.memoizedProps:null,v=f.children,Ad(h,f)?v=null:g!==null&&Ad(h,g)&&(s.flags|=32),by(r,s),Wt(r,s,v,a),s.child;case 6:return r===null&&bd(s),null;case 13:return Fy(r,s,a);case 4:return Bd(s,s.stateNode.containerInfo),h=s.pendingProps,r===null?s.child=So(s,null,h,a):Wt(r,s,h,a),s.child;case 11:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Hn(h,f),xy(r,s,h,f,a);case 7:return Wt(r,s,s.pendingProps,a),s.child;case 8:return Wt(r,s,s.pendingProps.children,a),s.child;case 12:return Wt(r,s,s.pendingProps.children,a),s.child;case 10:e:{if(h=s.type._context,f=s.pendingProps,g=s.memoizedProps,v=f.value,Xe(Kl,h._currentValue),h._currentValue=v,g!==null)if($n(g.value,v)){if(g.children===f.children&&!Xt.current){s=Mr(r,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var R=g.dependencies;if(R!==null){v=g.child;for(var x=R.firstContext;x!==null;){if(x.context===h){if(g.tag===1){x=Vr(-1,a&-a),x.tag=2;var B=g.updateQueue;if(B!==null){B=B.shared;var Y=B.pending;Y===null?x.next=x:(x.next=Y.next,Y.next=x),B.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Ud(g.return,a,s),R.lanes|=a;break}x=x.next}}else if(g.tag===10)v=g.type===s.type?null:g.child;else if(g.tag===18){if(v=g.return,v===null)throw Error(t(341));v.lanes|=a,R=v.alternate,R!==null&&(R.lanes|=a),Ud(v,a,s),v=g.sibling}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}Wt(r,s,f.children,a),s=s.child}return s;case 9:return f=s.type,h=s.pendingProps.children,Ro(s,a),f=Cn(f),h=h(f),s.flags|=1,Wt(r,s,h,a),s.child;case 14:return h=s.type,f=Hn(h,s.pendingProps),f=Hn(h.type,f),Ny(r,s,h,f,a);case 15:return Dy(r,s,s.type,s.pendingProps,a);case 17:return h=s.type,f=s.pendingProps,f=s.elementType===h?f:Hn(h,f),sc(r,s),s.tag=1,Jt(h)?(r=!0,zl(s)):r=!1,Ro(s,a),Iy(s,h,f),tf(s,h,f,a),of(null,s,h,!0,r,a);case 19:return jy(r,s,a);case 22:return Oy(r,s,a)}throw Error(t(156,s.tag))};function c_(r,s){return Js(r,s)}function nS(r,s,a,h){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(r,s,a,h){return new nS(r,s,a,h)}function Rf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rS(r){if(typeof r=="function")return Rf(r)?1:0;if(r!=null){if(r=r.$$typeof,r===M)return 11;if(r===we)return 14}return 2}function wi(r,s){var a=r.alternate;return a===null?(a=xn(r.tag,s,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=s,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,s=r.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function gc(r,s,a,h,f,g){var v=2;if(h=r,typeof r=="function")Rf(r)&&(v=1);else if(typeof r=="string")v=5;else e:switch(r){case P:return Es(a.children,f,g,s);case S:v=8,f|=8;break;case A:return r=xn(12,a,s,f|2),r.elementType=A,r.lanes=g,r;case C:return r=xn(13,a,s,f),r.elementType=C,r.lanes=g,r;case fe:return r=xn(19,a,s,f),r.elementType=fe,r.lanes=g,r;case Pe:return yc(a,f,g,s);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case k:v=10;break e;case N:v=9;break e;case M:v=11;break e;case we:v=14;break e;case He:v=16,h=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return s=xn(v,a,s,f),s.elementType=r,s.type=h,s.lanes=g,s}function Es(r,s,a,h){return r=xn(7,r,h,s),r.lanes=a,r}function yc(r,s,a,h){return r=xn(22,r,h,s),r.elementType=Pe,r.lanes=a,r.stateNode={isHidden:!1},r}function Cf(r,s,a){return r=xn(6,r,null,s),r.lanes=a,r}function Pf(r,s,a){return s=xn(4,r.children!==null?r.children:[],r.key,s),s.lanes=a,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}function iS(r,s,a,h,f){this.tag=s,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ti(0),this.expirationTimes=ti(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ti(0),this.identifierPrefix=h,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function kf(r,s,a,h,f,g,v,R,x){return r=new iS(r,s,a,R,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=xn(3,null,null,s),r.current=g,g.stateNode=r,g.memoizedState={element:h,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},zd(g),r}function sS(r,s,a){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ce,key:h==null?null:""+h,children:r,containerInfo:s,implementation:a}}function h_(r){if(!r)return hi;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var s=r;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(Jt(a))return Ug(r,a,s)}return s}function d_(r,s,a,h,f,g,v,R,x){return r=kf(a,h,!0,r,f,g,v,R,x),r.context=h_(null),a=r.current,h=Kt(),f=_i(a),g=Vr(h,f),g.callback=s??null,pi(a,g,f),r.current.lanes=f,ni(r,f,h),tn(r,h),r}function _c(r,s,a,h){var f=s.current,g=Kt(),v=_i(f);return a=h_(a),s.context===null?s.context=a:s.pendingContext=a,s=Vr(g,v),s.payload={element:r},h=h===void 0?null:h,h!==null&&(s.callback=h),r=pi(f,s,v),r!==null&&(Gn(r,f,v,g),Ql(r,f,v)),v}function vc(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function f_(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<s?a:s}}function xf(r,s){f_(r,s),(r=r.alternate)&&f_(r,s)}var p_=typeof reportError=="function"?reportError:function(r){console.error(r)};function Nf(r){this._internalRoot=r}wc.prototype.render=Nf.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(t(409));_c(r,s,null,null)},wc.prototype.unmount=Nf.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;_s(function(){_c(null,r,null,null)}),s[xr]=null}};function wc(r){this._internalRoot=r}wc.prototype.unstable_scheduleHydration=function(r){if(r){var s=wl();r={blockedOn:null,target:r,priority:s};for(var a=0;a<ir.length&&s!==0&&s<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Il(r)}};function Df(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Ec(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function m_(){}function oS(r,s,a,h,f){if(f){if(typeof h=="function"){var g=h;h=function(){var B=vc(v);g.call(B)}}var v=d_(s,h,r,0,null,!1,!1,"",m_);return r._reactRootContainer=v,r[xr]=v.current,Ua(r.nodeType===8?r.parentNode:r),_s(),v}for(;f=r.lastChild;)r.removeChild(f);if(typeof h=="function"){var R=h;h=function(){var B=vc(x);R.call(B)}}var x=kf(r,0,!1,null,null,!1,!1,"",m_);return r._reactRootContainer=x,r[xr]=x.current,Ua(r.nodeType===8?r.parentNode:r),_s(function(){_c(s,x,a,h)}),x}function Tc(r,s,a,h,f){var g=a._reactRootContainer;if(g){var v=g;if(typeof f=="function"){var R=f;f=function(){var x=vc(v);R.call(x)}}_c(s,v,r,f)}else v=oS(a,s,r,f,h);return vc(v)}_l=function(r){switch(r.tag){case 3:var s=r.stateNode;if(s.current.memoizedState.isDehydrated){var a=ei(s.pendingLanes);a!==0&&(ri(s,a|1),tn(s,Ye()),!(qe&6)&&(No=Ye()+500,di()))}break;case 13:_s(function(){var h=br(r,1);if(h!==null){var f=Kt();Gn(h,r,1,f)}}),xf(r,1)}},to=function(r){if(r.tag===13){var s=br(r,134217728);if(s!==null){var a=Kt();Gn(s,r,134217728,a)}xf(r,134217728)}},vl=function(r){if(r.tag===13){var s=_i(r),a=br(r,s);if(a!==null){var h=Kt();Gn(a,r,s,h)}xf(r,s)}},wl=function(){return je},El=function(r,s){var a=je;try{return je=r,s()}finally{je=a}},Ws=function(r,s,a){switch(s){case"input":if(ca(r,a),s=a.name,a.type==="radio"&&s!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var h=a[s];if(h!==r&&h.form===r.form){var f=Ul(h);if(!f)throw Error(t(90));js(h),ca(h,f)}}}break;case"textarea":qs(r,a);break;case"select":s=a.value,s!=null&&Tr(r,!!a.multiple,s,!1)}},Ji=If,wa=_s;var aS={usingClientEntryPoint:!1,Events:[Ba,_o,Ul,nr,va,If]},nu={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},uS={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:te.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Ia(r),r===null?null:r.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{rs=Ic.inject(uS),cn=Ic}catch{}}return nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aS,nn.createPortal=function(r,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Df(s))throw Error(t(200));return sS(r,s,null,a)},nn.createRoot=function(r,s){if(!Df(r))throw Error(t(299));var a=!1,h="",f=p_;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onRecoverableError!==void 0&&(f=s.onRecoverableError)),s=kf(r,1,!1,null,null,a,!1,h,f),r[xr]=s.current,Ua(r.nodeType===8?r.parentNode:r),new Nf(s)},nn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=Ia(s),r=r===null?null:r.stateNode,r},nn.flushSync=function(r){return _s(r)},nn.hydrate=function(r,s,a){if(!Ec(s))throw Error(t(200));return Tc(null,r,s,!0,a)},nn.hydrateRoot=function(r,s,a){if(!Df(r))throw Error(t(405));var h=a!=null&&a.hydratedSources||null,f=!1,g="",v=p_;if(a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(v=a.onRecoverableError)),s=d_(s,null,r,1,a??null,f,!1,g,v),r[xr]=s.current,Ua(r),h)for(r=0;r<h.length;r++)a=h[r],f=a._getVersion,f=f(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,f]:s.mutableSourceEagerHydrationData.push(a,f);return new wc(s)},nn.render=function(r,s,a){if(!Ec(s))throw Error(t(200));return Tc(null,r,s,!1,a)},nn.unmountComponentAtNode=function(r){if(!Ec(r))throw Error(t(40));return r._reactRootContainer?(_s(function(){Tc(null,null,r,!1,function(){r._reactRootContainer=null,r[xr]=null})}),!0):!1},nn.unstable_batchedUpdates=If,nn.unstable_renderSubtreeIntoContainer=function(r,s,a,h){if(!Ec(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return Tc(r,s,a,!1,h)},nn.version="18.3.1-next-f1338f8080-20240426",nn}var I_;function zw(){if(I_)return Vf.exports;I_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Vf.exports=mS(),Vf.exports}var S_;function gS(){if(S_)return Sc;S_=1;var n=zw();return Sc.createRoot=n.createRoot,Sc.hydrateRoot=n.hydrateRoot,Sc}var yS=gS();function _S({newTodo:n,setNewTodo:e,addTask:t}){const i=o=>{o.preventDefault(),t(),e("")};return G.jsxs("form",{id:"add-task-form",className:"mt-3 flex gap-2",onSubmit:i,children:[G.jsx("input",{name:"task-name",id:"task-name",placeholder:"Add task...",value:n,onChange:o=>e(o.target.value),className:"py-1 pl-3 w-full border-2 border-slate-500 rounded-lg"}),G.jsx("button",{type:"submit",className:"bg-green-500 border-2 border-green-600 rounded-lg p-2 px-6 lg:px-8 text-white font-[500] hover:bg-green-700 transition-colors",children:"Add"})]})}var Yp=Qu(),xe=n=>Gu(n,Yp),Xp=Qu();xe.write=n=>Gu(n,Xp);var Sh=Qu();xe.onStart=n=>Gu(n,Sh);var Jp=Qu();xe.onFrame=n=>Gu(n,Jp);var Zp=Qu();xe.onFinish=n=>Gu(n,Zp);var Uo=[];xe.setTimeout=(n,e)=>{const t=xe.now()+e,i=()=>{const u=Uo.findIndex(c=>c.cancel==i);~u&&Uo.splice(u,1),Pi-=~u?1:0},o={time:t,handler:n,cancel:i};return Uo.splice(Bw(t),0,o),Pi+=1,$w(),o};var Bw=n=>~(~Uo.findIndex(e=>e.time>n)||~Uo.length);xe.cancel=n=>{Sh.delete(n),Jp.delete(n),Zp.delete(n),Yp.delete(n),Xp.delete(n)};xe.sync=n=>{lp=!0,xe.batchedUpdates(n),lp=!1};xe.throttle=n=>{let e;function t(){try{n(...e)}finally{e=null}}function i(...o){e=o,xe.onStart(t)}return i.handler=n,i.cancel=()=>{Sh.delete(t),e=null},i};var em=typeof window<"u"?window.requestAnimationFrame:()=>{};xe.use=n=>em=n;xe.now=typeof performance<"u"?()=>performance.now():Date.now;xe.batchedUpdates=n=>n();xe.catch=console.error;xe.frameLoop="always";xe.advance=()=>{xe.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Hw()};var Ci=-1,Pi=0,lp=!1;function Gu(n,e){lp?(e.delete(n),n(0)):(e.add(n),$w())}function $w(){Ci<0&&(Ci=0,xe.frameLoop!=="demand"&&em(qw))}function vS(){Ci=-1}function qw(){~Ci&&(em(qw),xe.batchedUpdates(Hw))}function Hw(){const n=Ci;Ci=xe.now();const e=Bw(Ci);if(e&&(Ww(Uo.splice(0,e),t=>t.handler()),Pi-=e),!Pi){vS();return}Sh.flush(),Yp.flush(n?Math.min(64,Ci-n):16.667),Jp.flush(),Xp.flush(),Zp.flush()}function Qu(){let n=new Set,e=n;return{add(t){Pi+=e==n&&!n.has(t)?1:0,n.add(t)},delete(t){return Pi-=e==n&&n.has(t)?1:0,n.delete(t)},flush(t){e.size&&(n=new Set,Pi-=e.size,Ww(e,i=>i(t)&&n.add(i)),Pi+=n.size,e=n)}}}function Ww(n,e){n.forEach(t=>{try{e(t)}catch(i){xe.catch(i)}})}var wS=Object.defineProperty,ES=(n,e)=>{for(var t in e)wS(n,t,{get:e[t],enumerable:!0})},Zn={};ES(Zn,{assign:()=>IS,colors:()=>xi,createStringInterpolator:()=>nm,skipAnimation:()=>Gw,to:()=>Kw,willAdvance:()=>rm});function cp(){}var TS=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),ee={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function Fr(n,e){if(ee.arr(n)){if(!ee.arr(e)||n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}return n===e}var De=(n,e)=>n.forEach(e);function _r(n,e,t){if(ee.arr(n)){for(let i=0;i<n.length;i++)e.call(t,n[i],`${i}`);return}for(const i in n)n.hasOwnProperty(i)&&e.call(t,n[i],i)}var Gt=n=>ee.und(n)?[]:ee.arr(n)?n:[n];function gu(n,e){if(n.size){const t=Array.from(n);n.clear(),De(t,e)}}var au=(n,...e)=>gu(n,t=>t(...e)),tm=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),nm,Kw,xi=null,Gw=!1,rm=cp,IS=n=>{n.to&&(Kw=n.to),n.now&&(xe.now=n.now),n.colors!==void 0&&(xi=n.colors),n.skipAnimation!=null&&(Gw=n.skipAnimation),n.createStringInterpolator&&(nm=n.createStringInterpolator),n.requestAnimationFrame&&xe.use(n.requestAnimationFrame),n.batchedUpdates&&(xe.batchedUpdates=n.batchedUpdates),n.willAdvance&&(rm=n.willAdvance),n.frameLoop&&(xe.frameLoop=n.frameLoop)},yu=new Set,Dn=[],Ff=[],Kc=0,Ah={get idle(){return!yu.size&&!Dn.length},start(n){Kc>n.priority?(yu.add(n),xe.onStart(SS)):(Qw(n),xe(hp))},advance:hp,sort(n){if(Kc)xe.onFrame(()=>Ah.sort(n));else{const e=Dn.indexOf(n);~e&&(Dn.splice(e,1),Yw(n))}},clear(){Dn=[],yu.clear()}};function SS(){yu.forEach(Qw),yu.clear(),xe(hp)}function Qw(n){Dn.includes(n)||Yw(n)}function Yw(n){Dn.splice(AS(Dn,e=>e.priority>n.priority),0,n)}function hp(n){const e=Ff;for(let t=0;t<Dn.length;t++){const i=Dn[t];Kc=i.priority,i.idle||(rm(i),i.advance(n),i.idle||e.push(i))}return Kc=0,Ff=Dn,Ff.length=0,Dn=e,Dn.length>0}function AS(n,e){const t=n.findIndex(e);return t<0?n.length:t}var RS=(n,e,t)=>Math.min(Math.max(t,n),e),CS={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Xn="[-+]?\\d*\\.?\\d+",Gc=Xn+"%";function Rh(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var PS=new RegExp("rgb"+Rh(Xn,Xn,Xn)),kS=new RegExp("rgba"+Rh(Xn,Xn,Xn,Xn)),xS=new RegExp("hsl"+Rh(Xn,Gc,Gc)),NS=new RegExp("hsla"+Rh(Xn,Gc,Gc,Xn)),DS=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,OS=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,bS=/^#([0-9a-fA-F]{6})$/,VS=/^#([0-9a-fA-F]{8})$/;function MS(n){let e;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(e=bS.exec(n))?parseInt(e[1]+"ff",16)>>>0:xi&&xi[n]!==void 0?xi[n]:(e=PS.exec(n))?(Oo(e[1])<<24|Oo(e[2])<<16|Oo(e[3])<<8|255)>>>0:(e=kS.exec(n))?(Oo(e[1])<<24|Oo(e[2])<<16|Oo(e[3])<<8|C_(e[4]))>>>0:(e=DS.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=VS.exec(n))?parseInt(e[1],16)>>>0:(e=OS.exec(n))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=xS.exec(n))?(A_(R_(e[1]),Ac(e[2]),Ac(e[3]))|255)>>>0:(e=NS.exec(n))?(A_(R_(e[1]),Ac(e[2]),Ac(e[3]))|C_(e[4]))>>>0:null}function Uf(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function A_(n,e,t){const i=t<.5?t*(1+e):t+e-t*e,o=2*t-i,u=Uf(o,i,n+1/3),c=Uf(o,i,n),d=Uf(o,i,n-1/3);return Math.round(u*255)<<24|Math.round(c*255)<<16|Math.round(d*255)<<8}function Oo(n){const e=parseInt(n,10);return e<0?0:e>255?255:e}function R_(n){return(parseFloat(n)%360+360)%360/360}function C_(n){const e=parseFloat(n);return e<0?0:e>1?255:Math.round(e*255)}function Ac(n){const e=parseFloat(n);return e<0?0:e>100?1:e/100}function P_(n){let e=MS(n);if(e===null)return n;e=e||0;const t=(e&4278190080)>>>24,i=(e&16711680)>>>16,o=(e&65280)>>>8,u=(e&255)/255;return`rgba(${t}, ${i}, ${o}, ${u})`}var Cu=(n,e,t)=>{if(ee.fun(n))return n;if(ee.arr(n))return Cu({range:n,output:e,extrapolate:t});if(ee.str(n.output[0]))return nm(n);const i=n,o=i.output,u=i.range||[0,1],c=i.extrapolateLeft||i.extrapolate||"extend",d=i.extrapolateRight||i.extrapolate||"extend",p=i.easing||(y=>y);return y=>{const w=FS(y,u);return LS(y,u[w],u[w+1],o[w],o[w+1],p,c,d,i.map)}};function LS(n,e,t,i,o,u,c,d,p){let y=p?p(n):n;if(y<e){if(c==="identity")return y;c==="clamp"&&(y=e)}if(y>t){if(d==="identity")return y;d==="clamp"&&(y=t)}return i===o?i:e===t?n<=e?i:o:(e===-1/0?y=-y:t===1/0?y=y-e:y=(y-e)/(t-e),y=u(y),i===-1/0?y=-y:o===1/0?y=y+i:y=y*(o-i)+i,y)}function FS(n,e){for(var t=1;t<e.length-1&&!(e[t]>=n);++t);return t-1}var US=(n,e="end")=>t=>{t=e==="end"?Math.min(t,.999):Math.max(t,.001);const i=t*n,o=e==="end"?Math.floor(i):Math.ceil(i);return RS(0,1,o/n)},Qc=1.70158,Rc=Qc*1.525,k_=Qc+1,x_=2*Math.PI/3,N_=2*Math.PI/4.5,Cc=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,jS={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>k_*n*n*n-Qc*n*n,easeOutBack:n=>1+k_*Math.pow(n-1,3)+Qc*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((Rc+1)*2*n-Rc)/2:(Math.pow(2*n-2,2)*((Rc+1)*(n*2-2)+Rc)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*x_),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*x_)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*N_))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*N_)/2+1,easeInBounce:n=>1-Cc(1-n),easeOutBounce:Cc,easeInOutBounce:n=>n<.5?(1-Cc(1-2*n))/2:(1+Cc(2*n-1))/2,steps:US},Pu=Symbol.for("FluidValue.get"),Ho=Symbol.for("FluidValue.observers"),Nn=n=>!!(n&&n[Pu]),sn=n=>n&&n[Pu]?n[Pu]():n,D_=n=>n[Ho]||null;function zS(n,e){n.eventObserved?n.eventObserved(e):n(e)}function ku(n,e){const t=n[Ho];t&&t.forEach(i=>{zS(i,e)})}var Xw=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");BS(this,n)}},BS=(n,e)=>Jw(n,Pu,e);function ta(n,e){if(n[Pu]){let t=n[Ho];t||Jw(n,Ho,t=new Set),t.has(e)||(t.add(e),n.observerAdded&&n.observerAdded(t.size,e))}return e}function xu(n,e){const t=n[Ho];if(t&&t.has(e)){const i=t.size-1;i?t.delete(e):n[Ho]=null,n.observerRemoved&&n.observerRemoved(i,e)}}var Jw=(n,e,t)=>Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0}),Vc=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,$S=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,O_=new RegExp(`(${Vc.source})(%|[a-z]+)`,"i"),qS=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Ch=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Zw=n=>{const[e,t]=HS(n);if(!e||tm())return n;const i=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(i)return i.trim();if(t&&t.startsWith("--")){const o=window.getComputedStyle(document.documentElement).getPropertyValue(t);return o||n}else{if(t&&Ch.test(t))return Zw(t);if(t)return t}return n},HS=n=>{const e=Ch.exec(n);if(!e)return[,];const[,t,i]=e;return[t,i]},jf,WS=(n,e,t,i,o)=>`rgba(${Math.round(e)}, ${Math.round(t)}, ${Math.round(i)}, ${o})`,eE=n=>{jf||(jf=xi?new RegExp(`(${Object.keys(xi).join("|")})(?!\\w)`,"g"):/^\b$/);const e=n.output.map(u=>sn(u).replace(Ch,Zw).replace($S,P_).replace(jf,P_)),t=e.map(u=>u.match(Vc).map(Number)),o=t[0].map((u,c)=>t.map(d=>{if(!(c in d))throw Error('The arity of each "output" value must be equal');return d[c]})).map(u=>Cu({...n,output:u}));return u=>{var p;const c=!O_.test(e[0])&&((p=e.find(y=>O_.test(y)))==null?void 0:p.replace(Vc,""));let d=0;return e[0].replace(Vc,()=>`${o[d++](u)}${c||""}`).replace(qS,WS)}},im="react-spring: ",tE=n=>{const e=n;let t=!1;if(typeof e!="function")throw new TypeError(`${im}once requires a function parameter`);return(...i)=>{t||(e(...i),t=!0)}},KS=tE(console.warn);function GS(){KS(`${im}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var QS=tE(console.warn);function YS(){QS(`${im}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Ph(n){return ee.str(n)&&(n[0]=="#"||/\d/.test(n)||!tm()&&Ch.test(n)||n in(xi||{}))}var Fo=tm()?ye.useEffect:ye.useLayoutEffect,XS=()=>{const n=ye.useRef(!1);return Fo(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function nE(){const n=ye.useState()[1],e=XS();return()=>{e.current&&n(Math.random())}}function JS(n,e){const[t]=ye.useState(()=>({inputs:e,result:n()})),i=ye.useRef(),o=i.current;let u=o;return u?u.inputs&&ZS(e,u.inputs)||(u={inputs:e,result:n()}):u=t,ye.useEffect(()=>{i.current=u,o==t&&(t.inputs=t.result=void 0)},[u]),u.result}function ZS(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}var rE=n=>ye.useEffect(n,e1),e1=[];function t1(n){const e=ye.useRef();return ye.useEffect(()=>{e.current=n}),e.current}var Nu=Symbol.for("Animated:node"),n1=n=>!!n&&n[Nu]===n,dr=n=>n&&n[Nu],sm=(n,e)=>TS(n,Nu,e),kh=n=>n&&n[Nu]&&n[Nu].getPayload(),iE=class{constructor(){sm(this,this)}getPayload(){return this.payload||[]}},Yu=class extends iE{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,ee.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new Yu(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,e){return ee.num(n)&&(this.lastPosition=n,e&&(n=Math.round(n/e)*e,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,ee.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},Du=class extends Yu{constructor(n){super(0),this._string=null,this._toString=Cu({output:[n,n]})}static create(n){return new Du(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(ee.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=Cu({output:[this.getValue(),n]})),this._value=0,super.reset()}},Yc={dependencies:null},xh=class extends iE{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const e={};return _r(this.source,(t,i)=>{n1(t)?e[i]=t.getValue(n):Nn(t)?e[i]=sn(t):n||(e[i]=t)}),e}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&De(this.payload,n=>n.reset())}_makePayload(n){if(n){const e=new Set;return _r(n,this._addToPayload,e),Array.from(e)}}_addToPayload(n){Yc.dependencies&&Nn(n)&&Yc.dependencies.add(n);const e=kh(n);e&&De(e,t=>this.add(t))}},sE=class extends xh{constructor(n){super(n)}static create(n){return new sE(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const e=this.getPayload();return n.length==e.length?e.map((t,i)=>t.setValue(n[i])).some(Boolean):(super.setValue(n.map(r1)),!0)}};function r1(n){return(Ph(n)?Du:Yu).create(n)}function dp(n){const e=dr(n);return e?e.constructor:ee.arr(n)?sE:Ph(n)?Du:Yu}var b_=(n,e)=>{const t=!ee.fun(n)||n.prototype&&n.prototype.isReactComponent;return ye.forwardRef((i,o)=>{const u=ye.useRef(null),c=t&&ye.useCallback(b=>{u.current=o1(o,b)},[o]),[d,p]=s1(i,e),y=nE(),w=()=>{const b=u.current;if(t&&!b)return;(b?e.applyAnimatedValues(b,d.getValue(!0)):!1)===!1&&y()},T=new i1(w,p),I=ye.useRef();Fo(()=>(I.current=T,De(p,b=>ta(b,T)),()=>{I.current&&(De(I.current.deps,b=>xu(b,I.current)),xe.cancel(I.current.update))})),ye.useEffect(w,[]),rE(()=>()=>{const b=I.current;De(b.deps,z=>xu(z,b))});const O=e.getComponentProps(d.getValue());return ye.createElement(n,{...O,ref:c})})},i1=class{constructor(n,e){this.update=n,this.deps=e}eventObserved(n){n.type=="change"&&xe.write(this.update)}};function s1(n,e){const t=new Set;return Yc.dependencies=t,n.style&&(n={...n,style:e.createAnimatedStyle(n.style)}),n=new xh(n),Yc.dependencies=null,[n,t]}function o1(n,e){return n&&(ee.fun(n)?n(e):n.current=e),e}var V_=Symbol.for("AnimatedComponent"),a1=(n,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:t=o=>new xh(o),getComponentProps:i=o=>o}={})=>{const o={applyAnimatedValues:e,createAnimatedStyle:t,getComponentProps:i},u=c=>{const d=M_(c)||"Anonymous";return ee.str(c)?c=u[c]||(u[c]=b_(c,o)):c=c[V_]||(c[V_]=b_(c,o)),c.displayName=`Animated(${d})`,c};return _r(n,(c,d)=>{ee.arr(n)&&(d=M_(c)),u[d]=u(c)}),{animated:u}},M_=n=>ee.str(n)?n:n&&ee.str(n.displayName)?n.displayName:ee.fun(n)&&n.name||null;function on(n,...e){return ee.fun(n)?n(...e):n}var _u=(n,e)=>n===!0||!!(e&&n&&(ee.fun(n)?n(e):Gt(n).includes(e))),oE=(n,e)=>ee.obj(n)?e&&n[e]:n,aE=(n,e)=>n.default===!0?n[e]:n.default?n.default[e]:void 0,u1=n=>n,om=(n,e=u1)=>{let t=l1;n.default&&n.default!==!0&&(n=n.default,t=Object.keys(n));const i={};for(const o of t){const u=e(n[o],o);ee.und(u)||(i[o]=u)}return i},l1=["config","onProps","onStart","onChange","onPause","onResume","onRest"],c1={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function h1(n){const e={};let t=0;if(_r(n,(i,o)=>{c1[o]||(e[o]=i,t++)}),t)return e}function am(n){const e=h1(n);if(e){const t={to:e};return _r(n,(i,o)=>o in e||(t[o]=i)),t}return{...n}}function Ou(n){return n=sn(n),ee.arr(n)?n.map(Ou):Ph(n)?Zn.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function d1(n){for(const e in n)return!0;return!1}function fp(n){return ee.fun(n)||ee.arr(n)&&ee.obj(n[0])}function L_(n,e){var t;(t=n.ref)==null||t.delete(n),e==null||e.delete(n)}function f1(n,e){var t;e&&n.ref!==e&&((t=n.ref)==null||t.delete(n),e.add(n),n.ref=e)}var p1={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},pp={...p1.default,mass:1,damping:1,easing:jS.linear,clamp:!1},m1=class{constructor(){this.velocity=0,Object.assign(this,pp)}};function g1(n,e,t){t&&(t={...t},F_(t,e),e={...t,...e}),F_(n,e),Object.assign(n,e);for(const c in pp)n[c]==null&&(n[c]=pp[c]);let{frequency:i,damping:o}=n;const{mass:u}=n;return ee.und(i)||(i<.01&&(i=.01),o<0&&(o=0),n.tension=Math.pow(2*Math.PI/i,2)*u,n.friction=4*Math.PI*o*u/i),n}function F_(n,e){if(!ee.und(e.decay))n.duration=void 0;else{const t=!ee.und(e.tension)||!ee.und(e.friction);(t||!ee.und(e.frequency)||!ee.und(e.damping)||!ee.und(e.mass))&&(n.duration=void 0,n.decay=void 0),t&&(n.frequency=void 0)}}var U_=[],y1=class{constructor(){this.changed=!1,this.values=U_,this.toValues=null,this.fromValues=U_,this.config=new m1,this.immediate=!1}};function uE(n,{key:e,props:t,defaultProps:i,state:o,actions:u}){return new Promise((c,d)=>{let p,y,w=_u(t.cancel??(i==null?void 0:i.cancel),e);if(w)O();else{ee.und(t.pause)||(o.paused=_u(t.pause,e));let b=i==null?void 0:i.pause;b!==!0&&(b=o.paused||_u(b,e)),p=on(t.delay||0,e),b?(o.resumeQueue.add(I),u.pause()):(u.resume(),I())}function T(){o.resumeQueue.add(I),o.timeouts.delete(y),y.cancel(),p=y.time-xe.now()}function I(){p>0&&!Zn.skipAnimation?(o.delayed=!0,y=xe.setTimeout(O,p),o.pauseQueue.add(T),o.timeouts.add(y)):O()}function O(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(T),o.timeouts.delete(y),n<=(o.cancelId||0)&&(w=!0);try{u.start({...t,callId:n,cancel:w},c)}catch(b){d(b)}}})}var um=(n,e)=>e.length==1?e[0]:e.some(t=>t.cancelled)?jo(n.get()):e.every(t=>t.noop)?lE(n.get()):Qn(n.get(),e.every(t=>t.finished)),lE=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Qn=(n,e,t=!1)=>({value:n,finished:e,cancelled:t}),jo=n=>({value:n,cancelled:!0,finished:!1});function cE(n,e,t,i){const{callId:o,parentId:u,onRest:c}=e,{asyncTo:d,promise:p}=t;return!u&&n===d&&!e.reset?p:t.promise=(async()=>{t.asyncId=o,t.asyncTo=n;const y=om(e,(V,X)=>X==="onRest"?void 0:V);let w,T;const I=new Promise((V,X)=>(w=V,T=X)),O=V=>{const X=o<=(t.cancelId||0)&&jo(i)||o!==t.asyncId&&Qn(i,!1);if(X)throw V.result=X,T(V),V},b=(V,X)=>{const re=new j_,H=new z_;return(async()=>{if(Zn.skipAnimation)throw bu(t),H.result=Qn(i,!1),T(H),H;O(re);const te=ee.obj(V)?{...V}:{...X,to:V};te.parentId=o,_r(y,(ce,P)=>{ee.und(te[P])&&(te[P]=ce)});const de=await i.start(te);return O(re),t.paused&&await new Promise(ce=>{t.resumeQueue.add(ce)}),de})()};let z;if(Zn.skipAnimation)return bu(t),Qn(i,!1);try{let V;ee.arr(n)?V=(async X=>{for(const re of X)await b(re)})(n):V=Promise.resolve(n(b,i.stop.bind(i))),await Promise.all([V.then(w),I]),z=Qn(i.get(),!0,!1)}catch(V){if(V instanceof j_)z=V.result;else if(V instanceof z_)z=V.result;else throw V}finally{o==t.asyncId&&(t.asyncId=u,t.asyncTo=u?d:void 0,t.promise=u?p:void 0)}return ee.fun(c)&&xe.batchedUpdates(()=>{c(z,i,i.item)}),z})()}function bu(n,e){gu(n.timeouts,t=>t.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,e&&(n.cancelId=e)}var j_=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},z_=class extends Error{constructor(){super("SkipAnimationSignal")}},mp=n=>n instanceof lm,_1=1,lm=class extends Xw{constructor(){super(...arguments),this.id=_1++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=dr(this);return n&&n.getValue()}to(...n){return Zn.to(this,n)}interpolate(...n){return GS(),Zn.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,e=!1){ku(this,{type:"change",parent:this,value:n,idle:e})}_onPriorityChange(n){this.idle||Ah.sort(this),ku(this,{type:"priority",parent:this,priority:n})}},Ps=Symbol.for("SpringPhase"),hE=1,dE=2,fE=4,zf=n=>(n[Ps]&hE)>0,Ti=n=>(n[Ps]&dE)>0,iu=n=>(n[Ps]&fE)>0,B_=(n,e)=>e?n[Ps]|=dE|hE:n[Ps]&=-3,$_=(n,e)=>e?n[Ps]|=fE:n[Ps]&=-5,v1=class extends lm{constructor(n,e){if(super(),this.animation=new y1,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ee.und(n)||!ee.und(e)){const t=ee.obj(n)?{...n}:{...e,from:n};ee.und(t.default)&&(t.default=!0),this.start(t)}}get idle(){return!(Ti(this)||this._state.asyncTo)||iu(this)}get goal(){return sn(this.animation.to)}get velocity(){const n=dr(this);return n instanceof Yu?n.lastVelocity||0:n.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return zf(this)}get isAnimating(){return Ti(this)}get isPaused(){return iu(this)}get isDelayed(){return this._state.delayed}advance(n){let e=!0,t=!1;const i=this.animation;let{toValues:o}=i;const{config:u}=i,c=kh(i.to);!c&&Nn(i.to)&&(o=Gt(sn(i.to))),i.values.forEach((y,w)=>{if(y.done)return;const T=y.constructor==Du?1:c?c[w].lastPosition:o[w];let I=i.immediate,O=T;if(!I){if(O=y.lastPosition,u.tension<=0){y.done=!0;return}let b=y.elapsedTime+=n;const z=i.fromValues[w],V=y.v0!=null?y.v0:y.v0=ee.arr(u.velocity)?u.velocity[w]:u.velocity;let X;const re=u.precision||(z==T?.005:Math.min(1,Math.abs(T-z)*.001));if(ee.und(u.duration))if(u.decay){const H=u.decay===!0?.998:u.decay,te=Math.exp(-(1-H)*b);O=z+V/(1-H)*(1-te),I=Math.abs(y.lastPosition-O)<=re,X=V*te}else{X=y.lastVelocity==null?V:y.lastVelocity;const H=u.restVelocity||re/10,te=u.clamp?0:u.bounce,de=!ee.und(te),ce=z==T?y.v0>0:z<T;let P,S=!1;const A=1,k=Math.ceil(n/A);for(let N=0;N<k&&(P=Math.abs(X)>H,!(!P&&(I=Math.abs(T-O)<=re,I)));++N){de&&(S=O==T||O>T==ce,S&&(X=-X*te,O=T));const M=-u.tension*1e-6*(O-T),C=-u.friction*.001*X,fe=(M+C)/u.mass;X=X+fe*A,O=O+X*A}}else{let H=1;u.duration>0&&(this._memoizedDuration!==u.duration&&(this._memoizedDuration=u.duration,y.durationProgress>0&&(y.elapsedTime=u.duration*y.durationProgress,b=y.elapsedTime+=n)),H=(u.progress||0)+b/this._memoizedDuration,H=H>1?1:H<0?0:H,y.durationProgress=H),O=z+u.easing(H)*(T-z),X=(O-y.lastPosition)/n,I=H==1}y.lastVelocity=X,Number.isNaN(O)&&(console.warn("Got NaN while animating:",this),I=!0)}c&&!c[w].done&&(I=!1),I?y.done=!0:e=!1,y.setValue(O,u.round)&&(t=!0)});const d=dr(this),p=d.getValue();if(e){const y=sn(i.to);(p!==y||t)&&!u.decay?(d.setValue(y),this._onChange(y)):t&&u.decay&&this._onChange(p),this._stop()}else t&&this._onChange(p)}set(n){return xe.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Ti(this)){const{to:n,config:e}=this.animation;xe.batchedUpdates(()=>{this._onStart(),e.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,e){let t;return ee.und(n)?(t=this.queue||[],this.queue=[]):t=[ee.obj(n)?n:{...e,to:n}],Promise.all(t.map(i=>this._update(i))).then(i=>um(this,i))}stop(n){const{to:e}=this.animation;return this._focus(this.get()),bu(this._state,n&&this._lastCallId),xe.batchedUpdates(()=>this._stop(e,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const e=this.key||"";let{to:t,from:i}=n;t=ee.obj(t)?t[e]:t,(t==null||fp(t))&&(t=void 0),i=ee.obj(i)?i[e]:i,i==null&&(i=void 0);const o={to:t,from:i};return zf(this)||(n.reverse&&([t,i]=[i,t]),i=sn(i),ee.und(i)?dr(this)||this._set(t):this._set(i)),o}_update({...n},e){const{key:t,defaultProps:i}=this;n.default&&Object.assign(i,om(n,(c,d)=>/^on/.test(d)?oE(c,t):c)),H_(this,n,"onProps"),ou(this,"onProps",n,this);const o=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const u=this._state;return uE(++this._lastCallId,{key:t,props:n,defaultProps:i,state:u,actions:{pause:()=>{iu(this)||($_(this,!0),au(u.pauseQueue),ou(this,"onPause",Qn(this,su(this,this.animation.to)),this))},resume:()=>{iu(this)&&($_(this,!1),Ti(this)&&this._resume(),au(u.resumeQueue),ou(this,"onResume",Qn(this,su(this,this.animation.to)),this))},start:this._merge.bind(this,o)}}).then(c=>{if(n.loop&&c.finished&&!(e&&c.noop)){const d=pE(n);if(d)return this._update(d,!0)}return c})}_merge(n,e,t){if(e.cancel)return this.stop(!0),t(jo(this));const i=!ee.und(n.to),o=!ee.und(n.from);if(i||o)if(e.callId>this._lastToId)this._lastToId=e.callId;else return t(jo(this));const{key:u,defaultProps:c,animation:d}=this,{to:p,from:y}=d;let{to:w=p,from:T=y}=n;o&&!i&&(!e.default||ee.und(w))&&(w=T),e.reverse&&([w,T]=[T,w]);const I=!Fr(T,y);I&&(d.from=T),T=sn(T);const O=!Fr(w,p);O&&this._focus(w);const b=fp(e.to),{config:z}=d,{decay:V,velocity:X}=z;(i||o)&&(z.velocity=0),e.config&&!b&&g1(z,on(e.config,u),e.config!==c.config?on(c.config,u):void 0);let re=dr(this);if(!re||ee.und(w))return t(Qn(this,!0));const H=ee.und(e.reset)?o&&!e.default:!ee.und(T)&&_u(e.reset,u),te=H?T:this.get(),de=Ou(w),ce=ee.num(de)||ee.arr(de)||Ph(de),P=!b&&(!ce||_u(c.immediate||e.immediate,u));if(O){const N=dp(w);if(N!==re.constructor)if(P)re=this._set(de);else throw Error(`Cannot animate between ${re.constructor.name} and ${N.name}, as the "to" prop suggests`)}const S=re.constructor;let A=Nn(w),k=!1;if(!A){const N=H||!zf(this)&&I;(O||N)&&(k=Fr(Ou(te),de),A=!k),(!Fr(d.immediate,P)&&!P||!Fr(z.decay,V)||!Fr(z.velocity,X))&&(A=!0)}if(k&&Ti(this)&&(d.changed&&!H?A=!0:A||this._stop(p)),!b&&((A||Nn(p))&&(d.values=re.getPayload(),d.toValues=Nn(w)?null:S==Du?[1]:Gt(de)),d.immediate!=P&&(d.immediate=P,!P&&!H&&this._set(p)),A)){const{onRest:N}=d;De(w1,C=>H_(this,e,C));const M=Qn(this,su(this,p));au(this._pendingCalls,M),this._pendingCalls.add(t),d.changed&&xe.batchedUpdates(()=>{var C;d.changed=!H,N==null||N(M,this),H?on(c.onRest,M):(C=d.onStart)==null||C.call(d,M,this)})}H&&this._set(te),b?t(cE(e.to,e,this._state,this)):A?this._start():Ti(this)&&!O?this._pendingCalls.add(t):t(lE(te))}_focus(n){const e=this.animation;n!==e.to&&(D_(this)&&this._detach(),e.to=n,D_(this)&&this._attach())}_attach(){let n=0;const{to:e}=this.animation;Nn(e)&&(ta(e,this),mp(e)&&(n=e.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;Nn(n)&&xu(n,this)}_set(n,e=!0){const t=sn(n);if(!ee.und(t)){const i=dr(this);if(!i||!Fr(t,i.getValue())){const o=dp(t);!i||i.constructor!=o?sm(this,o.create(t)):i.setValue(t),i&&xe.batchedUpdates(()=>{this._onChange(t,e)})}}return dr(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,ou(this,"onStart",Qn(this,su(this,n.to)),this))}_onChange(n,e){e||(this._onStart(),on(this.animation.onChange,n,this)),on(this.defaultProps.onChange,n,this),super._onChange(n,e)}_start(){const n=this.animation;dr(this).reset(sn(n.to)),n.immediate||(n.fromValues=n.values.map(e=>e.lastPosition)),Ti(this)||(B_(this,!0),iu(this)||this._resume())}_resume(){Zn.skipAnimation?this.finish():Ah.start(this)}_stop(n,e){if(Ti(this)){B_(this,!1);const t=this.animation;De(t.values,o=>{o.done=!0}),t.toValues&&(t.onChange=t.onPause=t.onResume=void 0),ku(this,{type:"idle",parent:this});const i=e?jo(this.get()):Qn(this.get(),su(this,n??t.to));au(this._pendingCalls,i),t.changed&&(t.changed=!1,ou(this,"onRest",i,this))}}};function su(n,e){const t=Ou(e),i=Ou(n.get());return Fr(i,t)}function pE(n,e=n.loop,t=n.to){const i=on(e);if(i){const o=i!==!0&&am(i),u=(o||n).reverse,c=!o||o.reset;return Xc({...n,loop:e,default:!1,pause:void 0,to:!u||fp(t)?t:void 0,from:c?n.from:void 0,reset:c,...o})}}function Xc(n){const{to:e,from:t}=n=am(n),i=new Set;return ee.obj(e)&&q_(e,i),ee.obj(t)&&q_(t,i),n.keys=i.size?Array.from(i):null,n}function q_(n,e){_r(n,(t,i)=>t!=null&&e.add(i))}var w1=["onStart","onRest","onChange","onPause","onResume"];function H_(n,e,t){n.animation[t]=e[t]!==aE(e,t)?oE(e[t],n.key):void 0}function ou(n,e,...t){var i,o,u,c;(o=(i=n.animation)[e])==null||o.call(i,...t),(c=(u=n.defaultProps)[e])==null||c.call(u,...t)}var E1=["onStart","onChange","onRest"],T1=1,I1=class{constructor(n,e){this.id=T1++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((e,t)=>n[t]=e.get()),n}set(n){for(const e in n){const t=n[e];ee.und(t)||this.springs[e].set(t)}}update(n){return n&&this.queue.push(Xc(n)),this}start(n){let{queue:e}=this;return n?e=Gt(n).map(Xc):this.queue=[],this._flush?this._flush(this,e):(_E(this,e),S1(this,e))}stop(n,e){if(n!==!!n&&(e=n),e){const t=this.springs;De(Gt(e),i=>t[i].stop(!!n))}else bu(this._state,this._lastAsyncId),this.each(t=>t.stop(!!n));return this}pause(n){if(ee.und(n))this.start({pause:!0});else{const e=this.springs;De(Gt(n),t=>e[t].pause())}return this}resume(n){if(ee.und(n))this.start({pause:!1});else{const e=this.springs;De(Gt(n),t=>e[t].resume())}return this}each(n){_r(this.springs,n)}_onFrame(){const{onStart:n,onChange:e,onRest:t}=this._events,i=this._active.size>0,o=this._changed.size>0;(i&&!this._started||o&&!this._started)&&(this._started=!0,gu(n,([d,p])=>{p.value=this.get(),d(p,this,this._item)}));const u=!i&&this._started,c=o||u&&t.size?this.get():null;o&&e.size&&gu(e,([d,p])=>{p.value=c,d(p,this,this._item)}),u&&(this._started=!1,gu(t,([d,p])=>{p.value=c,d(p,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;xe.onFrame(this._onFrame)}};function S1(n,e){return Promise.all(e.map(t=>mE(n,t))).then(t=>um(n,t))}async function mE(n,e,t){const{keys:i,to:o,from:u,loop:c,onRest:d,onResolve:p}=e,y=ee.obj(e.default)&&e.default;c&&(e.loop=!1),o===!1&&(e.to=null),u===!1&&(e.from=null);const w=ee.arr(o)||ee.fun(o)?o:void 0;w?(e.to=void 0,e.onRest=void 0,y&&(y.onRest=void 0)):De(E1,z=>{const V=e[z];if(ee.fun(V)){const X=n._events[z];e[z]=({finished:re,cancelled:H})=>{const te=X.get(V);te?(re||(te.finished=!1),H&&(te.cancelled=!0)):X.set(V,{value:null,finished:re||!1,cancelled:H||!1})},y&&(y[z]=e[z])}});const T=n._state;e.pause===!T.paused?(T.paused=e.pause,au(e.pause?T.pauseQueue:T.resumeQueue)):T.paused&&(e.pause=!0);const I=(i||Object.keys(n.springs)).map(z=>n.springs[z].start(e)),O=e.cancel===!0||aE(e,"cancel")===!0;(w||O&&T.asyncId)&&I.push(uE(++n._lastAsyncId,{props:e,state:T,actions:{pause:cp,resume:cp,start(z,V){O?(bu(T,n._lastAsyncId),V(jo(n))):(z.onRest=d,V(cE(w,z,T,n)))}}})),T.paused&&await new Promise(z=>{T.resumeQueue.add(z)});const b=um(n,await Promise.all(I));if(c&&b.finished&&!(t&&b.noop)){const z=pE(e,c,o);if(z)return _E(n,[z]),mE(n,z,!0)}return p&&xe.batchedUpdates(()=>p(b,n,n.item)),b}function A1(n,e){const t={...n.springs};return De(Gt(e),i=>{ee.und(i.keys)&&(i=Xc(i)),ee.obj(i.to)||(i={...i,to:void 0}),yE(t,i,o=>gE(o))}),R1(n,t),t}function R1(n,e){_r(e,(t,i)=>{n.springs[i]||(n.springs[i]=t,ta(t,n))})}function gE(n,e){const t=new v1;return t.key=n,e&&ta(t,e),t}function yE(n,e,t){e.keys&&De(e.keys,i=>{(n[i]||(n[i]=t(i)))._prepareNode(e)})}function _E(n,e){De(e,t=>{yE(n.springs,t,i=>gE(i,n))})}var Nh=({children:n,...e})=>{const t=ye.useContext(Jc),i=e.pause||!!t.pause,o=e.immediate||!!t.immediate;e=JS(()=>({pause:i,immediate:o}),[i,o]);const{Provider:u}=Jc;return ye.createElement(u,{value:e},n)},Jc=C1(Nh,{});Nh.Provider=Jc.Provider;Nh.Consumer=Jc.Consumer;function C1(n,e){return Object.assign(n,ye.createContext(e)),n.Provider._context=n,n.Consumer._context=n,n}var P1=()=>{const n=[],e=function(i){YS();const o=[];return De(n,(u,c)=>{if(ee.und(i))o.push(u.start());else{const d=t(i,u,c);d&&o.push(u.start(d))}}),o};e.current=n,e.add=function(i){n.includes(i)||n.push(i)},e.delete=function(i){const o=n.indexOf(i);~o&&n.splice(o,1)},e.pause=function(){return De(n,i=>i.pause(...arguments)),this},e.resume=function(){return De(n,i=>i.resume(...arguments)),this},e.set=function(i){De(n,(o,u)=>{const c=ee.fun(i)?i(u,o):i;c&&o.set(c)})},e.start=function(i){const o=[];return De(n,(u,c)=>{if(ee.und(i))o.push(u.start());else{const d=this._getProps(i,u,c);d&&o.push(u.start(d))}}),o},e.stop=function(){return De(n,i=>i.stop(...arguments)),this},e.update=function(i){return De(n,(o,u)=>o.update(this._getProps(i,o,u))),this};const t=function(i,o,u){return ee.fun(i)?i(u,o):i};return e._getProps=t,e};function Zc(n,e,t){const i=ee.fun(e)&&e,{reset:o,sort:u,trail:c=0,expires:d=!0,exitBeforeEnter:p=!1,onDestroyed:y,ref:w,config:T}=i?i():e,I=ye.useMemo(()=>i||arguments.length==3?P1():void 0,[]),O=Gt(n),b=[],z=ye.useRef(null),V=o?null:z.current;Fo(()=>{z.current=b}),rE(()=>(De(b,fe=>{I==null||I.add(fe.ctrl),fe.ctrl.ref=I}),()=>{De(z.current,fe=>{fe.expired&&clearTimeout(fe.expirationId),L_(fe.ctrl,I),fe.ctrl.stop(!0)})}));const X=x1(O,i?i():e,V),re=o&&z.current||[];Fo(()=>De(re,({ctrl:fe,item:we,key:He})=>{L_(fe,I),on(y,we,He)}));const H=[];if(V&&De(V,(fe,we)=>{fe.expired?(clearTimeout(fe.expirationId),re.push(fe)):(we=H[we]=X.indexOf(fe.key),~we&&(b[we]=fe))}),De(O,(fe,we)=>{b[we]||(b[we]={key:X[we],item:fe,phase:"mount",ctrl:new I1},b[we].ctrl.item=fe)}),H.length){let fe=-1;const{leave:we}=i?i():e;De(H,(He,Pe)=>{const J=V[Pe];~He?(fe=b.indexOf(J),b[fe]={...J,item:O[He]}):we&&b.splice(++fe,0,J)})}ee.fun(u)&&b.sort((fe,we)=>u(fe.item,we.item));let te=-c;const de=nE(),ce=om(e),P=new Map,S=ye.useRef(new Map),A=ye.useRef(!1);De(b,(fe,we)=>{const He=fe.key,Pe=fe.phase,J=i?i():e;let ue,se;const L=on(J.delay||0,He);if(Pe=="mount")ue=J.enter,se="enter";else{const Ie=X.indexOf(He)<0;if(Pe!="leave")if(Ie)ue=J.leave,se="leave";else if(ue=J.update)se="update";else return;else if(!Ie)ue=J.enter,se="enter";else return}if(ue=on(ue,fe.item,we),ue=ee.obj(ue)?am(ue):{to:ue},!ue.config){const Ie=T||ce.config;ue.config=on(Ie,fe.item,we,se)}te+=c;const q={...ce,delay:L+te,ref:w,immediate:J.immediate,reset:!1,...ue};if(se=="enter"&&ee.und(q.from)){const Ie=i?i():e,Oe=ee.und(Ie.initial)||V?Ie.from:Ie.initial;q.from=on(Oe,fe.item,we)}const{onResolve:_e}=q;q.onResolve=Ie=>{on(_e,Ie);const Oe=z.current,be=Oe.find(Me=>Me.key===He);if(be&&!(Ie.cancelled&&be.phase!="update")&&be.ctrl.idle){const Me=Oe.every(ze=>ze.ctrl.idle);if(be.phase=="leave"){const ze=on(d,be.item);if(ze!==!1){const ot=ze===!0?0:ze;if(be.expired=!0,!Me&&ot>0){ot<=2147483647&&(be.expirationId=setTimeout(de,ot));return}}}Me&&Oe.some(ze=>ze.expired)&&(S.current.delete(be),p&&(A.current=!0),de())}};const Ne=A1(fe.ctrl,q);se==="leave"&&p?S.current.set(fe,{phase:se,springs:Ne,payload:q}):P.set(fe,{phase:se,springs:Ne,payload:q})});const k=ye.useContext(Nh),N=t1(k),M=k!==N&&d1(k);Fo(()=>{M&&De(b,fe=>{fe.ctrl.start({default:k})})},[k]),De(P,(fe,we)=>{if(S.current.size){const He=b.findIndex(Pe=>Pe.key===we.key);b.splice(He,1)}}),Fo(()=>{De(S.current.size?S.current:P,({phase:fe,payload:we},He)=>{const{ctrl:Pe}=He;He.phase=fe,I==null||I.add(Pe),M&&fe=="enter"&&Pe.start({default:k}),we&&(f1(Pe,we.ref),(Pe.ref||I)&&!A.current?Pe.update(we):(Pe.start(we),A.current&&(A.current=!1)))})},o?void 0:t);const C=fe=>ye.createElement(ye.Fragment,null,b.map((we,He)=>{const{springs:Pe}=P.get(we)||we.ctrl,J=fe({...Pe},we.item,we,He);return J&&J.type?ye.createElement(J.type,{...J.props,key:ee.str(we.key)||ee.num(we.key)?we.key:we.ctrl.id,ref:J.ref}):J}));return I?[C,I]:C}var k1=1;function x1(n,{key:e,keys:t=e},i){if(t===null){const o=new Set;return n.map(u=>{const c=i&&i.find(d=>d.item===u&&d.phase!=="leave"&&!o.has(d));return c?(o.add(c),c.key):k1++})}return ee.und(t)?n:ee.fun(t)?n.map(t):Gt(t)}var N1=class extends lm{constructor(n,e){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=Cu(...e);const t=this._get(),i=dp(t);sm(this,i.create(t))}advance(n){const e=this._get(),t=this.get();Fr(e,t)||(dr(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&W_(this._active)&&Bf(this)}_get(){const n=ee.arr(this.source)?this.source.map(sn):Gt(sn(this.source));return this.calc(...n)}_start(){this.idle&&!W_(this._active)&&(this.idle=!1,De(kh(this),n=>{n.done=!1}),Zn.skipAnimation?(xe.batchedUpdates(()=>this.advance()),Bf(this)):Ah.start(this))}_attach(){let n=1;De(Gt(this.source),e=>{Nn(e)&&ta(e,this),mp(e)&&(e.idle||this._active.add(e),n=Math.max(n,e.priority+1))}),this.priority=n,this._start()}_detach(){De(Gt(this.source),n=>{Nn(n)&&xu(n,this)}),this._active.clear(),Bf(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Gt(this.source).reduce((e,t)=>Math.max(e,(mp(t)?t.priority:0)+1),0))}};function D1(n){return n.idle!==!1}function W_(n){return!n.size||Array.from(n).every(D1)}function Bf(n){n.idle||(n.idle=!0,De(kh(n),e=>{e.done=!0}),ku(n,{type:"idle",parent:n}))}Zn.assign({createStringInterpolator:eE,to:(n,e)=>new N1(n,e)});var O1=zw(),vE=/^--/;function b1(n,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!vE.test(n)&&!(vu.hasOwnProperty(n)&&vu[n])?e+"px":(""+e).trim()}var K_={};function V1(n,e){if(!n.nodeType||!n.setAttribute)return!1;const t=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{className:i,style:o,children:u,scrollTop:c,scrollLeft:d,viewBox:p,...y}=e,w=Object.values(y),T=Object.keys(y).map(I=>t||n.hasAttribute(I)?I:K_[I]||(K_[I]=I.replace(/([A-Z])/g,O=>"-"+O.toLowerCase())));u!==void 0&&(n.textContent=u);for(const I in o)if(o.hasOwnProperty(I)){const O=b1(I,o[I]);vE.test(I)?n.style.setProperty(I,O):n.style[I]=O}T.forEach((I,O)=>{n.setAttribute(I,w[O])}),i!==void 0&&(n.className=i),c!==void 0&&(n.scrollTop=c),d!==void 0&&(n.scrollLeft=d),p!==void 0&&n.setAttribute("viewBox",p)}var vu={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},M1=(n,e)=>n+e.charAt(0).toUpperCase()+e.substring(1),L1=["Webkit","Ms","Moz","O"];vu=Object.keys(vu).reduce((n,e)=>(L1.forEach(t=>n[M1(t,e)]=n[e]),n),vu);var F1=/^(matrix|translate|scale|rotate|skew)/,U1=/^(translate)/,j1=/^(rotate|skew)/,$f=(n,e)=>ee.num(n)&&n!==0?n+e:n,Mc=(n,e)=>ee.arr(n)?n.every(t=>Mc(t,e)):ee.num(n)?n===e:parseFloat(n)===e,z1=class extends xh{constructor({x:n,y:e,z:t,...i}){const o=[],u=[];(n||e||t)&&(o.push([n||0,e||0,t||0]),u.push(c=>[`translate3d(${c.map(d=>$f(d,"px")).join(",")})`,Mc(c,0)])),_r(i,(c,d)=>{if(d==="transform")o.push([c||""]),u.push(p=>[p,p===""]);else if(F1.test(d)){if(delete i[d],ee.und(c))return;const p=U1.test(d)?"px":j1.test(d)?"deg":"";o.push(Gt(c)),u.push(d==="rotate3d"?([y,w,T,I])=>[`rotate3d(${y},${w},${T},${$f(I,p)})`,Mc(I,0)]:y=>[`${d}(${y.map(w=>$f(w,p)).join(",")})`,Mc(y,d.startsWith("scale")?1:0)])}}),o.length&&(i.transform=new B1(o,u)),super(i)}},B1=class extends Xw{constructor(n,e){super(),this.inputs=n,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",e=!0;return De(this.inputs,(t,i)=>{const o=sn(t[0]),[u,c]=this.transforms[i](ee.arr(o)?o:t.map(sn));n+=" "+u,e=e&&c}),e?"none":n}observerAdded(n){n==1&&De(this.inputs,e=>De(e,t=>Nn(t)&&ta(t,this)))}observerRemoved(n){n==0&&De(this.inputs,e=>De(e,t=>Nn(t)&&xu(t,this)))}eventObserved(n){n.type=="change"&&(this._value=null),ku(this,n)}},$1=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];Zn.assign({batchedUpdates:O1.unstable_batchedUpdates,createStringInterpolator:eE,colors:CS});var q1=a1($1,{applyAnimatedValues:V1,createAnimatedStyle:n=>new z1(n),getComponentProps:({scrollTop:n,scrollLeft:e,...t})=>t}),wu=q1.animated;function G_({isRemoveAlert:n,setIsRemoveAlert:e,handleRemove:t}){const i=Zc(n,{from:{transform:"translateY(150%)"},enter:{transform:"translateY(0%)"},leave:{transform:"translateY(150%)"},config:{tension:150,friction:25}});return Zc(n,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{tension:120,friction:25,duration:500}})((u,c)=>c&&G.jsx(wu.div,{style:{backgroundColor:"rgba(0, 0, 0, 0.3)",pointerEvents:n?"auto":"none",...u},onClick:d=>{d.stopPropagation(),e(!1)},className:"fixed top-0 left-0 h-full w-full flex justify-center items-center bg-gray-500 z-20",children:i((d,p)=>p&&G.jsxs(wu.div,{style:d,onClick:y=>y.stopPropagation(),className:"w-[80%] max-w-[360px] max-h-[100px] xl:max-w-[380px] xl:max-h-[140px] h-1/6 bg-gray-700 border-2 border-gray-500 rounded-lg flex flex-col items-center justify-center gap-1 lg:gap-3 xl:gap-4",children:[G.jsx("p",{className:"alert-text text-lg text-gray-100",children:"Delete this task?"}),G.jsxs("div",{className:"flex space-x-10",children:[G.jsx("button",{onClick:()=>e(!1),className:"alert-btn w-10 lg:w-12 xl:w-14 2xl:w-16 text-gray-100 bg-red-400 rounded-full flex items-center justify-center transition-transform transform hover:scale-110",children:"No"}),G.jsx("button",{onClick:t,className:"alert-btn w-10 lg:w-12 xl:w-14 2xl:w-16 text-gray-100 bg-green-400 rounded-full flex items-center justify-center transition-transform transform hover:scale-110",children:"Yes"})]})]}))}))}function H1({id:n,name:e,memo:t,isSettingsOpen:i,setIsSettingsOpen:o,editTask:u,removeTask:c}){const d=Zc(i,{from:{transform:"translateY(150%)"},enter:{transform:"translateY(0%)"},leave:{transform:"translateY(150%)"},config:{tension:150,friction:25}}),p=Zc(i,{from:{opacity:0},enter:{opacity:1},leave:{opacity:0},config:{tension:120,friction:25}}),[y,w]=ye.useState(!1),[T,I]=ye.useState(e),[O,b]=ye.useState(t),[z,V]=ye.useState(!1),X=()=>{o(!1),w(!1),I(e),b(t)},re=()=>{w(!1),I(e),b(t)},H=()=>{c(n)},te=()=>{u(n,T,O),w(!1)};return G.jsx(G.Fragment,{children:p((de,ce)=>ce&&G.jsx(wu.div,{className:"fixed top-0 left-0 h-full w-full flex justify-center items-center bg-gray-500 z-10 p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.3)",pointerEvents:i?"auto":"none",...de},onClick:X,children:d((P,S)=>S&&(y?G.jsxs(G.Fragment,{children:[G.jsxs(wu.form,{style:P,onClick:A=>A.stopPropagation(),className:"settings-container w-full h-full max-w-[400px] max-h-[500px] 2xl:max-w-[500px] 2xl:max-h-[600px] bg-gray-700 border-2 border-gray-500 rounded-lg flex flex-col p-6 z-20",children:[G.jsx("i",{onClick:X,className:"fa-solid fa-xmark absolute top-2 right-4 text-2xl text-gray-100 cursor-pointer"}),G.jsxs("div",{id:"settings-name-container",className:"flex flex-col",children:[G.jsx("label",{htmlFor:"settings-name",className:"settings-name text-gray-100",children:"Name"}),G.jsx("input",{id:"settings-name",name:"settings-name",value:T,onChange:A=>I(A.target.value),title:e,className:"settings-name pl-1 text-gray-100 bg-slate-500"})]}),G.jsxs("div",{id:"settings-memo-container",className:"flex flex-col flex-1",children:[G.jsx("label",{htmlFor:"settings-memo",className:"mt-3 text-gray-100",children:"Memo"}),G.jsx("textarea",{id:"settings-memo",name:"settings-memo",value:O,onChange:A=>b(A.target.value),rows:6,className:"settings-memo pl-1 resize-none text-gray-100 bg-slate-500 flex-1"})]}),G.jsxs("div",{className:"settings-btn-container flex flex-col mt-3 gap-3",children:[G.jsx("button",{type:"button",onClick:()=>V(!0),className:"bg-red-400 p-1 rounded text-gray-100",children:"Remove"}),G.jsx("button",{type:"button",onClick:re,className:"bg-blue-400 p-1 rounded text-gray-100",children:"Cancel"}),G.jsx("button",{type:"button",onClick:te,className:"bg-green-400 p-1 rounded text-gray-100",children:"Save"})]})]}),G.jsx(G_,{isRemoveAlert:z,setIsRemoveAlert:V,handleRemove:H})]}):G.jsxs(G.Fragment,{children:[G.jsxs(wu.form,{style:P,onClick:A=>A.stopPropagation(),className:"settings-container w-full h-full max-w-[400px] max-h-[500px] 2xl:max-w-[500px] 2xl:max-h-[600px] bg-gray-700 border-2 border-gray-500 rounded-lg flex flex-col p-6 z-20",children:[G.jsx("i",{onClick:X,className:"fa-solid fa-xmark absolute top-2 right-4 text-2xl text-gray-100 cursor-pointer"}),G.jsxs("div",{id:"settings-name-container",className:"flex flex-col",children:[G.jsx("label",{htmlFor:"settings-name",className:"text-gray-100",children:"Name"}),G.jsx("input",{id:"settings-name",name:"settings-name",value:e,title:e,className:"settings-name pl-1 text-gray-100 bg-slate-600",disabled:!0})]}),G.jsxs("div",{id:"settings-memo-container",className:"flex flex-col flex-1",children:[G.jsx("label",{htmlFor:"settings-memo",className:"mt-3 text-gray-100",children:"Memo"}),G.jsx("textarea",{id:"settings-memo",name:"settings-memo",value:t,rows:6,className:"settings-memo pl-1 resize-none text-gray-100 bg-slate-600 flex-1 mb-4",disabled:!0})]}),G.jsxs("div",{className:"settings-btn-container flex flex-col gap-3 mt-auto",children:[G.jsx("button",{type:"button",onClick:()=>V(!0),className:"bg-red-400 p-1 rounded text-gray-100",children:"Remove"}),G.jsx("button",{type:"button",onClick:()=>w(!0),className:"bg-blue-400 p-1 rounded text-gray-100",children:"Edit"}),G.jsx("button",{type:"button",onClick:X,className:"bg-green-400 p-1 rounded text-gray-100",children:"Ok"})]})]}),G.jsx(G_,{isRemoveAlert:z,setIsRemoveAlert:V,handleRemove:H})]})))}))})}function Q_({id:n,name:e,completed:t,memo:i,toggleCompleted:o,editTask:u,removeTask:c}){const[d,p]=ye.useState(!1);return G.jsxs("div",{className:"flex items-center justify-between mb-4 last-of-type:mb-0 px-1",children:[G.jsxs("div",{className:"flex gap-4",children:[G.jsx("input",{checked:t,onChange:y=>o(n,y.target.checked),type:"checkbox",id:n,name:"task-complete",className:"task-checkbox accent-[#4a5059] scale-125"}),G.jsx("p",{className:"task-name text-sm text-gray-200 w-48 text-ellipsis overflow-hidden whitespace-nowrap",title:e,children:e})]}),G.jsx("i",{onClick:()=>p(!0),className:"task-settings fa-solid fa-ellipsis mr-2 text-gray-300 cursor-pointer"}),G.jsx(H1,{id:n,completed:t,name:e,memo:i,isSettingsOpen:d,setIsSettingsOpen:p,editTask:u,removeTask:c})]})}var qf={exports:{}},Hf={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function W1(){if(Y_)return Hf;Y_=1;var n=Ih();function e(p,y){return p===y&&(p!==0||1/p===1/y)||p!==p&&y!==y}var t=typeof Object.is=="function"?Object.is:e,i=n.useSyncExternalStore,o=n.useRef,u=n.useEffect,c=n.useMemo,d=n.useDebugValue;return Hf.useSyncExternalStoreWithSelector=function(p,y,w,T,I){var O=o(null);if(O.current===null){var b={hasValue:!1,value:null};O.current=b}else b=O.current;O=c(function(){function V(de){if(!X){if(X=!0,re=de,de=T(de),I!==void 0&&b.hasValue){var ce=b.value;if(I(ce,de))return H=ce}return H=de}if(ce=H,t(re,de))return ce;var P=T(de);return I!==void 0&&I(ce,P)?(re=de,ce):(re=de,H=P)}var X=!1,re,H,te=w===void 0?null:w;return[function(){return V(y())},te===null?void 0:function(){return V(te())}]},[y,w,T,I]);var z=i(p,O[0],O[1]);return u(function(){b.hasValue=!0,b.value=z},[z]),d(z),z},Hf}var X_;function K1(){return X_||(X_=1,qf.exports=W1()),qf.exports}var G1=K1();function Q1(n){n()}function Y1(){let n=null,e=null;return{clear(){n=null,e=null},notify(){Q1(()=>{let t=n;for(;t;)t.callback(),t=t.next})},get(){const t=[];let i=n;for(;i;)t.push(i),i=i.next;return t},subscribe(t){let i=!0;const o=e={callback:t,next:null,prev:e};return o.prev?o.prev.next=o:n=o,function(){!i||n===null||(i=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:n=o.next)}}}}var J_={notify(){},get:()=>[]};function X1(n,e){let t,i=J_,o=0,u=!1;function c(z){w();const V=i.subscribe(z);let X=!1;return()=>{X||(X=!0,V(),T())}}function d(){i.notify()}function p(){b.onStateChange&&b.onStateChange()}function y(){return u}function w(){o++,t||(t=n.subscribe(p),i=Y1())}function T(){o--,t&&o===0&&(t(),t=void 0,i.clear(),i=J_)}function I(){u||(u=!0,w())}function O(){u&&(u=!1,T())}const b={addNestedSub:c,notifyNestedSubs:d,handleChangeWrapper:p,isSubscribed:y,trySubscribe:I,tryUnsubscribe:O,getListeners:()=>i};return b}var J1=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z1=J1(),eA=()=>typeof navigator<"u"&&navigator.product==="ReactNative",tA=eA(),nA=()=>Z1||tA?ye.useLayoutEffect:ye.useEffect,rA=nA(),Wf=Symbol.for("react-redux-context"),Kf=typeof globalThis<"u"?globalThis:{};function iA(){if(!ye.createContext)return{};const n=Kf[Wf]??(Kf[Wf]=new Map);let e=n.get(ye.createContext);return e||(e=ye.createContext(null),n.set(ye.createContext,e)),e}var Mi=iA();function sA(n){const{children:e,context:t,serverState:i,store:o}=n,u=ye.useMemo(()=>{const p=X1(o);return{store:o,subscription:p,getServerState:i?()=>i:void 0}},[o,i]),c=ye.useMemo(()=>o.getState(),[o]);rA(()=>{const{subscription:p}=u;return p.onStateChange=p.notifyNestedSubs,p.trySubscribe(),c!==o.getState()&&p.notifyNestedSubs(),()=>{p.tryUnsubscribe(),p.onStateChange=void 0}},[u,c]);const d=t||Mi;return ye.createElement(d.Provider,{value:u},e)}var oA=sA;function cm(n=Mi){return function(){return ye.useContext(n)}}var wE=cm();function EE(n=Mi){const e=n===Mi?wE:cm(n),t=()=>{const{store:i}=e();return i};return Object.assign(t,{withTypes:()=>t}),t}var aA=EE();function uA(n=Mi){const e=n===Mi?aA:EE(n),t=()=>e().dispatch;return Object.assign(t,{withTypes:()=>t}),t}var hm=uA(),lA=(n,e)=>n===e;function cA(n=Mi){const e=n===Mi?wE:cm(n),t=(i,o={})=>{const{equalityFn:u=lA}=typeof o=="function"?{equalityFn:o}:o,c=e(),{store:d,subscription:p,getServerState:y}=c;ye.useRef(!0);const w=ye.useCallback({[i.name](I){return i(I)}}[i.name],[i]),T=G1.useSyncExternalStoreWithSelector(p.addNestedSub,d.getState,y||d.getState,w,u);return ye.useDebugValue(T),T};return Object.assign(t,{withTypes:()=>t}),t}var TE=cA();function Dt(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var hA=typeof Symbol=="function"&&Symbol.observable||"@@observable",Z_=hA,Gf=()=>Math.random().toString(36).substring(7).split("").join("."),dA={INIT:`@@redux/INIT${Gf()}`,REPLACE:`@@redux/REPLACE${Gf()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Gf()}`},eh=dA;function dm(n){if(typeof n!="object"||n===null)return!1;let e=n;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e||Object.getPrototypeOf(n)===null}function IE(n,e,t){if(typeof n!="function")throw new Error(Dt(2));if(typeof e=="function"&&typeof t=="function"||typeof t=="function"&&typeof arguments[3]=="function")throw new Error(Dt(0));if(typeof e=="function"&&typeof t>"u"&&(t=e,e=void 0),typeof t<"u"){if(typeof t!="function")throw new Error(Dt(1));return t(IE)(n,e)}let i=n,o=e,u=new Map,c=u,d=0,p=!1;function y(){c===u&&(c=new Map,u.forEach((V,X)=>{c.set(X,V)}))}function w(){if(p)throw new Error(Dt(3));return o}function T(V){if(typeof V!="function")throw new Error(Dt(4));if(p)throw new Error(Dt(5));let X=!0;y();const re=d++;return c.set(re,V),function(){if(X){if(p)throw new Error(Dt(6));X=!1,y(),c.delete(re),u=null}}}function I(V){if(!dm(V))throw new Error(Dt(7));if(typeof V.type>"u")throw new Error(Dt(8));if(typeof V.type!="string")throw new Error(Dt(17));if(p)throw new Error(Dt(9));try{p=!0,o=i(o,V)}finally{p=!1}return(u=c).forEach(re=>{re()}),V}function O(V){if(typeof V!="function")throw new Error(Dt(10));i=V,I({type:eh.REPLACE})}function b(){const V=T;return{subscribe(X){if(typeof X!="object"||X===null)throw new Error(Dt(11));function re(){const te=X;te.next&&te.next(w())}return re(),{unsubscribe:V(re)}},[Z_](){return this}}}return I({type:eh.INIT}),{dispatch:I,subscribe:T,getState:w,replaceReducer:O,[Z_]:b}}function fA(n){Object.keys(n).forEach(e=>{const t=n[e];if(typeof t(void 0,{type:eh.INIT})>"u")throw new Error(Dt(12));if(typeof t(void 0,{type:eh.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Dt(13))})}function pA(n){const e=Object.keys(n),t={};for(let u=0;u<e.length;u++){const c=e[u];typeof n[c]=="function"&&(t[c]=n[c])}const i=Object.keys(t);let o;try{fA(t)}catch(u){o=u}return function(c={},d){if(o)throw o;let p=!1;const y={};for(let w=0;w<i.length;w++){const T=i[w],I=t[T],O=c[T],b=I(O,d);if(typeof b>"u")throw d&&d.type,new Error(Dt(14));y[T]=b,p=p||b!==O}return p=p||i.length!==Object.keys(c).length,p?y:c}}function th(...n){return n.length===0?e=>e:n.length===1?n[0]:n.reduce((e,t)=>(...i)=>e(t(...i)))}function mA(...n){return e=>(t,i)=>{const o=e(t,i);let u=()=>{throw new Error(Dt(15))};const c={getState:o.getState,dispatch:(p,...y)=>u(p,...y)},d=n.map(p=>p(c));return u=th(...d)(o.dispatch),{...o,dispatch:u}}}function gA(n){return dm(n)&&"type"in n&&typeof n.type=="string"}var SE=Symbol.for("immer-nothing"),ev=Symbol.for("immer-draftable"),vn=Symbol.for("immer-state");function Yn(n,...e){throw new Error(`[Immer] minified error nr: ${n}. Full error at: https://bit.ly/3cXEKWf`)}var Wo=Object.getPrototypeOf;function ks(n){return!!n&&!!n[vn]}function Hr(n){var e;return n?AE(n)||Array.isArray(n)||!!n[ev]||!!((e=n.constructor)!=null&&e[ev])||Oh(n)||bh(n):!1}var yA=Object.prototype.constructor.toString();function AE(n){if(!n||typeof n!="object")return!1;const e=Wo(n);if(e===null)return!0;const t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return t===Object?!0:typeof t=="function"&&Function.toString.call(t)===yA}function nh(n,e){Dh(n)===0?Reflect.ownKeys(n).forEach(t=>{e(t,n[t],n)}):n.forEach((t,i)=>e(i,t,n))}function Dh(n){const e=n[vn];return e?e.type_:Array.isArray(n)?1:Oh(n)?2:bh(n)?3:0}function gp(n,e){return Dh(n)===2?n.has(e):Object.prototype.hasOwnProperty.call(n,e)}function RE(n,e,t){const i=Dh(n);i===2?n.set(e,t):i===3?n.add(t):n[e]=t}function _A(n,e){return n===e?n!==0||1/n===1/e:n!==n&&e!==e}function Oh(n){return n instanceof Map}function bh(n){return n instanceof Set}function Is(n){return n.copy_||n.base_}function yp(n,e){if(Oh(n))return new Map(n);if(bh(n))return new Set(n);if(Array.isArray(n))return Array.prototype.slice.call(n);const t=AE(n);if(e===!0||e==="class_only"&&!t){const i=Object.getOwnPropertyDescriptors(n);delete i[vn];let o=Reflect.ownKeys(i);for(let u=0;u<o.length;u++){const c=o[u],d=i[c];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(i[c]={configurable:!0,writable:!0,enumerable:d.enumerable,value:n[c]})}return Object.create(Wo(n),i)}else{const i=Wo(n);if(i!==null&&t)return{...n};const o=Object.create(i);return Object.assign(o,n)}}function fm(n,e=!1){return Vh(n)||ks(n)||!Hr(n)||(Dh(n)>1&&(n.set=n.add=n.clear=n.delete=vA),Object.freeze(n),e&&Object.entries(n).forEach(([t,i])=>fm(i,!0))),n}function vA(){Yn(2)}function Vh(n){return Object.isFrozen(n)}var wA={};function xs(n){const e=wA[n];return e||Yn(0,n),e}var Vu;function CE(){return Vu}function EA(n,e){return{drafts_:[],parent_:n,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function tv(n,e){e&&(xs("Patches"),n.patches_=[],n.inversePatches_=[],n.patchListener_=e)}function _p(n){vp(n),n.drafts_.forEach(TA),n.drafts_=null}function vp(n){n===Vu&&(Vu=n.parent_)}function nv(n){return Vu=EA(Vu,n)}function TA(n){const e=n[vn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function rv(n,e){e.unfinalizedDrafts_=e.drafts_.length;const t=e.drafts_[0];return n!==void 0&&n!==t?(t[vn].modified_&&(_p(e),Yn(4)),Hr(n)&&(n=rh(e,n),e.parent_||ih(e,n)),e.patches_&&xs("Patches").generateReplacementPatches_(t[vn].base_,n,e.patches_,e.inversePatches_)):n=rh(e,t,[]),_p(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),n!==SE?n:void 0}function rh(n,e,t){if(Vh(e))return e;const i=e[vn];if(!i)return nh(e,(o,u)=>iv(n,i,e,o,u,t)),e;if(i.scope_!==n)return e;if(!i.modified_)return ih(n,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const o=i.copy_;let u=o,c=!1;i.type_===3&&(u=new Set(o),o.clear(),c=!0),nh(u,(d,p)=>iv(n,i,o,d,p,t,c)),ih(n,o,!1),t&&n.patches_&&xs("Patches").generatePatches_(i,t,n.patches_,n.inversePatches_)}return i.copy_}function iv(n,e,t,i,o,u,c){if(ks(o)){const d=u&&e&&e.type_!==3&&!gp(e.assigned_,i)?u.concat(i):void 0,p=rh(n,o,d);if(RE(t,i,p),ks(p))n.canAutoFreeze_=!1;else return}else c&&t.add(o);if(Hr(o)&&!Vh(o)){if(!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1)return;rh(n,o),(!e||!e.scope_.parent_)&&typeof i!="symbol"&&Object.prototype.propertyIsEnumerable.call(t,i)&&ih(n,o)}}function ih(n,e,t=!1){!n.parent_&&n.immer_.autoFreeze_&&n.canAutoFreeze_&&fm(e,t)}function IA(n,e){const t=Array.isArray(n),i={type_:t?1:0,scope_:e?e.scope_:CE(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:n,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=i,u=pm;t&&(o=[i],u=Mu);const{revoke:c,proxy:d}=Proxy.revocable(o,u);return i.draft_=d,i.revoke_=c,d}var pm={get(n,e){if(e===vn)return n;const t=Is(n);if(!gp(t,e))return SA(n,t,e);const i=t[e];return n.finalized_||!Hr(i)?i:i===Qf(n.base_,e)?(Yf(n),n.copy_[e]=Ep(i,n)):i},has(n,e){return e in Is(n)},ownKeys(n){return Reflect.ownKeys(Is(n))},set(n,e,t){const i=PE(Is(n),e);if(i!=null&&i.set)return i.set.call(n.draft_,t),!0;if(!n.modified_){const o=Qf(Is(n),e),u=o==null?void 0:o[vn];if(u&&u.base_===t)return n.copy_[e]=t,n.assigned_[e]=!1,!0;if(_A(t,o)&&(t!==void 0||gp(n.base_,e)))return!0;Yf(n),wp(n)}return n.copy_[e]===t&&(t!==void 0||e in n.copy_)||Number.isNaN(t)&&Number.isNaN(n.copy_[e])||(n.copy_[e]=t,n.assigned_[e]=!0),!0},deleteProperty(n,e){return Qf(n.base_,e)!==void 0||e in n.base_?(n.assigned_[e]=!1,Yf(n),wp(n)):delete n.assigned_[e],n.copy_&&delete n.copy_[e],!0},getOwnPropertyDescriptor(n,e){const t=Is(n),i=Reflect.getOwnPropertyDescriptor(t,e);return i&&{writable:!0,configurable:n.type_!==1||e!=="length",enumerable:i.enumerable,value:t[e]}},defineProperty(){Yn(11)},getPrototypeOf(n){return Wo(n.base_)},setPrototypeOf(){Yn(12)}},Mu={};nh(pm,(n,e)=>{Mu[n]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Mu.deleteProperty=function(n,e){return Mu.set.call(this,n,e,void 0)};Mu.set=function(n,e,t){return pm.set.call(this,n[0],e,t,n[0])};function Qf(n,e){const t=n[vn];return(t?Is(t):n)[e]}function SA(n,e,t){var o;const i=PE(e,t);return i?"value"in i?i.value:(o=i.get)==null?void 0:o.call(n.draft_):void 0}function PE(n,e){if(!(e in n))return;let t=Wo(n);for(;t;){const i=Object.getOwnPropertyDescriptor(t,e);if(i)return i;t=Wo(t)}}function wp(n){n.modified_||(n.modified_=!0,n.parent_&&wp(n.parent_))}function Yf(n){n.copy_||(n.copy_=yp(n.base_,n.scope_.immer_.useStrictShallowCopy_))}var AA=class{constructor(n){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,i)=>{if(typeof e=="function"&&typeof t!="function"){const u=t;t=e;const c=this;return function(p=u,...y){return c.produce(p,w=>t.call(this,w,...y))}}typeof t!="function"&&Yn(6),i!==void 0&&typeof i!="function"&&Yn(7);let o;if(Hr(e)){const u=nv(this),c=Ep(e,void 0);let d=!0;try{o=t(c),d=!1}finally{d?_p(u):vp(u)}return tv(u,i),rv(o,u)}else if(!e||typeof e!="object"){if(o=t(e),o===void 0&&(o=e),o===SE&&(o=void 0),this.autoFreeze_&&fm(o,!0),i){const u=[],c=[];xs("Patches").generateReplacementPatches_(e,o,u,c),i(u,c)}return o}else Yn(1,e)},this.produceWithPatches=(e,t)=>{if(typeof e=="function")return(c,...d)=>this.produceWithPatches(c,p=>e(p,...d));let i,o;return[this.produce(e,t,(c,d)=>{i=c,o=d}),i,o]},typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze),typeof(n==null?void 0:n.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(n.useStrictShallowCopy)}createDraft(n){Hr(n)||Yn(8),ks(n)&&(n=RA(n));const e=nv(this),t=Ep(n,void 0);return t[vn].isManual_=!0,vp(e),t}finishDraft(n,e){const t=n&&n[vn];(!t||!t.isManual_)&&Yn(9);const{scope_:i}=t;return tv(i,e),rv(void 0,i)}setAutoFreeze(n){this.autoFreeze_=n}setUseStrictShallowCopy(n){this.useStrictShallowCopy_=n}applyPatches(n,e){let t;for(t=e.length-1;t>=0;t--){const o=e[t];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}t>-1&&(e=e.slice(t+1));const i=xs("Patches").applyPatches_;return ks(n)?i(n,e):this.produce(n,o=>i(o,e))}};function Ep(n,e){const t=Oh(n)?xs("MapSet").proxyMap_(n,e):bh(n)?xs("MapSet").proxySet_(n,e):IA(n,e);return(e?e.scope_:CE()).drafts_.push(t),t}function RA(n){return ks(n)||Yn(10,n),kE(n)}function kE(n){if(!Hr(n)||Vh(n))return n;const e=n[vn];let t;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,t=yp(n,e.scope_.immer_.useStrictShallowCopy_)}else t=yp(n,!0);return nh(t,(i,o)=>{RE(t,i,kE(o))}),e&&(e.finalized_=!1),t}var wn=new AA,xE=wn.produce;wn.produceWithPatches.bind(wn);wn.setAutoFreeze.bind(wn);wn.setUseStrictShallowCopy.bind(wn);wn.applyPatches.bind(wn);wn.createDraft.bind(wn);wn.finishDraft.bind(wn);function NE(n){return({dispatch:t,getState:i})=>o=>u=>typeof u=="function"?u(t,i,n):o(u)}var CA=NE(),PA=NE,kA=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?th:th.apply(null,arguments)};function sv(n,e){function t(...i){if(e){let o=e(...i);if(!o)throw new Error(Br(0));return{type:n,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:n,payload:i[0]}}return t.toString=()=>`${n}`,t.type=n,t.match=i=>gA(i)&&i.type===n,t}var DE=class uu extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,uu.prototype)}static get[Symbol.species](){return uu}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new uu(...e[0].concat(this)):new uu(...e.concat(this))}};function ov(n){return Hr(n)?xE(n,()=>{}):n}function av(n,e,t){return n.has(e)?n.get(e):n.set(e,t(e)).get(e)}function xA(n){return typeof n=="boolean"}var NA=()=>function(e){const{thunk:t=!0,immutableCheck:i=!0,serializableCheck:o=!0,actionCreatorCheck:u=!0}=e??{};let c=new DE;return t&&(xA(t)?c.push(CA):c.push(PA(t.extraArgument))),c},DA="RTK_autoBatch",uv=n=>e=>{setTimeout(e,n)},OA=(n={type:"raf"})=>e=>(...t)=>{const i=e(...t);let o=!0,u=!1,c=!1;const d=new Set,p=n.type==="tick"?queueMicrotask:n.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uv(10):n.type==="callback"?n.queueNotification:uv(n.timeout),y=()=>{c=!1,u&&(u=!1,d.forEach(w=>w()))};return Object.assign({},i,{subscribe(w){const T=()=>o&&w(),I=i.subscribe(T);return d.add(w),()=>{I(),d.delete(w)}},dispatch(w){var T;try{return o=!((T=w==null?void 0:w.meta)!=null&&T[DA]),u=!o,u&&(c||(c=!0,p(y))),i.dispatch(w)}finally{o=!0}}})},bA=n=>function(t){const{autoBatch:i=!0}=t??{};let o=new DE(n);return i&&o.push(OA(typeof i=="object"?i:void 0)),o};function VA(n){const e=NA(),{reducer:t=void 0,middleware:i,devTools:o=!0,preloadedState:u=void 0,enhancers:c=void 0}=n;let d;if(typeof t=="function")d=t;else if(dm(t))d=pA(t);else throw new Error(Br(1));let p;typeof i=="function"?p=i(e):p=e();let y=th;o&&(y=kA({trace:!1,...typeof o=="object"&&o}));const w=mA(...p),T=bA(w);let I=typeof c=="function"?c(T):T();const O=y(...I);return IE(d,u,O)}function OE(n){const e={},t=[];let i;const o={addCase(u,c){const d=typeof u=="string"?u:u.type;if(!d)throw new Error(Br(28));if(d in e)throw new Error(Br(29));return e[d]=c,o},addMatcher(u,c){return t.push({matcher:u,reducer:c}),o},addDefaultCase(u){return i=u,o}};return n(o),[e,t,i]}function MA(n){return typeof n=="function"}function LA(n,e){let[t,i,o]=OE(e),u;if(MA(n))u=()=>ov(n());else{const d=ov(n);u=()=>d}function c(d=u(),p){let y=[t[p.type],...i.filter(({matcher:w})=>w(p)).map(({reducer:w})=>w)];return y.filter(w=>!!w).length===0&&(y=[o]),y.reduce((w,T)=>{if(T)if(ks(w)){const O=T(w,p);return O===void 0?w:O}else{if(Hr(w))return xE(w,I=>T(I,p));{const I=T(w,p);if(I===void 0){if(w===null)return w;throw Error("A case reducer on a non-draftable value must not return undefined")}return I}}return w},d)}return c.getInitialState=u,c}var FA=Symbol.for("rtk-slice-createasyncthunk");function UA(n,e){return`${n}/${e}`}function jA({creators:n}={}){var t;const e=(t=n==null?void 0:n.asyncThunk)==null?void 0:t[FA];return function(o){const{name:u,reducerPath:c=u}=o;if(!u)throw new Error(Br(11));const d=(typeof o.reducers=="function"?o.reducers(BA()):o.reducers)||{},p=Object.keys(d),y={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},w={addCase(H,te){const de=typeof H=="string"?H:H.type;if(!de)throw new Error(Br(12));if(de in y.sliceCaseReducersByType)throw new Error(Br(13));return y.sliceCaseReducersByType[de]=te,w},addMatcher(H,te){return y.sliceMatchers.push({matcher:H,reducer:te}),w},exposeAction(H,te){return y.actionCreators[H]=te,w},exposeCaseReducer(H,te){return y.sliceCaseReducersByName[H]=te,w}};p.forEach(H=>{const te=d[H],de={reducerName:H,type:UA(u,H),createNotation:typeof o.reducers=="function"};qA(te)?WA(de,te,w,e):$A(de,te,w)});function T(){const[H={},te=[],de=void 0]=typeof o.extraReducers=="function"?OE(o.extraReducers):[o.extraReducers],ce={...H,...y.sliceCaseReducersByType};return LA(o.initialState,P=>{for(let S in ce)P.addCase(S,ce[S]);for(let S of y.sliceMatchers)P.addMatcher(S.matcher,S.reducer);for(let S of te)P.addMatcher(S.matcher,S.reducer);de&&P.addDefaultCase(de)})}const I=H=>H,O=new Map;let b;function z(H,te){return b||(b=T()),b(H,te)}function V(){return b||(b=T()),b.getInitialState()}function X(H,te=!1){function de(P){let S=P[H];return typeof S>"u"&&te&&(S=V()),S}function ce(P=I){const S=av(O,te,()=>new WeakMap);return av(S,P,()=>{const A={};for(const[k,N]of Object.entries(o.selectors??{}))A[k]=zA(N,P,V,te);return A})}return{reducerPath:H,getSelectors:ce,get selectors(){return ce(de)},selectSlice:de}}const re={name:u,reducer:z,actions:y.actionCreators,caseReducers:y.sliceCaseReducersByName,getInitialState:V,...X(c),injectInto(H,{reducerPath:te,...de}={}){const ce=te??c;return H.inject({reducerPath:ce,reducer:z},de),{...re,...X(ce,!0)}}};return re}}function zA(n,e,t,i){function o(u,...c){let d=e(u);return typeof d>"u"&&i&&(d=t()),n(d,...c)}return o.unwrapped=n,o}var bE=jA();function BA(){function n(e,t){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...t}}return n.withTypes=()=>n,{reducer(e){return Object.assign({[e.name](...t){return e(...t)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,t){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}},asyncThunk:n}}function $A({type:n,reducerName:e,createNotation:t},i,o){let u,c;if("reducer"in i){if(t&&!HA(i))throw new Error(Br(17));u=i.reducer,c=i.prepare}else u=i;o.addCase(n,u).exposeCaseReducer(e,u).exposeAction(e,c?sv(n,c):sv(n))}function qA(n){return n._reducerDefinitionType==="asyncThunk"}function HA(n){return n._reducerDefinitionType==="reducerWithPrepare"}function WA({type:n,reducerName:e},t,i,o){if(!o)throw new Error(Br(18));const{payloadCreator:u,fulfilled:c,pending:d,rejected:p,settled:y,options:w}=t,T=o(n,u,w);i.exposeAction(e,T),c&&i.addCase(T.fulfilled,c),d&&i.addCase(T.pending,d),p&&i.addCase(T.rejected,p),y&&i.addMatcher(T.settled,y),i.exposeCaseReducer(e,{fulfilled:c||Pc,pending:d||Pc,rejected:p||Pc,settled:y||Pc})}function Pc(){}function Br(n){return`Minified Redux Toolkit error #${n}; visit https://redux-toolkit.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}const KA={alertType:null},VE=bE({name:"alert",initialState:KA,reducers:{showAlert:(n,e)=>{n.alertType=e.payload.alertType},clearAlert:n=>{n.alertType=null}}}),{showAlert:ME,clearAlert:GA}=VE.actions,QA=VE.reducer;function YA({todos:n,removeTask:e,editTask:t,toggleCompleted:i}){const[o,u]=ye.useState(""),c=hm(),d=[...n].sort((p,y)=>{if(o==="not-completed")return p.completed===y.completed?0:p.completed?1:-1;if(o==="completed")return p.completed===y.completed?0:p.completed?-1:1});return G.jsxs(G.Fragment,{children:[G.jsxs("div",{className:"flex justify-between mt-4",children:[G.jsxs("select",{id:"sort-by",name:"sort-by",value:o,onChange:p=>u(p.target.value),className:"rounded",children:[G.jsx("option",{value:"",disabled:!0,children:"Sort by"}),G.jsx("option",{value:"none",children:"None"}),G.jsx("option",{value:"not-completed",children:"Not Completed"}),G.jsx("option",{value:"completed",children:"Completed"})]}),G.jsx("button",{id:"remove-all",onClick:()=>c(ME({alertType:"REMOVE_ALL"})),className:"text-gray-200 hover:text-red-400 cursor-pointer transition-colors",children:"Remove All"})]}),G.jsx("div",{className:"h-[240px] overflow-auto mt-3",children:o!=="none"?G.jsx("div",{className:"",children:d.map(p=>ye.createElement(Q_,{...p,key:p.id,toggleCompleted:i,editTask:t,removeTask:e}))}):G.jsx("div",{className:"",children:n.map(p=>ye.createElement(Q_,{...p,key:p.id,toggleCompleted:i,editTask:t,removeTask:e}))})})]})}function XA(){const[n,e]=ye.useState(new Date);ye.useEffect(()=>{const d=setInterval(()=>{e(new Date)},6e5);return()=>clearInterval(d)},[]);const t=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n.getDay()],i=n.getDate(),o=n.getMonth()+1,u=n.getFullYear(),c=`${i}-${o}-${u}`;return G.jsxs("div",{className:"",children:[G.jsx("p",{className:"day-name text-center text-gray-300",children:t}),G.jsx("p",{className:"full-date text-center text-gray-400",children:c})]})}var lv={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},JA=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const u=n[t++];e[i++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=n[t++],c=n[t++],d=n[t++],p=((o&7)<<18|(u&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const u=n[t++],c=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(u&63)<<6|c&63)}}return e.join("")},FE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const u=n[o],c=o+1<n.length,d=c?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,w=u>>2,T=(u&3)<<4|d>>4;let I=(d&15)<<2|y>>6,O=y&63;p||(O=64,c||(I=64)),i.push(t[w],t[T],t[I],t[O])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(LE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):JA(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const u=t[n.charAt(o++)],d=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,u==null||d==null||y==null||T==null)throw new ZA;const I=u<<2|d>>4;if(i.push(I),y!==64){const O=d<<4&240|y>>2;if(i.push(O),T!==64){const b=y<<6&192|T;i.push(b)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ZA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eR=function(n){const e=LE(n);return FE.encodeByteArray(e,!0)},sh=function(n){return eR(n).replace(/\./g,"")},UE=function(n){try{return FE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>tR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof lv>"u")return;const n=lv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},iR=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&UE(n[1]);return e&&JSON.parse(e)},Mh=()=>{try{return nR()||rR()||iR()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},jE=n=>{var e,t;return(t=(e=Mh())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},sR=n=>{const e=jE(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},zE=()=>{var n;return(n=Mh())===null||n===void 0?void 0:n.config},BE=n=>{var e;return(e=Mh())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,u=n.sub||n.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sh(JSON.stringify(t)),sh(JSON.stringify(c)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test($t())}function lR(){var n;const e=(n=Mh())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hR(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function dR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fR(){const n=$t();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function pR(){return!lR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mR(){try{return typeof indexedDB=="object"}catch{return!1}}function gR(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yR="FirebaseError";class Yr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=yR,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xu.prototype.create)}}class Xu{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,u=this.errors[e],c=u?_R(u,i):"Error",d=`${this.serviceName}: ${c} (${o}).`;return new Yr(o,d,i)}}function _R(n,e){return n.replace(vR,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const vR=/\{\$([^}]+)}/g;function wR(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function oh(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const u=n[o],c=e[o];if(cv(u)&&cv(c)){if(!oh(u,c))return!1}else if(u!==c)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function cv(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function lu(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,u]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function cu(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function ER(n,e){const t=new TR(n,e);return t.subscribe.bind(t)}class TR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");IR(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=Xf),o.error===void 0&&(o.error=Xf),o.complete===void 0&&(o.complete=Xf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IR(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Xf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ht(n){return n&&n._delegate?n._delegate:n}class Ns{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new oR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(RR(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const u=this.getOrInitializeService({instanceIdentifier:o});i.resolve(u)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[u,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);i===d&&c.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),u=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;u.add(e),this.onInitCallbacks.set(o,u);const c=this.instances.get(o);return c&&e(c,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:AR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function AR(n){return n===Ss?void 0:n}function RR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new SR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Le||(Le={}));const PR={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},kR=Le.INFO,xR={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},NR=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=xR[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mm{constructor(e){this.name=e,this._logLevel=kR,this._logHandler=NR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?PR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const DR=(n,e)=>e.some(t=>n instanceof t);let hv,dv;function OR(){return hv||(hv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bR(){return dv||(dv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $E=new WeakMap,Tp=new WeakMap,qE=new WeakMap,Jf=new WeakMap,gm=new WeakMap;function VR(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",u),n.removeEventListener("error",c)},u=()=>{t(Ni(n.result)),o()},c=()=>{i(n.error),o()};n.addEventListener("success",u),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&$E.set(t,n)}).catch(()=>{}),gm.set(e,n),e}function MR(n){if(Tp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",u),n.removeEventListener("error",c),n.removeEventListener("abort",c)},u=()=>{t(),o()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",u),n.addEventListener("error",c),n.addEventListener("abort",c)});Tp.set(n,e)}let Ip={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Tp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||qE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ni(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function LR(n){Ip=n(Ip)}function FR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(Zf(this),e,...t);return qE.set(i,e.sort?e.sort():[e]),Ni(i)}:bR().includes(n)?function(...e){return n.apply(Zf(this),e),Ni($E.get(this))}:function(...e){return Ni(n.apply(Zf(this),e))}}function UR(n){return typeof n=="function"?FR(n):(n instanceof IDBTransaction&&MR(n),DR(n,OR())?new Proxy(n,Ip):n)}function Ni(n){if(n instanceof IDBRequest)return VR(n);if(Jf.has(n))return Jf.get(n);const e=UR(n);return e!==n&&(Jf.set(n,e),gm.set(e,n)),e}const Zf=n=>gm.get(n);function jR(n,e,{blocked:t,upgrade:i,blocking:o,terminated:u}={}){const c=indexedDB.open(n,e),d=Ni(c);return i&&c.addEventListener("upgradeneeded",p=>{i(Ni(c.result),p.oldVersion,p.newVersion,Ni(c.transaction),p)}),t&&c.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),d}const zR=["get","getKey","getAll","getAllKeys","count"],BR=["put","add","delete","clear"],ep=new Map;function fv(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(ep.get(e))return ep.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=BR.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||zR.includes(t)))return;const u=async function(c,...d){const p=this.transaction(c,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(d.shift())),(await Promise.all([y[t](...d),o&&p.done]))[0]};return ep.set(e,u),u}LR(n=>({...n,get:(e,t,i)=>fv(e,t)||n.get(e,t,i),has:(e,t)=>!!fv(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(qR(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function qR(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",pv="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new mm("@firebase/app"),HR="@firebase/app-compat",WR="@firebase/analytics-compat",KR="@firebase/analytics",GR="@firebase/app-check-compat",QR="@firebase/app-check",YR="@firebase/auth",XR="@firebase/auth-compat",JR="@firebase/database",ZR="@firebase/data-connect",eC="@firebase/database-compat",tC="@firebase/functions",nC="@firebase/functions-compat",rC="@firebase/installations",iC="@firebase/installations-compat",sC="@firebase/messaging",oC="@firebase/messaging-compat",aC="@firebase/performance",uC="@firebase/performance-compat",lC="@firebase/remote-config",cC="@firebase/remote-config-compat",hC="@firebase/storage",dC="@firebase/storage-compat",fC="@firebase/firestore",pC="@firebase/vertexai",mC="@firebase/firestore-compat",gC="firebase",yC="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="[DEFAULT]",_C={[Sp]:"fire-core",[HR]:"fire-core-compat",[KR]:"fire-analytics",[WR]:"fire-analytics-compat",[QR]:"fire-app-check",[GR]:"fire-app-check-compat",[YR]:"fire-auth",[XR]:"fire-auth-compat",[JR]:"fire-rtdb",[ZR]:"fire-data-connect",[eC]:"fire-rtdb-compat",[tC]:"fire-fn",[nC]:"fire-fn-compat",[rC]:"fire-iid",[iC]:"fire-iid-compat",[sC]:"fire-fcm",[oC]:"fire-fcm-compat",[aC]:"fire-perf",[uC]:"fire-perf-compat",[lC]:"fire-rc",[cC]:"fire-rc-compat",[hC]:"fire-gcs",[dC]:"fire-gcs-compat",[fC]:"fire-fst",[mC]:"fire-fst-compat",[pC]:"fire-vertex","fire-js":"fire-js",[gC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ah=new Map,vC=new Map,Rp=new Map;function mv(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Ko(n){const e=n.name;if(Rp.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;Rp.set(e,n);for(const t of ah.values())mv(t,n);for(const t of vC.values())mv(t,n);return!0}function ym(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function yn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Di=new Xu("app","Firebase",wC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ns("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Di.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const na=yC;function HE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Ap,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Di.create("bad-app-name",{appName:String(o)});if(t||(t=zE()),!t)throw Di.create("no-options");const u=ah.get(o);if(u){if(oh(t,u.options)&&oh(i,u.config))return u;throw Di.create("duplicate-app",{appName:o})}const c=new CR(o);for(const p of Rp.values())c.addComponent(p);const d=new EC(t,i,c);return ah.set(o,d),d}function WE(n=Ap){const e=ah.get(n);if(!e&&n===Ap&&zE())return HE();if(!e)throw Di.create("no-app",{appName:n});return e}function Oi(n,e,t){var i;let o=(i=_C[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const u=o.match(/\s|\//),c=e.match(/\s|\//);if(u||c){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&c&&d.push("and"),c&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(d.join(" "));return}Ko(new Ns(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="firebase-heartbeat-database",IC=1,Lu="firebase-heartbeat-store";let tp=null;function KE(){return tp||(tp=jR(TC,IC,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Lu)}catch(t){console.warn(t)}}}}).catch(n=>{throw Di.create("idb-open",{originalErrorMessage:n.message})})),tp}async function SC(n){try{const t=(await KE()).transaction(Lu),i=await t.objectStore(Lu).get(GE(n));return await t.done,i}catch(e){if(e instanceof Yr)Wr.warn(e.message);else{const t=Di.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(t.message)}}}async function gv(n,e){try{const i=(await KE()).transaction(Lu,"readwrite");await i.objectStore(Lu).put(e,GE(n)),await i.done}catch(t){if(t instanceof Yr)Wr.warn(t.message);else{const i=Di.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(i.message)}}}function GE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AC=1024,RC=30;class CC{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new kC(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=yv();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(c=>c.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>RC){const c=xC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Wr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=yv(),{heartbeatsToSend:i,unsentEntries:o}=PC(this._heartbeatsCache.heartbeats),u=sh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return Wr.warn(t),""}}}function yv(){return new Date().toISOString().substring(0,10)}function PC(n,e=AC){const t=[];let i=n.slice();for(const o of n){const u=t.find(c=>c.agent===o.agent);if(u){if(u.dates.push(o.date),_v(t)>e){u.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_v(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class kC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mR()?gR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await SC(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return gv(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _v(n){return sh(JSON.stringify({version:2,heartbeats:n})).length}function xC(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let i=1;i<n.length;i++)n[i].date<t&&(t=n[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NC(n){Ko(new Ns("platform-logger",e=>new $R(e),"PRIVATE")),Ko(new Ns("heartbeat",e=>new CC(e),"PRIVATE")),Oi(Sp,pv,n),Oi(Sp,pv,"esm2017"),Oi("fire-js","")}NC("");var DC="firebase",OC="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Oi(DC,OC,"app");function _m(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function QE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bC=QE,YE=new Xu("auth","Firebase",QE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new mm("@firebase/auth");function VC(n,...e){uh.logLevel<=Le.WARN&&uh.warn(`Auth (${na}): ${n}`,...e)}function Lc(n,...e){uh.logLevel<=Le.ERROR&&uh.error(`Auth (${na}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(n,...e){throw wm(n,...e)}function Jn(n,...e){return wm(n,...e)}function vm(n,e,t){const i=Object.assign(Object.assign({},bC()),{[e]:t});return new Xu("auth","Firebase",i).create(e,{appName:n.name})}function $r(n){return vm(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function MC(n,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&On(n,"argument-error"),vm(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function wm(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return YE.create(n,...e)}function Se(n,e,...t){if(!n)throw wm(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Lc(e),new Error(e)}function Kr(n,e){n||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function LC(){return vv()==="http:"||vv()==="https:"}function vv(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LC()||hR()||"connection"in navigator)?navigator.onLine:!0}function UC(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(e,t){this.shortDelay=e,this.longDelay=t,Kr(t>e,"Short delay should be less than long delay!"),this.isMobile=uR()||dR()}get(){return FC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(n,e){Kr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Zu(3e4,6e4);function $i(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function qi(n,e,t,i,o={}){return JE(n,o,async()=>{let u={},c={};i&&(e==="GET"?c=i:u={body:JSON.stringify(i)});const d=Ju(Object.assign({key:n.config.apiKey},c)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},u);return cR()||(y.referrerPolicy="no-referrer"),XE.fetch()(ZE(n,n.config.apiHost,t,d),y)})}async function JE(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},jC),e);try{const o=new $C(n),u=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const c=await u.json();if("needConfirmation"in c)throw kc(n,"account-exists-with-different-credential",c);if(u.ok&&!("errorMessage"in c))return c;{const d=u.ok?c.errorMessage:c.error.message,[p,y]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw kc(n,"credential-already-in-use",c);if(p==="EMAIL_EXISTS")throw kc(n,"email-already-in-use",c);if(p==="USER_DISABLED")throw kc(n,"user-disabled",c);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw vm(n,w,y);On(n,w)}}catch(o){if(o instanceof Yr)throw o;On(n,"network-request-failed",{message:String(o)})}}async function el(n,e,t,i,o={}){const u=await qi(n,e,t,i,o);return"mfaPendingCredential"in u&&On(n,"multi-factor-auth-required",{_serverResponse:u}),u}function ZE(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Em(n.config,o):`${n.config.apiScheme}://${o}`}function BC(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $C{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(Jn(this.auth,"network-request-failed")),zC.get())})}}function kc(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=Jn(n,e,i);return o.customData._tokenResponse=t,o}function wv(n){return n!==void 0&&n.enterprise!==void 0}class qC{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return BC(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function HC(n,e){return qi(n,"GET","/v2/recaptchaConfig",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WC(n,e){return qi(n,"POST","/v1/accounts:delete",e)}async function eT(n,e){return qi(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function KC(n,e=!1){const t=ht(n),i=await t.getIdToken(e),o=Tm(i);Se(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,c=u==null?void 0:u.sign_in_provider;return{claims:o,token:i,authTime:Eu(np(o.auth_time)),issuedAtTime:Eu(np(o.iat)),expirationTime:Eu(np(o.exp)),signInProvider:c||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function np(n){return Number(n)*1e3}function Tm(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Lc("JWT malformed, contained fewer than 3 sections"),null;try{const o=UE(t);return o?JSON.parse(o):(Lc("Failed to decode base64 JWT payload"),null)}catch(o){return Lc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Ev(n){const e=Tm(n);return Se(e,"internal-error"),Se(typeof e.exp<"u","internal-error"),Se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fu(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Yr&&GC(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function GC({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await Fu(n,eT(t,{idToken:i}));Se(o==null?void 0:o.users.length,t,"internal-error");const u=o.users[0];n._notifyReloadListener(u);const c=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?tT(u.providerUserInfo):[],d=XC(n.providerData,c),p=n.isAnonymous,y=!(n.email&&u.passwordHash)&&!(d!=null&&d.length),w=p?y:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Pp(u.createdAt,u.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function YC(n){const e=ht(n);await lh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XC(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function tT(n){return n.map(e=>{var{providerId:t}=e,i=_m(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JC(n,e){const t=await JE(n,{},async()=>{const i=Ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=n.config,c=ZE(n,o,"/v1/token",`key=${u}`),d=await n._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",XE.fetch()(c,{method:"POST",headers:d,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function ZC(n,e){return qi(n,"POST","/v2/accounts:revokeToken",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Se(e.idToken,"internal-error"),Se(typeof e.idToken<"u","internal-error"),Se(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ev(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Se(e.length!==0,"internal-error");const t=Ev(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Se(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:u}=await JC(e,t);this.updateTokensAndExpiration(i,o,Number(u))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:u}=t,c=new zo;return i&&(Se(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),o&&(Se(typeof o=="string","internal-error",{appName:e}),c.accessToken=o),u&&(Se(typeof u=="number","internal-error",{appName:e}),c.expirationTime=u),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(n,e){Se(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class jr{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,u=_m(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new QC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Pp(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const t=await Fu(this,this.stsTokenManager.getToken(this.auth,e));return Se(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return KC(this,e)}reload(){return YC(this)}_assign(e){this!==e&&(Se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new jr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await lh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yn(this.auth.app))return Promise.reject($r(this.auth));const e=await this.getIdToken();return await Fu(this,WC(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,u,c,d,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,I=(o=t.email)!==null&&o!==void 0?o:void 0,O=(u=t.phoneNumber)!==null&&u!==void 0?u:void 0,b=(c=t.photoURL)!==null&&c!==void 0?c:void 0,z=(d=t.tenantId)!==null&&d!==void 0?d:void 0,V=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,X=(y=t.createdAt)!==null&&y!==void 0?y:void 0,re=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:H,emailVerified:te,isAnonymous:de,providerData:ce,stsTokenManager:P}=t;Se(H&&P,e,"internal-error");const S=zo.fromJSON(this.name,P);Se(typeof H=="string",e,"internal-error"),Ii(T,e.name),Ii(I,e.name),Se(typeof te=="boolean",e,"internal-error"),Se(typeof de=="boolean",e,"internal-error"),Ii(O,e.name),Ii(b,e.name),Ii(z,e.name),Ii(V,e.name),Ii(X,e.name),Ii(re,e.name);const A=new jr({uid:H,auth:e,email:I,emailVerified:te,displayName:T,isAnonymous:de,photoURL:b,phoneNumber:O,tenantId:z,stsTokenManager:S,createdAt:X,lastLoginAt:re});return ce&&Array.isArray(ce)&&(A.providerData=ce.map(k=>Object.assign({},k))),V&&(A._redirectEventId=V),A}static async _fromIdTokenResponse(e,t,i=!1){const o=new zo;o.updateFromServerResponse(t);const u=new jr({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await lh(u),u}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Se(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?tT(o.providerUserInfo):[],c=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new zo;d.updateFromIdToken(i);const p=new jr({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:c}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Pp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tv=new Map;function zr(n){Kr(n instanceof Function,"Expected a class definition");let e=Tv.get(n);return e?(Kr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Tv.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}nT.type="NONE";const Iv=nT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fc(n,e,t){return`firebase:${n}:${e}:${t}`}class Bo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:u}=this.auth;this.fullUserKey=Fc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Fc("persistence",o.apiKey,u),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?jr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new Bo(zr(Iv),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||zr(Iv);const c=Fc(i,e.config.apiKey,e.name);let d=null;for(const y of t)try{const w=await y._get(c);if(w){const T=jr._fromJSON(e,w);y!==u&&(d=T),u=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new Bo(u,e,i):(u=p[0],d&&await u._set(c,d.toJSON()),await Promise.all(t.map(async y=>{if(y!==u)try{await y._remove(c)}catch{}})),new Bo(u,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sv(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(oT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(rT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uT(e))return"Blackberry";if(lT(e))return"Webos";if(iT(e))return"Safari";if((e.includes("chrome/")||sT(e))&&!e.includes("edge/"))return"Chrome";if(aT(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function rT(n=$t()){return/firefox\//i.test(n)}function iT(n=$t()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function sT(n=$t()){return/crios\//i.test(n)}function oT(n=$t()){return/iemobile/i.test(n)}function aT(n=$t()){return/android/i.test(n)}function uT(n=$t()){return/blackberry/i.test(n)}function lT(n=$t()){return/webos/i.test(n)}function Im(n=$t()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function eP(n=$t()){var e;return Im(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function tP(){return fR()&&document.documentMode===10}function cT(n=$t()){return Im(n)||aT(n)||lT(n)||uT(n)||/windows phone/i.test(n)||oT(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(n,e=[]){let t;switch(n){case"Browser":t=Sv($t());break;case"Worker":t=`${Sv($t())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${na}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=u=>new Promise((c,d)=>{try{const p=e(u);c(p)}catch(p){d(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rP(n,e={}){return qi(n,"GET","/v2/passwordPolicy",$i(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iP=6;class sP{constructor(e){var t,i,o,u;const c=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=c.minPasswordLength)!==null&&t!==void 0?t:iP,c.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=c.maxPasswordLength),c.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=c.containsLowercaseCharacter),c.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=c.containsUppercaseCharacter),c.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=c.containsNumericCharacter),c.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=c.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,u,c,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(c=p.containsNumericCharacter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Av(this),this.idTokenSubscription=new Av(this),this.beforeStateQueue=new nP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=YE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=zr(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await Bo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await eT(this,{idToken:e}),i=await jr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(yn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!c||c===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(c){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await lh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yn(this.app))return Promise.reject($r(this));const t=e?ht(e):null;return t&&Se(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yn(this.app)?Promise.reject($r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yn(this.app)?Promise.reject($r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(zr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rP(this),t=new sP(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Xu("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await ZC(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&zr(e)||this._popupRedirectResolver;Se(t,this,"argument-error"),this.redirectPersistenceManager=await Bo.create(this,[zr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const u=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Se(d,this,"internal-error"),d.then(()=>{c||u(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{c=!0,p()}}else{const p=e.addObserver(t);return()=>{c=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(yn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&VC(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Hi(n){return ht(n)}class Av{constructor(e){this.auth=e,this.observer=null,this.addObserver=ER(t=>this.observer=t)}get next(){return Se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aP(n){Lh=n}function dT(n){return Lh.loadJS(n)}function uP(){return Lh.recaptchaEnterpriseScript}function lP(){return Lh.gapiScript}function cP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class hP{constructor(){this.enterprise=new dP}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class dP{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const fP="recaptcha-enterprise",fT="NO_RECAPTCHA";class pP{constructor(e){this.type=fP,this.auth=Hi(e)}async verify(e="verify",t=!1){async function i(u){if(!t){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(c,d)=>{HC(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const y=new qC(p);return u.tenantId==null?u._agentRecaptchaConfig=y:u._tenantRecaptchaConfigs[u.tenantId]=y,c(y.siteKey)}}).catch(p=>{d(p)})})}function o(u,c,d){const p=window.grecaptcha;wv(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(y=>{c(y)}).catch(()=>{c(fT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new hP().execute("siteKey",{action:"verify"}):new Promise((u,c)=>{i(this.auth).then(d=>{if(!t&&wv(window.grecaptcha))o(d,u,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let p=uP();p.length!==0&&(p+=d),dT(p).then(()=>{o(d,u,c)}).catch(y=>{c(y)})}}).catch(d=>{c(d)})})}}async function Rv(n,e,t,i=!1,o=!1){const u=new pP(n);let c;if(o)c=fT;else try{c=await u.verify(t)}catch{c=await u.verify(t,!0)}const d=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,y=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function kp(n,e,t,i,o){var u;if(!((u=n._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Rv(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rv(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(n,e){const t=ym(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),u=t.getOptions();if(oh(u,e??{}))return o;On(o,"already-initialized")}return t.initialize({options:e})}function gP(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(zr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function yP(n,e,t){const i=Hi(n);Se(i._canInitEmulator,i,"emulator-config-failed"),Se(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,u=pT(e),{host:c,port:d}=_P(e),p=d===null?"":`:${d}`;i.config.emulator={url:`${u}//${c}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:c,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})}),vP()}function pT(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function _P(n){const e=pT(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const u=o[1];return{host:u,port:Cv(i.substr(u.length+1))}}else{const[u,c]=i.split(":");return{host:u,port:Cv(c)}}}function Cv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function vP(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function wP(n,e){return qi(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(n,e){return el(n,"POST","/v1/accounts:signInWithPassword",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(n,e){return el(n,"POST","/v1/accounts:signInWithEmailLink",$i(n,e))}async function IP(n,e){return el(n,"POST","/v1/accounts:signInWithEmailLink",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Sm{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Uu(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Uu(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,t,"signInWithPassword",EP);case"emailLink":return TP(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return kp(e,i,"signUpPassword",wP);case"emailLink":return IP(e,{idToken:t,email:this._email,oobCode:this._password});default:On(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(n,e){return el(n,"POST","/v1/accounts:signInWithIdp",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP="http://localhost";class Ds extends Sm{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ds(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):On("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,u=_m(t,["providerId","signInMethod"]);if(!i||!o)return null;const c=new Ds(i,o);return c.idToken=u.idToken||void 0,c.accessToken=u.accessToken||void 0,c.secret=u.secret,c.nonce=u.nonce,c.pendingToken=u.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return $o(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,$o(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,$o(e,t)}buildRequest(){const e={requestUri:SP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Ju(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function RP(n){const e=lu(cu(n)).link,t=e?lu(cu(e)).deep_link_id:null,i=lu(cu(n)).deep_link_id;return(i?lu(cu(i)).link:null)||i||t||e||n}class Am{constructor(e){var t,i,o,u,c,d;const p=lu(cu(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=AP((o=p.mode)!==null&&o!==void 0?o:null);Se(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(c=p.languageCode)!==null&&c!==void 0?c:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const t=RP(e);try{return new Am(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(){this.providerId=ra.PROVIDER_ID}static credential(e,t){return Uu._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Am.parseLink(t);return Se(i,"argument-error"),Uu._fromEmailAndCode(e,i.code,i.tenantId)}}ra.PROVIDER_ID="password";ra.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ra.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends Rm{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si extends tl{constructor(){super("facebook.com")}static credential(e){return Ds._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Si.credential(e.oauthAccessToken)}catch{return null}}}Si.FACEBOOK_SIGN_IN_METHOD="facebook.com";Si.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr extends tl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ds._fromParams({providerId:pr.PROVIDER_ID,signInMethod:pr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return pr.credentialFromTaggedObject(e)}static credentialFromError(e){return pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return pr.credential(t,i)}catch{return null}}}pr.GOOGLE_SIGN_IN_METHOD="google.com";pr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai extends tl{constructor(){super("github.com")}static credential(e){return Ds._fromParams({providerId:Ai.PROVIDER_ID,signInMethod:Ai.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ai.credentialFromTaggedObject(e)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ai.credential(e.oauthAccessToken)}catch{return null}}}Ai.GITHUB_SIGN_IN_METHOD="github.com";Ai.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends tl{constructor(){super("twitter.com")}static credential(e,t){return Ds._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ri.credential(t,i)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CP(n,e){return el(n,"POST","/v1/accounts:signUp",$i(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Os{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const u=await jr._fromIdTokenResponse(e,i,o),c=Pv(i);return new Os({user:u,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Pv(i);return new Os({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Pv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Yr{constructor(e,t,i,o){var u;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new ch(e,t,i,o)}}function mT(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(n,u,e,i):u})}async function PP(n,e,t=!1){const i=await Fu(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Os._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kP(n,e,t=!1){const{auth:i}=n;if(yn(i.app))return Promise.reject($r(i));const o="reauthenticate";try{const u=await Fu(n,mT(i,o,e,n),t);Se(u.idToken,i,"internal-error");const c=Tm(u.idToken);Se(c,i,"internal-error");const{sub:d}=c;return Se(n.uid===d,i,"user-mismatch"),Os._forOperation(n,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&On(i,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gT(n,e,t=!1){if(yn(n.app))return Promise.reject($r(n));const i="signIn",o=await mT(n,i,e),u=await Os._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(u.user),u}async function xP(n,e){return gT(Hi(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yT(n){const e=Hi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function NP(n,e,t){if(yn(n.app))return Promise.reject($r(n));const i=Hi(n),c=await kp(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",CP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&yT(n),p}),d=await Os._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(d.user),d}function DP(n,e,t){return yn(n.app)?Promise.reject($r(n)):xP(ht(n),ra.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&yT(n),i})}function OP(n,e,t,i){return ht(n).onIdTokenChanged(e,t,i)}function bP(n,e,t){return ht(n).beforeAuthStateChanged(e,t)}function VP(n,e,t,i){return ht(n).onAuthStateChanged(e,t,i)}function MP(n){return ht(n).signOut()}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LP=1e3,FP=10;class vT extends _T{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,p)=>{this.notifyListeners(c,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},u=this.storage.getItem(i);tP()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,FP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},LP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}vT.type="LOCAL";const UP=vT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends _T{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}wT.type="SESSION";const ET=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jP(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Fh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:u}=t.data,c=this.handlersMap[o];if(!(c!=null&&c.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const d=Array.from(c).map(async y=>y(t.origin,u)),p=await jP(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cm(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,c;return new Promise((d,p)=>{const y=Cm("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);c={messageChannel:o,onMessage(T){const I=T;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(w),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(I.data.response);break;default:clearTimeout(w),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(c),o.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mr(){return window}function BP(n){mr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function $P(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qP(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function HP(){return TT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IT="firebaseLocalStorageDb",WP=1,dh="firebaseLocalStorage",ST="fbase_key";class nl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uh(n,e){return n.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function KP(){const n=indexedDB.deleteDatabase(IT);return new nl(n).toPromise()}function xp(){const n=indexedDB.open(IT,WP);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(dh,{keyPath:ST})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(dh)?e(i):(i.close(),await KP(),e(await xp()))})})}async function kv(n,e,t){const i=Uh(n,!0).put({[ST]:e,value:t});return new nl(i).toPromise()}async function GP(n,e){const t=Uh(n,!1).get(e),i=await new nl(t).toPromise();return i===void 0?null:i.value}function xv(n,e){const t=Uh(n,!0).delete(e);return new nl(t).toPromise()}const QP=800,YP=3;class AT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>YP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return TT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fh._getInstance(HP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await $P(),!this.activeServiceWorker)return;this.sender=new zP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||qP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xp();return await kv(e,hh,"1"),await xv(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>kv(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>GP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Uh(o,!1).getAll();return new nl(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),QP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}AT.type="LOCAL";const XP=AT;new Zu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RT(n,e){return e?zr(e):(Se(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends Sm{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,t){return $o(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function JP(n){return gT(n.auth,new Pm(n),n.bypassAuthState)}function ZP(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),kP(t,new Pm(n),n.bypassAuthState)}async function ek(n){const{auth:e,user:t}=n;return Se(t,e,"internal-error"),PP(t,new Pm(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,t,i,o,u=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:u,error:c,type:d}=e;if(c){this.reject(c);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return JP;case"linkViaPopup":case"linkViaRedirect":return ek;case"reauthViaPopup":case"reauthViaRedirect":return ZP;default:On(this.auth,"internal-error")}}resolve(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tk=new Zu(2e3,1e4);async function nk(n,e,t){if(yn(n.app))return Promise.reject(Jn(n,"operation-not-supported-in-this-environment"));const i=Hi(n);MC(n,e,Rm);const o=RT(i,t);return new As(i,"signInViaPopup",e,o).executeNotNull()}class As extends CT{constructor(e,t,i,o,u){super(e,t,o,u),this.provider=i,this.authWindow=null,this.pollId=null,As.currentPopupAction&&As.currentPopupAction.cancel(),As.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Se(e,this.auth,"internal-error"),e}async onExecution(){Kr(this.filter.length===1,"Popup operations only handle one event");const e=Cm();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Jn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Jn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,As.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Jn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,tk.get())};e()}}As.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rk="pendingRedirect",Uc=new Map;class ik extends CT{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Uc.get(this.auth._key());if(!e){try{const i=await sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Uc.set(this.auth._key(),e)}return this.bypassAuthState||Uc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sk(n,e){const t=uk(e),i=ak(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function ok(n,e){Uc.set(n._key(),e)}function ak(n){return zr(n._redirectPersistence)}function uk(n){return Fc(rk,n.config.apiKey,n.name)}async function lk(n,e,t=!1){if(yn(n.app))return Promise.reject($r(n));const i=Hi(n),o=RT(i,e),c=await new ik(i,o,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=10*60*1e3;class hk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!dk(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!PT(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(Jn(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ck&&this.cachedEventUids.clear(),this.cachedEventUids.has(Nv(e))}saveEventToCache(e){this.cachedEventUids.add(Nv(e)),this.lastProcessedEventTime=Date.now()}}function Nv(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function PT({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function dk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return PT(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fk(n,e={}){return qi(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mk=/^https?/;async function gk(n){if(n.config.emulator)return;const{authorizedDomains:e}=await fk(n);for(const t of e)try{if(yk(t))return}catch{}On(n,"unauthorized-domain")}function yk(n){const e=Cp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!mk.test(t))return!1;if(pk.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _k=new Zu(3e4,6e4);function Dv(){const n=mr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function vk(n){return new Promise((e,t)=>{var i,o,u;function c(){Dv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Dv(),t(Jn(n,"network-request-failed"))},timeout:_k.get()})}if(!((o=(i=mr().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=mr().gapi)===null||u===void 0)&&u.load)c();else{const d=cP("iframefcb");return mr()[d]=()=>{gapi.load?c():t(Jn(n,"network-request-failed"))},dT(`${lP()}?onload=${d}`).catch(p=>t(p))}}).catch(e=>{throw jc=null,e})}let jc=null;function wk(n){return jc=jc||vk(n),jc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek=new Zu(5e3,15e3),Tk="__/auth/iframe",Ik="emulator/auth/iframe",Sk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ak=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Rk(n){const e=n.config;Se(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Em(e,Ik):`https://${n.config.authDomain}/${Tk}`,i={apiKey:e.apiKey,appName:n.name,v:na},o=Ak.get(n.config.apiHost);o&&(i.eid=o);const u=n._getFrameworks();return u.length&&(i.fw=u.join(",")),`${t}?${Ju(i).slice(1)}`}async function Ck(n){const e=await wk(n),t=mr().gapi;return Se(t,n,"internal-error"),e.open({where:document.body,url:Rk(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Sk,dontclear:!0},i=>new Promise(async(o,u)=>{await i.restyle({setHideOnLeave:!1});const c=Jn(n,"network-request-failed"),d=mr().setTimeout(()=>{u(c)},Ek.get());function p(){mr().clearTimeout(d),o(i)}i.ping(p).then(p,()=>{u(c)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},kk=500,xk=600,Nk="_blank",Dk="http://localhost";class Ov{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ok(n,e,t,i=kk,o=xk){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const p=Object.assign(Object.assign({},Pk),{width:i.toString(),height:o.toString(),top:u,left:c}),y=$t().toLowerCase();t&&(d=sT(y)?Nk:t),rT(y)&&(e=e||Dk,p.scrollbars="yes");const w=Object.entries(p).reduce((I,[O,b])=>`${I}${O}=${b},`,"");if(eP(y)&&d!=="_self")return bk(e||"",d),new Ov(null);const T=window.open(e||"",d,w);Se(T,n,"popup-blocked");try{T.focus()}catch{}return new Ov(T)}function bk(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vk="__/auth/handler",Mk="emulator/auth/handler",Lk=encodeURIComponent("fac");async function bv(n,e,t,i,o,u){Se(n.config.authDomain,n,"auth-domain-config-required"),Se(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:na,eventId:o};if(e instanceof Rm){e.setDefaultLanguage(n.languageCode),c.providerId=e.providerId||"",wR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))c[w]=T}if(e instanceof tl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(c.scopes=w.join(","))}n.tenantId&&(c.tid=n.tenantId);const d=c;for(const w of Object.keys(d))d[w]===void 0&&delete d[w];const p=await n._getAppCheckToken(),y=p?`#${Lk}=${encodeURIComponent(p)}`:"";return`${Fk(n)}?${Ju(d).slice(1)}${y}`}function Fk({config:n}){return n.emulator?Em(n,Mk):`https://${n.authDomain}/${Vk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rp="webStorageSupport";class Uk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ET,this._completeRedirectFn=lk,this._overrideRedirectResult=ok}async _openPopup(e,t,i,o){var u;Kr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const c=await bv(e,t,i,Cp(),o);return Ok(e,c,Cm())}async _openRedirect(e,t,i,o){await this._originValidation(e);const u=await bv(e,t,i,Cp(),o);return BP(u),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:u}=this.eventManagers[t];return o?Promise.resolve(o):(Kr(u,"If manager is not set, promise should be"),u)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await Ck(e),i=new hk(e);return t.register("authEvent",o=>(Se(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(rp,{type:rp},o=>{var u;const c=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[rp];c!==void 0&&t(!!c),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=gk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return cT()||iT()||Im()}}const jk=Uk;var Vv="@firebase/auth",Mv="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $k(n){Ko(new Ns("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Se(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:c,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hT(n)},y=new oP(i,o,u,p);return gP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ko(new Ns("auth-internal",e=>{const t=Hi(e.getProvider("auth").getImmediate());return(i=>new zk(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Oi(Vv,Mv,Bk(n)),Oi(Vv,Mv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qk=5*60,Hk=BE("authIdTokenMaxAge")||qk;let Lv=null;const Wk=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>Hk)return;const o=t==null?void 0:t.token;Lv!==o&&(Lv=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Kk(n=WE()){const e=ym(n,"auth");if(e.isInitialized())return e.getImmediate();const t=mP(n,{popupRedirectResolver:jk,persistence:[XP,UP,ET]}),i=BE("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(i,location.origin);if(location.origin===u.origin){const c=Wk(u.toString());bP(t,c,()=>c(t.currentUser)),OP(t,d=>c(d))}}const o=jE("auth");return o&&yP(t,`http://${o}`),t}function Gk(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}aP({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const u=Jn("internal-error");u.customData=o,t(u)},i.type="text/javascript",i.charset="UTF-8",Gk().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$k("Browser");var Fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,kT;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,S){function A(){}A.prototype=S.prototype,P.D=S.prototype,P.prototype=new A,P.prototype.constructor=P,P.C=function(k,N,M){for(var C=Array(arguments.length-2),fe=2;fe<arguments.length;fe++)C[fe-2]=arguments[fe];return S.prototype[N].apply(k,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(P,S,A){A||(A=0);var k=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)k[N]=S.charCodeAt(A++)|S.charCodeAt(A++)<<8|S.charCodeAt(A++)<<16|S.charCodeAt(A++)<<24;else for(N=0;16>N;++N)k[N]=S[A++]|S[A++]<<8|S[A++]<<16|S[A++]<<24;S=P.g[0],A=P.g[1],N=P.g[2];var M=P.g[3],C=S+(M^A&(N^M))+k[0]+3614090360&4294967295;S=A+(C<<7&4294967295|C>>>25),C=M+(N^S&(A^N))+k[1]+3905402710&4294967295,M=S+(C<<12&4294967295|C>>>20),C=N+(A^M&(S^A))+k[2]+606105819&4294967295,N=M+(C<<17&4294967295|C>>>15),C=A+(S^N&(M^S))+k[3]+3250441966&4294967295,A=N+(C<<22&4294967295|C>>>10),C=S+(M^A&(N^M))+k[4]+4118548399&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(N^S&(A^N))+k[5]+1200080426&4294967295,M=S+(C<<12&4294967295|C>>>20),C=N+(A^M&(S^A))+k[6]+2821735955&4294967295,N=M+(C<<17&4294967295|C>>>15),C=A+(S^N&(M^S))+k[7]+4249261313&4294967295,A=N+(C<<22&4294967295|C>>>10),C=S+(M^A&(N^M))+k[8]+1770035416&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(N^S&(A^N))+k[9]+2336552879&4294967295,M=S+(C<<12&4294967295|C>>>20),C=N+(A^M&(S^A))+k[10]+4294925233&4294967295,N=M+(C<<17&4294967295|C>>>15),C=A+(S^N&(M^S))+k[11]+2304563134&4294967295,A=N+(C<<22&4294967295|C>>>10),C=S+(M^A&(N^M))+k[12]+1804603682&4294967295,S=A+(C<<7&4294967295|C>>>25),C=M+(N^S&(A^N))+k[13]+4254626195&4294967295,M=S+(C<<12&4294967295|C>>>20),C=N+(A^M&(S^A))+k[14]+2792965006&4294967295,N=M+(C<<17&4294967295|C>>>15),C=A+(S^N&(M^S))+k[15]+1236535329&4294967295,A=N+(C<<22&4294967295|C>>>10),C=S+(N^M&(A^N))+k[1]+4129170786&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^N&(S^A))+k[6]+3225465664&4294967295,M=S+(C<<9&4294967295|C>>>23),C=N+(S^A&(M^S))+k[11]+643717713&4294967295,N=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(N^M))+k[0]+3921069994&4294967295,A=N+(C<<20&4294967295|C>>>12),C=S+(N^M&(A^N))+k[5]+3593408605&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^N&(S^A))+k[10]+38016083&4294967295,M=S+(C<<9&4294967295|C>>>23),C=N+(S^A&(M^S))+k[15]+3634488961&4294967295,N=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(N^M))+k[4]+3889429448&4294967295,A=N+(C<<20&4294967295|C>>>12),C=S+(N^M&(A^N))+k[9]+568446438&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^N&(S^A))+k[14]+3275163606&4294967295,M=S+(C<<9&4294967295|C>>>23),C=N+(S^A&(M^S))+k[3]+4107603335&4294967295,N=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(N^M))+k[8]+1163531501&4294967295,A=N+(C<<20&4294967295|C>>>12),C=S+(N^M&(A^N))+k[13]+2850285829&4294967295,S=A+(C<<5&4294967295|C>>>27),C=M+(A^N&(S^A))+k[2]+4243563512&4294967295,M=S+(C<<9&4294967295|C>>>23),C=N+(S^A&(M^S))+k[7]+1735328473&4294967295,N=M+(C<<14&4294967295|C>>>18),C=A+(M^S&(N^M))+k[12]+2368359562&4294967295,A=N+(C<<20&4294967295|C>>>12),C=S+(A^N^M)+k[5]+4294588738&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^N)+k[8]+2272392833&4294967295,M=S+(C<<11&4294967295|C>>>21),C=N+(M^S^A)+k[11]+1839030562&4294967295,N=M+(C<<16&4294967295|C>>>16),C=A+(N^M^S)+k[14]+4259657740&4294967295,A=N+(C<<23&4294967295|C>>>9),C=S+(A^N^M)+k[1]+2763975236&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^N)+k[4]+1272893353&4294967295,M=S+(C<<11&4294967295|C>>>21),C=N+(M^S^A)+k[7]+4139469664&4294967295,N=M+(C<<16&4294967295|C>>>16),C=A+(N^M^S)+k[10]+3200236656&4294967295,A=N+(C<<23&4294967295|C>>>9),C=S+(A^N^M)+k[13]+681279174&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^N)+k[0]+3936430074&4294967295,M=S+(C<<11&4294967295|C>>>21),C=N+(M^S^A)+k[3]+3572445317&4294967295,N=M+(C<<16&4294967295|C>>>16),C=A+(N^M^S)+k[6]+76029189&4294967295,A=N+(C<<23&4294967295|C>>>9),C=S+(A^N^M)+k[9]+3654602809&4294967295,S=A+(C<<4&4294967295|C>>>28),C=M+(S^A^N)+k[12]+3873151461&4294967295,M=S+(C<<11&4294967295|C>>>21),C=N+(M^S^A)+k[15]+530742520&4294967295,N=M+(C<<16&4294967295|C>>>16),C=A+(N^M^S)+k[2]+3299628645&4294967295,A=N+(C<<23&4294967295|C>>>9),C=S+(N^(A|~M))+k[0]+4096336452&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~N))+k[7]+1126891415&4294967295,M=S+(C<<10&4294967295|C>>>22),C=N+(S^(M|~A))+k[14]+2878612391&4294967295,N=M+(C<<15&4294967295|C>>>17),C=A+(M^(N|~S))+k[5]+4237533241&4294967295,A=N+(C<<21&4294967295|C>>>11),C=S+(N^(A|~M))+k[12]+1700485571&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~N))+k[3]+2399980690&4294967295,M=S+(C<<10&4294967295|C>>>22),C=N+(S^(M|~A))+k[10]+4293915773&4294967295,N=M+(C<<15&4294967295|C>>>17),C=A+(M^(N|~S))+k[1]+2240044497&4294967295,A=N+(C<<21&4294967295|C>>>11),C=S+(N^(A|~M))+k[8]+1873313359&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~N))+k[15]+4264355552&4294967295,M=S+(C<<10&4294967295|C>>>22),C=N+(S^(M|~A))+k[6]+2734768916&4294967295,N=M+(C<<15&4294967295|C>>>17),C=A+(M^(N|~S))+k[13]+1309151649&4294967295,A=N+(C<<21&4294967295|C>>>11),C=S+(N^(A|~M))+k[4]+4149444226&4294967295,S=A+(C<<6&4294967295|C>>>26),C=M+(A^(S|~N))+k[11]+3174756917&4294967295,M=S+(C<<10&4294967295|C>>>22),C=N+(S^(M|~A))+k[2]+718787259&4294967295,N=M+(C<<15&4294967295|C>>>17),C=A+(M^(N|~S))+k[9]+3951481745&4294967295,P.g[0]=P.g[0]+S&4294967295,P.g[1]=P.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,P.g[2]=P.g[2]+N&4294967295,P.g[3]=P.g[3]+M&4294967295}i.prototype.u=function(P,S){S===void 0&&(S=P.length);for(var A=S-this.blockSize,k=this.B,N=this.h,M=0;M<S;){if(N==0)for(;M<=A;)o(this,P,M),M+=this.blockSize;if(typeof P=="string"){for(;M<S;)if(k[N++]=P.charCodeAt(M++),N==this.blockSize){o(this,k),N=0;break}}else for(;M<S;)if(k[N++]=P[M++],N==this.blockSize){o(this,k),N=0;break}}this.h=N,this.o+=S},i.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var S=1;S<P.length-8;++S)P[S]=0;var A=8*this.o;for(S=P.length-8;S<P.length;++S)P[S]=A&255,A/=256;for(this.u(P),P=Array(16),S=A=0;4>S;++S)for(var k=0;32>k;k+=8)P[A++]=this.g[S]>>>k&255;return P};function u(P,S){var A=d;return Object.prototype.hasOwnProperty.call(A,P)?A[P]:A[P]=S(P)}function c(P,S){this.h=S;for(var A=[],k=!0,N=P.length-1;0<=N;N--){var M=P[N]|0;k&&M==S||(A[N]=M,k=!1)}this.g=A}var d={};function p(P){return-128<=P&&128>P?u(P,function(S){return new c([S|0],0>S?-1:0)}):new c([P|0],0>P?-1:0)}function y(P){if(isNaN(P)||!isFinite(P))return T;if(0>P)return V(y(-P));for(var S=[],A=1,k=0;P>=A;k++)S[k]=P/A|0,A*=4294967296;return new c(S,0)}function w(P,S){if(P.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(P.charAt(0)=="-")return V(w(P.substring(1),S));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=y(Math.pow(S,8)),k=T,N=0;N<P.length;N+=8){var M=Math.min(8,P.length-N),C=parseInt(P.substring(N,N+M),S);8>M?(M=y(Math.pow(S,M)),k=k.j(M).add(y(C))):(k=k.j(A),k=k.add(y(C)))}return k}var T=p(0),I=p(1),O=p(16777216);n=c.prototype,n.m=function(){if(z(this))return-V(this).m();for(var P=0,S=1,A=0;A<this.g.length;A++){var k=this.i(A);P+=(0<=k?k:4294967296+k)*S,S*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(b(this))return"0";if(z(this))return"-"+V(this).toString(P);for(var S=y(Math.pow(P,6)),A=this,k="";;){var N=te(A,S).g;A=X(A,N.j(S));var M=((0<A.g.length?A.g[0]:A.h)>>>0).toString(P);if(A=N,b(A))return M+k;for(;6>M.length;)M="0"+M;k=M+k}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function b(P){if(P.h!=0)return!1;for(var S=0;S<P.g.length;S++)if(P.g[S]!=0)return!1;return!0}function z(P){return P.h==-1}n.l=function(P){return P=X(this,P),z(P)?-1:b(P)?0:1};function V(P){for(var S=P.g.length,A=[],k=0;k<S;k++)A[k]=~P.g[k];return new c(A,~P.h).add(I)}n.abs=function(){return z(this)?V(this):this},n.add=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],k=0,N=0;N<=S;N++){var M=k+(this.i(N)&65535)+(P.i(N)&65535),C=(M>>>16)+(this.i(N)>>>16)+(P.i(N)>>>16);k=C>>>16,M&=65535,C&=65535,A[N]=C<<16|M}return new c(A,A[A.length-1]&-2147483648?-1:0)};function X(P,S){return P.add(V(S))}n.j=function(P){if(b(this)||b(P))return T;if(z(this))return z(P)?V(this).j(V(P)):V(V(this).j(P));if(z(P))return V(this.j(V(P)));if(0>this.l(O)&&0>P.l(O))return y(this.m()*P.m());for(var S=this.g.length+P.g.length,A=[],k=0;k<2*S;k++)A[k]=0;for(k=0;k<this.g.length;k++)for(var N=0;N<P.g.length;N++){var M=this.i(k)>>>16,C=this.i(k)&65535,fe=P.i(N)>>>16,we=P.i(N)&65535;A[2*k+2*N]+=C*we,re(A,2*k+2*N),A[2*k+2*N+1]+=M*we,re(A,2*k+2*N+1),A[2*k+2*N+1]+=C*fe,re(A,2*k+2*N+1),A[2*k+2*N+2]+=M*fe,re(A,2*k+2*N+2)}for(k=0;k<S;k++)A[k]=A[2*k+1]<<16|A[2*k];for(k=S;k<2*S;k++)A[k]=0;return new c(A,0)};function re(P,S){for(;(P[S]&65535)!=P[S];)P[S+1]+=P[S]>>>16,P[S]&=65535,S++}function H(P,S){this.g=P,this.h=S}function te(P,S){if(b(S))throw Error("division by zero");if(b(P))return new H(T,T);if(z(P))return S=te(V(P),S),new H(V(S.g),V(S.h));if(z(S))return S=te(P,V(S)),new H(V(S.g),S.h);if(30<P.g.length){if(z(P)||z(S))throw Error("slowDivide_ only works with positive integers.");for(var A=I,k=S;0>=k.l(P);)A=de(A),k=de(k);var N=ce(A,1),M=ce(k,1);for(k=ce(k,2),A=ce(A,2);!b(k);){var C=M.add(k);0>=C.l(P)&&(N=N.add(A),M=C),k=ce(k,1),A=ce(A,1)}return S=X(P,N.j(S)),new H(N,S)}for(N=T;0<=P.l(S);){for(A=Math.max(1,Math.floor(P.m()/S.m())),k=Math.ceil(Math.log(A)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),M=y(A),C=M.j(S);z(C)||0<C.l(P);)A-=k,M=y(A),C=M.j(S);b(M)&&(M=I),N=N.add(M),P=X(P,C)}return new H(N,P)}n.A=function(P){return te(this,P).h},n.and=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)&P.i(k);return new c(A,this.h&P.h)},n.or=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)|P.i(k);return new c(A,this.h|P.h)},n.xor=function(P){for(var S=Math.max(this.g.length,P.g.length),A=[],k=0;k<S;k++)A[k]=this.i(k)^P.i(k);return new c(A,this.h^P.h)};function de(P){for(var S=P.g.length+1,A=[],k=0;k<S;k++)A[k]=P.i(k)<<1|P.i(k-1)>>>31;return new c(A,P.h)}function ce(P,S){var A=S>>5;S%=32;for(var k=P.g.length-A,N=[],M=0;M<k;M++)N[M]=0<S?P.i(M+A)>>>S|P.i(M+A+1)<<32-S:P.i(M+A);return new c(N,P.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,kT=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.A,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=y,c.fromString=w,bi=c}).apply(typeof Fv<"u"?Fv:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xT,hu,NT,zc,Np,DT,OT,bT;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,m,_){return l==Array.prototype||l==Object.prototype||(l[m]=_.value),l};function t(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<l.length;++m){var _=l[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var i=t(this);function o(l,m){if(m)e:{var _=i;l=l.split(".");for(var E=0;E<l.length-1;E++){var F=l[E];if(!(F in _))break e;_=_[F]}l=l[l.length-1],E=_[l],m=m(E),m!=E&&m!=null&&e(_,l,{configurable:!0,writable:!0,value:m})}}function u(l,m){l instanceof String&&(l+="");var _=0,E=!1,F={next:function(){if(!E&&_<l.length){var $=_++;return{value:m($,l[$]),done:!1}}return E=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(l){return l||function(){return u(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var c=c||{},d=this||self;function p(l){var m=typeof l;return m=m!="object"?m:l?Array.isArray(l)?"array":m:"null",m=="array"||m=="object"&&typeof l.length=="number"}function y(l){var m=typeof l;return m=="object"&&l!=null||m=="function"}function w(l,m,_){return l.call.apply(l.bind,arguments)}function T(l,m,_){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,E),l.apply(m,F)}}return function(){return l.apply(m,arguments)}}function I(l,m,_){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,I.apply(null,arguments)}function O(l,m){var _=Array.prototype.slice.call(arguments,1);return function(){var E=_.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function b(l,m){function _(){}_.prototype=m.prototype,l.aa=m.prototype,l.prototype=new _,l.prototype.constructor=l,l.Qb=function(E,F,$){for(var ie=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)ie[Ge-2]=arguments[Ge];return m.prototype[F].apply(E,ie)}}function z(l){const m=l.length;if(0<m){const _=Array(m);for(let E=0;E<m;E++)_[E]=l[E];return _}return[]}function V(l,m){for(let _=1;_<arguments.length;_++){const E=arguments[_];if(p(E)){const F=l.length||0,$=E.length||0;l.length=F+$;for(let ie=0;ie<$;ie++)l[F+ie]=E[ie]}else l.push(E)}}class X{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function re(l){return/^[\s\xa0]*$/.test(l)}function H(){var l=d.navigator;return l&&(l=l.userAgent)?l:""}function te(l){return te[" "](l),l}te[" "]=function(){};var de=H().indexOf("Gecko")!=-1&&!(H().toLowerCase().indexOf("webkit")!=-1&&H().indexOf("Edge")==-1)&&!(H().indexOf("Trident")!=-1||H().indexOf("MSIE")!=-1)&&H().indexOf("Edge")==-1;function ce(l,m,_){for(const E in l)m.call(_,l[E],E,l)}function P(l,m){for(const _ in l)m.call(void 0,l[_],_,l)}function S(l){const m={};for(const _ in l)m[_]=l[_];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(l,m){let _,E;for(let F=1;F<arguments.length;F++){E=arguments[F];for(_ in E)l[_]=E[_];for(let $=0;$<A.length;$++)_=A[$],Object.prototype.hasOwnProperty.call(E,_)&&(l[_]=E[_])}}function N(l){var m=1;l=l.split(":");const _=[];for(;0<m&&l.length;)_.push(l.shift()),m--;return l.length&&_.push(l.join(":")),_}function M(l){d.setTimeout(()=>{throw l},0)}function C(){var l=ue;let m=null;return l.g&&(m=l.g,l.g=l.g.next,l.g||(l.h=null),m.next=null),m}class fe{constructor(){this.h=this.g=null}add(m,_){const E=we.get();E.set(m,_),this.h?this.h.next=E:this.g=E,this.h=E}}var we=new X(()=>new He,l=>l.reset());class He{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let Pe,J=!1,ue=new fe,se=()=>{const l=d.Promise.resolve(void 0);Pe=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(_){M(_)}var m=we;m.j(l),100>m.h&&(m.h++,l.next=m.g,m.g=l)}J=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(l,m){this.type=l,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ne=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var l=!1,m=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const _=()=>{};d.addEventListener("test",_,m),d.removeEventListener("test",_,m)}catch{}return l}();function Ie(l,m){if(_e.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var _=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=m,m=l.relatedTarget){if(de){e:{try{te(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else _=="mouseover"?m=l.fromElement:_=="mouseout"&&(m=l.toElement);this.relatedTarget=m,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:Oe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Ie.aa.h.call(this)}}b(Ie,_e);var Oe={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Me=0;function ze(l,m,_,E,F){this.listener=l,this.proxy=null,this.src=m,this.type=_,this.capture=!!E,this.ha=F,this.key=++Me,this.da=this.fa=!1}function ot(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function wr(l){this.src=l,this.g={},this.h=0}wr.prototype.add=function(l,m,_,E,F){var $=l.toString();l=this.g[$],l||(l=this.g[$]=[],this.h++);var ie=Xr(l,m,E,F);return-1<ie?(m=l[ie],_||(m.fa=!1)):(m=new ze(m,this.src,$,!!E,F),m.fa=_,l.push(m)),m};function js(l,m){var _=m.type;if(_ in l.g){var E=l.g[_],F=Array.prototype.indexOf.call(E,m,void 0),$;($=0<=F)&&Array.prototype.splice.call(E,F,1),$&&(ot(m),l.g[_].length==0&&(delete l.g[_],l.h--))}}function Xr(l,m,_,E){for(var F=0;F<l.length;++F){var $=l[F];if(!$.da&&$.listener==m&&$.capture==!!_&&$.ha==E)return F}return-1}var Gi="closure_lm_"+(1e6*Math.random()|0),zs={};function la(l,m,_,E,F){if(Array.isArray(m)){for(var $=0;$<m.length;$++)la(l,m[$],_,E,F);return null}return _=da(_),l&&l[be]?l.K(m,_,y(E)?!!E.capture:!1,F):ca(l,m,_,!1,E,F)}function ca(l,m,_,E,F,$){if(!m)throw Error("Invalid event type");var ie=y(F)?!!F.capture:!!F,Ge=$s(l);if(Ge||(l[Gi]=Ge=new wr(l)),_=Ge.add(m,_,E,ie,$),_.proxy)return _;if(E=ll(),_.proxy=E,E.src=l,E.listener=_,l.addEventListener)Ne||(F=ie),F===void 0&&(F=!1),l.addEventListener(m.toString(),E,F);else if(l.attachEvent)l.attachEvent(Tr(m.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return _}function ll(){function l(_){return m.call(l.src,l.listener,_)}const m=ha;return l}function Bs(l,m,_,E,F){if(Array.isArray(m))for(var $=0;$<m.length;$++)Bs(l,m[$],_,E,F);else E=y(E)?!!E.capture:!!E,_=da(_),l&&l[be]?(l=l.i,m=String(m).toString(),m in l.g&&($=l.g[m],_=Xr($,_,E,F),-1<_&&(ot($[_]),Array.prototype.splice.call($,_,1),$.length==0&&(delete l.g[m],l.h--)))):l&&(l=$s(l))&&(m=l.g[m.toString()],l=-1,m&&(l=Xr(m,_,E,F)),(_=-1<l?m[l]:null)&&Er(_))}function Er(l){if(typeof l!="number"&&l&&!l.da){var m=l.src;if(m&&m[be])js(m.i,l);else{var _=l.type,E=l.proxy;m.removeEventListener?m.removeEventListener(_,E,l.capture):m.detachEvent?m.detachEvent(Tr(_),E):m.addListener&&m.removeListener&&m.removeListener(E),(_=$s(m))?(js(_,l),_.h==0&&(_.src=null,m[Gi]=null)):ot(l)}}}function Tr(l){return l in zs?zs[l]:zs[l]="on"+l}function ha(l,m){if(l.da)l=!0;else{m=new Ie(m,this);var _=l.listener,E=l.ha||l.src;l.fa&&Er(l),l=_.call(E,m)}return l}function $s(l){return l=l[Gi],l instanceof wr?l:null}var qs="__closure_events_fn_"+(1e9*Math.random()>>>0);function da(l){return typeof l=="function"?l:(l[qs]||(l[qs]=function(m){return l.handleEvent(m)}),l[qs])}function gt(){q.call(this),this.i=new wr(this),this.M=this,this.F=null}b(gt,q),gt.prototype[be]=!0,gt.prototype.removeEventListener=function(l,m,_,E){Bs(this,l,m,_,E)};function yt(l,m){var _,E=l.F;if(E)for(_=[];E;E=E.F)_.push(E);if(l=l.M,E=m.type||m,typeof m=="string")m=new _e(m,l);else if(m instanceof _e)m.target=m.target||l;else{var F=m;m=new _e(E,l),k(m,F)}if(F=!0,_)for(var $=_.length-1;0<=$;$--){var ie=m.g=_[$];F=Ir(ie,E,!0,m)&&F}if(ie=m.g=l,F=Ir(ie,E,!0,m)&&F,F=Ir(ie,E,!1,m)&&F,_)for($=0;$<_.length;$++)ie=m.g=_[$],F=Ir(ie,E,!1,m)&&F}gt.prototype.N=function(){if(gt.aa.N.call(this),this.i){var l=this.i,m;for(m in l.g){for(var _=l.g[m],E=0;E<_.length;E++)ot(_[E]);delete l.g[m],l.h--}}this.F=null},gt.prototype.K=function(l,m,_,E){return this.i.add(String(l),m,!1,_,E)},gt.prototype.L=function(l,m,_,E){return this.i.add(String(l),m,!0,_,E)};function Ir(l,m,_,E){if(m=l.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,$=0;$<m.length;++$){var ie=m[$];if(ie&&!ie.da&&ie.capture==_){var Ge=ie.listener,_t=ie.ha||ie.src;ie.fa&&js(l.i,ie),F=Ge.call(_t,E)!==!1&&F}}return F&&!E.defaultPrevented}function fa(l,m,_){if(typeof l=="function")_&&(l=I(l,_));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:d.setTimeout(l,m||0)}function Jr(l){l.g=fa(()=>{l.g=null,l.i&&(l.i=!1,Jr(l))},l.l);const m=l.h;l.h=null,l.m.apply(null,m)}class Qi extends q{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Jr(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(l){q.call(this),this.h=l,this.g={}}b(Yi,q);var pa=[];function ma(l){ce(l.g,function(m,_){this.g.hasOwnProperty(_)&&Er(m)},l),l.g={}}Yi.prototype.N=function(){Yi.aa.N.call(this),ma(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ga=d.JSON.stringify,ya=d.JSON.parse,_a=class{stringify(l){return d.JSON.stringify(l,void 0)}parse(l){return d.JSON.parse(l,void 0)}};function Xi(){}Xi.prototype.h=null;function Hs(l){return l.h||(l.h=l.i())}function Ws(){}var En={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function tr(){_e.call(this,"d")}b(tr,_e);function Ks(){_e.call(this,"c")}b(Ks,_e);var nr={},va=null;function Ji(){return va=va||new gt}nr.La="serverreachability";function wa(l){_e.call(this,nr.La,l)}b(wa,_e);function Sr(l){const m=Ji();yt(m,new wa(m))}nr.STAT_EVENT="statevent";function Ea(l,m){_e.call(this,nr.STAT_EVENT,l),this.stat=m}b(Ea,_e);function ut(l){const m=Ji();yt(m,new Ea(m,l))}nr.Ma="timingevent";function Gs(l,m){_e.call(this,nr.Ma,l),this.size=m}b(Gs,_e);function bn(l,m){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){l()},m)}function Zi(){this.g=!0}Zi.prototype.xa=function(){this.g=!1};function es(l,m,_,E,F,$){l.info(function(){if(l.g)if($)for(var ie="",Ge=$.split("&"),_t=0;_t<Ge.length;_t++){var Be=Ge[_t].split("=");if(1<Be.length){var It=Be[0];Be=Be[1];var dt=It.split("_");ie=2<=dt.length&&dt[1]=="type"?ie+(It+"="+Be+"&"):ie+(It+"=redacted&")}}else ie=null;else ie=$;return"XMLHTTP REQ ("+E+") [attempt "+F+"]: "+m+`
`+_+`
`+ie})}function Qs(l,m,_,E,F,$,ie){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+F+"]: "+m+`
`+_+`
`+$+" "+ie})}function Vn(l,m,_,E){l.info(function(){return"XMLHTTP TEXT ("+m+"): "+od(l,_)+(E?" "+E:"")})}function Ta(l,m){l.info(function(){return"TIMEOUT: "+m})}Zi.prototype.info=function(){};function od(l,m){if(!l.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(l=0;l<_.length;l++)if(Array.isArray(_[l])){var E=_[l];if(!(2>E.length)){var F=E[1];if(Array.isArray(F)&&!(1>F.length)){var $=F[0];if($!="noop"&&$!="stop"&&$!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return ga(_)}catch{return m}}var Ys={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},cl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function ts(){}b(ts,Xi),ts.prototype.g=function(){return new XMLHttpRequest},ts.prototype.i=function(){return{}},Mn=new ts;function Ln(l,m,_,E){this.j=l,this.i=m,this.l=_,this.R=E||1,this.U=new Yi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new hl}function hl(){this.i=null,this.g="",this.h=!1}var Ia={},Xs={};function Js(l,m,_){l.L=1,l.v=ri(hn(m)),l.m=_,l.P=!0,Sa(l,null)}function Sa(l,m){l.F=Date.now(),Ye(l),l.A=hn(l.v);var _=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),si(_.i,"t",E),l.C=0,_=l.j.J,l.h=new hl,l.g=kl(l.j,_?m:null,!l.m),0<l.O&&(l.M=new Qi(I(l.Y,l,l.g),l.O)),m=l.U,_=l.g,E=l.ca;var F="readystatechange";Array.isArray(F)||(F&&(pa[0]=F.toString()),F=pa);for(var $=0;$<F.length;$++){var ie=la(_,F[$],E||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=l.H?S(l.H):{},l.m?(l.u||(l.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,m)):(l.u="GET",l.g.ea(l.A,l.u,null,m)),Sr(),es(l.i,l.u,l.A,l.l,l.R,l.m)}Ln.prototype.ca=function(l){l=l.target;const m=this.M;m&&Yt(l)==3?m.j():this.Y(l)},Ln.prototype.Y=function(l){try{if(l==this.g)e:{const dt=Yt(this.g);var m=this.g.Ba();const Sn=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||dt!=4||m==7||(m==8||0>=Sn?Sr(3):Sr(2)),ns(this);var _=this.g.Z();this.X=_;t:if(dl(this)){var E=xa(this.g);l="";var F=E.length,$=Yt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Tn(this),Zr(this);var ie="";break t}this.h.i=new d.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,l+=this.h.i.decode(E[m],{stream:!($&&m==F-1)});E.length=0,this.h.g+=l,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Qs(this.i,this.u,this.A,this.l,this.R,dt,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,_t=this.g;if((Ge=_t.g?_t.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!re(Ge)){var Be=Ge;break t}}Be=null}if(_=Be)Vn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Aa(this,_);else{this.o=!1,this.s=3,ut(12),Tn(this),Zr(this);break e}}if(this.P){_=!0;let fn;for(;!this.J&&this.C<ie.length;)if(fn=ad(this,ie),fn==Xs){dt==4&&(this.s=4,ut(14),_=!1),Vn(this.i,this.l,null,"[Incomplete Response]");break}else if(fn==Ia){this.s=4,ut(15),Vn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else Vn(this.i,this.l,fn,null),Aa(this,fn);if(dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||ie.length!=0||this.h.h||(this.s=1,ut(16),_=!1),this.o=this.o&&_,!_)Vn(this.i,this.l,ie,"[Invalid Chunked Response]"),Tn(this),Zr(this);else if(0<ie.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),Da(It),It.M=!0,ut(11))}}else Vn(this.i,this.l,ie,null),Aa(this,ie);dt==4&&Tn(this),this.o&&!this.J&&(dt==4?lo(this.j,this):(this.o=!1,Ye(this)))}else io(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Tn(this),Zr(this)}}}catch{}finally{}};function dl(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function ad(l,m){var _=l.C,E=m.indexOf(`
`,_);return E==-1?Xs:(_=Number(m.substring(_,E)),isNaN(_)?Ia:(E+=1,E+_>m.length?Xs:(m=m.slice(E,E+_),l.C=E+_,m)))}Ln.prototype.cancel=function(){this.J=!0,Tn(this)};function Ye(l){l.S=Date.now()+l.I,fl(l,l.I)}function fl(l,m){if(l.B!=null)throw Error("WatchDog timer not null");l.B=bn(I(l.ba,l),m)}function ns(l){l.B&&(d.clearTimeout(l.B),l.B=null)}Ln.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(Ta(this.i,this.A),this.L!=2&&(Sr(),ut(17)),Tn(this),this.s=2,Zr(this)):fl(this,this.S-l)};function Zr(l){l.j.G==0||l.J||lo(l.j,l)}function Tn(l){ns(l);var m=l.M;m&&typeof m.ma=="function"&&m.ma(),l.M=null,ma(l.U),l.g&&(m=l.g,l.g=null,m.abort(),m.ma())}function Aa(l,m){try{var _=l.j;if(_.G!=0&&(_.g==l||qt(_.h,l))){if(!l.K&&qt(_.h,l)&&_.G==3){try{var E=_.Da.g.parse(m)}catch{E=null}if(Array.isArray(E)&&E.length==3){var F=E;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<l.F)uo(_),Bn(_);else break e;ao(_),ut(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=bn(I(_.Za,_),6e3));if(1>=ml(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((l.K||_.g==l)&&uo(_),!re(m))for(F=_.Da.g.parse(m),m=0;m<F.length;m++){let Be=F[m];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const It=Be[3];It!=null&&(_.la=It,_.j.info("VER="+_.la));const dt=Be[4];dt!=null&&(_.Aa=dt,_.j.info("SVER="+_.Aa));const Sn=Be[5];Sn!=null&&typeof Sn=="number"&&0<Sn&&(E=1.5*Sn,_.L=E,_.j.info("backChannelRequestTimeoutMs_="+E)),E=_;const fn=l.g;if(fn){const ls=fn.g?fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ls){var $=E.h;$.g||ls.indexOf("spdy")==-1&&ls.indexOf("quic")==-1&&ls.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(Ra($,$.h),$.h=null))}if(E.D){const ho=fn.g?fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ho&&(E.ya=ho,Qe(E.I,E.D,ho))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-l.F,_.j.info("Handshake RTT: "+_.R+"ms")),E=_;var ie=l;if(E.qa=Pl(E,E.J?E.ia:null,E.W),ie.K){gl(E.h,ie);var Ge=ie,_t=E.L;_t&&(Ge.I=_t),Ge.B&&(ns(Ge),Ye(Ge)),E.g=ie}else us(E);0<_.i.length&&or(_)}else Be[0]!="stop"&&Be[0]!="close"||kr(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?kr(_,7):kt(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Sr(4)}catch{}}var pl=class{constructor(l,m){this.g=l,this.map=m}};function rs(l){this.l=l||10,d.PerformanceNavigationTiming?(l=d.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function cn(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function ml(l){return l.h?1:l.g?l.g.size:0}function qt(l,m){return l.h?l.h==m:l.g?l.g.has(m):!1}function Ra(l,m){l.g?l.g.add(m):l.h=m}function gl(l,m){l.h&&l.h==m?l.h=null:l.g&&l.g.has(m)&&l.g.delete(m)}rs.prototype.cancel=function(){if(this.i=yl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function yl(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let m=l.i;for(const _ of l.g.values())m=m.concat(_.D);return m}return z(l.i)}function Zs(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(p(l)){for(var m=[],_=l.length,E=0;E<_;E++)m.push(l[E]);return m}m=[],_=0;for(E in l)m[_++]=l[E];return m}function eo(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(p(l)||typeof l=="string"){var m=[];l=l.length;for(var _=0;_<l;_++)m.push(_);return m}m=[],_=0;for(const E in l)m[_++]=E;return m}}}function ei(l,m){if(l.forEach&&typeof l.forEach=="function")l.forEach(m,void 0);else if(p(l)||typeof l=="string")Array.prototype.forEach.call(l,m,void 0);else for(var _=eo(l),E=Zs(l),F=E.length,$=0;$<F;$++)m.call(void 0,E[$],_&&_[$],l)}var is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ud(l,m){if(l){l=l.split("&");for(var _=0;_<l.length;_++){var E=l[_].indexOf("="),F=null;if(0<=E){var $=l[_].substring(0,E);F=l[_].substring(E+1)}else $=l[_];m($,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ar(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Ar){this.h=l.h,ss(this,l.j),this.o=l.o,this.g=l.g,ti(this,l.s),this.l=l.l;var m=l.i,_=new rr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),ni(this,_),this.m=l.m}else l&&(m=String(l).match(is))?(this.h=!1,ss(this,m[1]||"",!0),this.o=je(m[2]||""),this.g=je(m[3]||"",!0),ti(this,m[4]),this.l=je(m[5]||"",!0),ni(this,m[6]||"",!0),this.m=je(m[7]||"")):(this.h=!1,this.i=new rr(null,this.h))}Ar.prototype.toString=function(){var l=[],m=this.j;m&&l.push(ii(m,to,!0),":");var _=this.g;return(_||m=="file")&&(l.push("//"),(m=this.o)&&l.push(ii(m,to,!0),"@"),l.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&l.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&l.push("/"),l.push(ii(_,_.charAt(0)=="/"?wl:vl,!0))),(_=this.i.toString())&&l.push("?",_),(_=this.m)&&l.push("#",ii(_,Ca)),l.join("")};function hn(l){return new Ar(l)}function ss(l,m,_){l.j=_?je(m,!0):m,l.j&&(l.j=l.j.replace(/:$/,""))}function ti(l,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);l.s=m}else l.s=null}function ni(l,m,_){m instanceof rr?(l.i=m,ir(l.i,l.h)):(_||(m=ii(m,El)),l.i=new rr(m,l.h))}function Qe(l,m,_){l.i.set(m,_)}function ri(l){return Qe(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function je(l,m){return l?m?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function ii(l,m,_){return typeof l=="string"?(l=encodeURI(l).replace(m,_l),_&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function _l(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var to=/[#\/\?@]/g,vl=/[#\?:]/g,wl=/[#\?]/g,El=/[#\?@]/g,Ca=/#/g;function rr(l,m){this.h=this.g=null,this.i=l||null,this.j=!!m}function Pt(l){l.g||(l.g=new Map,l.h=0,l.i&&ud(l.i,function(m,_){l.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=rr.prototype,n.add=function(l,m){Pt(this),this.i=null,l=In(this,l);var _=this.g.get(l);return _||this.g.set(l,_=[]),_.push(m),this.h+=1,this};function Fn(l,m){Pt(l),m=In(l,m),l.g.has(m)&&(l.i=null,l.h-=l.g.get(m).length,l.g.delete(m))}function Un(l,m){return Pt(l),m=In(l,m),l.g.has(m)}n.forEach=function(l,m){Pt(this),this.g.forEach(function(_,E){_.forEach(function(F){l.call(m,F,E,this)},this)},this)},n.na=function(){Pt(this);const l=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let E=0;E<m.length;E++){const F=l[E];for(let $=0;$<F.length;$++)_.push(m[E])}return _},n.V=function(l){Pt(this);let m=[];if(typeof l=="string")Un(this,l)&&(m=m.concat(this.g.get(In(this,l))));else{l=Array.from(this.g.values());for(let _=0;_<l.length;_++)m=m.concat(l[_])}return m},n.set=function(l,m){return Pt(this),this.i=null,l=In(this,l),Un(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[m]),this.h+=1,this},n.get=function(l,m){return l?(l=this.V(l),0<l.length?String(l[0]):m):m};function si(l,m,_){Fn(l,m),0<_.length&&(l.i=null,l.g.set(In(l,m),z(_)),l.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var E=m[_];const $=encodeURIComponent(String(E)),ie=this.V(E);for(E=0;E<ie.length;E++){var F=$;ie[E]!==""&&(F+="="+encodeURIComponent(String(ie[E]))),l.push(F)}}return this.i=l.join("&")};function In(l,m){return m=String(m),l.j&&(m=m.toLowerCase()),m}function ir(l,m){m&&!l.j&&(Pt(l),l.i=null,l.g.forEach(function(_,E){var F=E.toLowerCase();E!=F&&(Fn(this,E),si(this,F,_))},l)),l.j=m}function ld(l,m){const _=new Zi;if(d.Image){const E=new Image;E.onload=O(Qt,_,"TestLoadImage: loaded",!0,m,E),E.onerror=O(Qt,_,"TestLoadImage: error",!1,m,E),E.onabort=O(Qt,_,"TestLoadImage: abort",!1,m,E),E.ontimeout=O(Qt,_,"TestLoadImage: timeout",!1,m,E),d.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else m(!1)}function Tl(l,m){const _=new Zi,E=new AbortController,F=setTimeout(()=>{E.abort(),Qt(_,"TestPingServer: timeout",!1,m)},1e4);fetch(l,{signal:E.signal}).then($=>{clearTimeout(F),$.ok?Qt(_,"TestPingServer: ok",!0,m):Qt(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Qt(_,"TestPingServer: error",!1,m)})}function Qt(l,m,_,E,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),E(_)}catch{}}function cd(){this.g=new _a}function Il(l,m,_){const E=_||"";try{ei(l,function(F,$){let ie=F;y(F)&&(ie=ga(F)),m.push(E+$+"="+encodeURIComponent(ie))})}catch(F){throw m.push(E+"type="+encodeURIComponent("_badmap")),F}}function Rr(l){this.l=l.Ub||null,this.j=l.eb||!1}b(Rr,Xi),Rr.prototype.g=function(){return new os(this.l,this.j)},Rr.prototype.i=function(l){return function(){return l}}({});function os(l,m){gt.call(this),this.D=l,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}b(os,gt),n=os.prototype,n.open=function(l,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=m,this.readyState=1,zn(this)},n.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(m.body=l),(this.D||d).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,jn(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,zn(this)),this.g&&(this.readyState=3,zn(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Sl(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Sl(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var m=l.value?l.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!l.done}))&&(this.response=this.responseText+=m)}l.done?jn(this):zn(this),this.readyState==3&&Sl(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,jn(this))},n.Qa=function(l){this.g&&(this.response=l,jn(this))},n.ga=function(){this.g&&jn(this)};function jn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,zn(l)}n.setRequestHeader=function(l,m){this.u.append(l,m)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,l.push(_[0]+": "+_[1]),_=m.next();return l.join(`\r
`)};function zn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function Cr(l){let m="";return ce(l,function(_,E){m+=E,m+=":",m+=_,m+=`\r
`}),m}function oi(l,m,_){e:{for(E in _){var E=!1;break e}E=!0}E||(_=Cr(_),typeof l=="string"?_!=null&&encodeURIComponent(String(_)):Qe(l,m,_))}function tt(l){gt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}b(tt,gt);var hd=/^https?$/i,Pa=["POST","PUT"];n=tt.prototype,n.Ha=function(l){this.J=l},n.ea=function(l,m,_,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);m=m?m.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Hs(this.o):Hs(Mn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(m,String(l),!0),this.B=!1}catch($){as(this,$);return}if(l=_||"",_=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var F in E)_.set(F,E[F]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const $ of E.keys())_.set($,E.get($));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(_.keys()).find($=>$.toLowerCase()=="content-type"),F=d.FormData&&l instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Pa,m,void 0))||E||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,ie]of _)this.g.setRequestHeader($,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ro(this),this.u=!0,this.g.send(l),this.u=!1}catch($){as(this,$)}};function as(l,m){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=m,l.m=5,no(l),dn(l)}function no(l){l.A||(l.A=!0,yt(l,"complete"),yt(l,"error"))}n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,yt(this,"complete"),yt(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),tt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ka(this):this.bb())},n.bb=function(){ka(this)};function ka(l){if(l.h&&typeof c<"u"&&(!l.v[1]||Yt(l)!=4||l.Z()!=2)){if(l.u&&Yt(l)==4)fa(l.Ea,0,l);else if(yt(l,"readystatechange"),Yt(l)==4){l.h=!1;try{const ie=l.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var E;if(E=ie===0){var F=String(l.D).match(is)[1]||null;!F&&d.self&&d.self.location&&(F=d.self.location.protocol.slice(0,-1)),E=!hd.test(F?F.toLowerCase():"")}_=E}if(_)yt(l,"complete"),yt(l,"success");else{l.m=6;try{var $=2<Yt(l)?l.g.statusText:""}catch{$=""}l.l=$+" ["+l.Z()+"]",no(l)}}finally{dn(l)}}}}function dn(l,m){if(l.g){ro(l);const _=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,m||yt(l,"ready");try{_.onreadystatechange=E}catch{}}}function ro(l){l.I&&(d.clearTimeout(l.I),l.I=null)}n.isActive=function(){return!!this.g};function Yt(l){return l.g?l.g.readyState:0}n.Z=function(){try{return 2<Yt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var m=this.g.responseText;return l&&m.indexOf(l)==0&&(m=m.substring(l.length)),ya(m)}};function xa(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function io(l){const m={};l=(l.g&&2<=Yt(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(re(l[E]))continue;var _=N(l[E]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const $=m[F]||[];m[F]=$,$.push(_)}P(m,function(E){return E.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sr(l,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[l]||m}function Na(l){this.Aa=0,this.i=[],this.j=new Zi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sr("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sr("baseRetryDelayMs",5e3,l),this.cb=sr("retryDelaySeedMs",1e4,l),this.Wa=sr("forwardChannelMaxRetries",2,l),this.wa=sr("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new rs(l&&l.concurrentRequestLimit),this.Da=new cd,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Na.prototype,n.la=8,n.G=1,n.connect=function(l,m,_,E){ut(0),this.W=l,this.H=m||{},_&&E!==void 0&&(this.H.OSID=_,this.H.OAID=E),this.F=this.X,this.I=Pl(this,null,this.W),or(this)};function kt(l){if(so(l),l.G==3){var m=l.U++,_=hn(l.I);if(Qe(_,"SID",l.K),Qe(_,"RID",m),Qe(_,"TYPE","terminate"),Pr(l,_),m=new Ln(l,l.j,m),m.L=2,m.v=ri(hn(_)),_=!1,d.navigator&&d.navigator.sendBeacon)try{_=d.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&d.Image&&(new Image().src=m.v,_=!0),_||(m.g=kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ye(m)}Cl(l)}function Bn(l){l.g&&(Da(l),l.g.cancel(),l.g=null)}function so(l){Bn(l),l.u&&(d.clearTimeout(l.u),l.u=null),uo(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&d.clearTimeout(l.s),l.s=null)}function or(l){if(!cn(l.h)&&!l.s){l.s=!0;var m=l.Ga;Pe||se(),J||(Pe(),J=!0),ue.add(m,l),l.B=0}}function dd(l,m){return ml(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=m.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=bn(I(l.Ga,l,m),Rl(l,l.B)),l.B++,!0)}n.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const F=new Ln(this,this.j,l);let $=this.o;if(this.S&&($?($=S($),k($,this.S)):$=this.S),this.m!==null||this.O||(F.H=$,$=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var E=this.i[_];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(m+=E,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=ai(this,F,m),_=hn(this.I),Qe(_,"RID",l),Qe(_,"CVER",22),this.D&&Qe(_,"X-HTTP-Session-Id",this.D),Pr(this,_),$&&(this.O?m="headers="+encodeURIComponent(String(Cr($)))+"&"+m:this.m&&oi(_,this.m,$)),Ra(this.h,F),this.Ua&&Qe(_,"TYPE","init"),this.P?(Qe(_,"$req",m),Qe(_,"SID","null"),F.T=!0,Js(F,_,null)):Js(F,_,m),this.G=2}}else this.G==3&&(l?oo(this,l):this.i.length==0||cn(this.h)||oo(this))};function oo(l,m){var _;m?_=m.l:_=l.U++;const E=hn(l.I);Qe(E,"SID",l.K),Qe(E,"RID",_),Qe(E,"AID",l.T),Pr(l,E),l.m&&l.o&&oi(E,l.m,l.o),_=new Ln(l,l.j,_,l.B+1),l.m===null&&(_.H=l.o),m&&(l.i=m.D.concat(l.i)),m=ai(l,_,1e3),_.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Ra(l.h,_),Js(_,E,m)}function Pr(l,m){l.H&&ce(l.H,function(_,E){Qe(m,E,_)}),l.l&&ei({},function(_,E){Qe(m,E,_)})}function ai(l,m,_){_=Math.min(l.i.length,_);var E=l.l?I(l.l.Na,l.l,l):null;e:{var F=l.i;let $=-1;for(;;){const ie=["count="+_];$==-1?0<_?($=F[0].g,ie.push("ofs="+$)):$=0:ie.push("ofs="+$);let Ge=!0;for(let _t=0;_t<_;_t++){let Be=F[_t].g;const It=F[_t].map;if(Be-=$,0>Be)$=Math.max(0,F[_t].g-100),Ge=!1;else try{Il(It,ie,"req"+Be+"_")}catch{E&&E(It)}}if(Ge){E=ie.join("&");break e}}}return l=l.i.splice(0,_),m.D=l,E}function us(l){if(!l.g&&!l.u){l.Y=1;var m=l.Fa;Pe||se(),J||(Pe(),J=!0),ue.add(m,l),l.v=0}}function ao(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=bn(I(l.Fa,l),Rl(l,l.v)),l.v++,!0)}n.Fa=function(){if(this.u=null,Al(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=bn(I(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),Bn(this),Al(this))};function Da(l){l.A!=null&&(d.clearTimeout(l.A),l.A=null)}function Al(l){l.g=new Ln(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var m=hn(l.qa);Qe(m,"RID","rpc"),Qe(m,"SID",l.K),Qe(m,"AID",l.T),Qe(m,"CI",l.F?"0":"1"),!l.F&&l.ja&&Qe(m,"TO",l.ja),Qe(m,"TYPE","xmlhttp"),Pr(l,m),l.m&&l.o&&oi(m,l.m,l.o),l.L&&(l.g.I=l.L);var _=l.g;l=l.ia,_.L=1,_.v=ri(hn(m)),_.m=null,_.P=!0,Sa(_,l)}n.Za=function(){this.C!=null&&(this.C=null,Bn(this),ao(this),ut(19))};function uo(l){l.C!=null&&(d.clearTimeout(l.C),l.C=null)}function lo(l,m){var _=null;if(l.g==m){uo(l),Da(l),l.g=null;var E=2}else if(qt(l.h,m))_=m.D,gl(l.h,m),E=1;else return;if(l.G!=0){if(m.o)if(E==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var F=l.B;E=Ji(),yt(E,new Gs(E,_)),or(l)}else us(l);else if(F=m.s,F==3||F==0&&0<m.X||!(E==1&&dd(l,m)||E==2&&ao(l)))switch(_&&0<_.length&&(m=l.h,m.i=m.i.concat(_)),F){case 1:kr(l,5);break;case 4:kr(l,10);break;case 3:kr(l,6);break;default:kr(l,2)}}}function Rl(l,m){let _=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(_*=2),_*m}function kr(l,m){if(l.j.info("Error code "+m),m==2){var _=I(l.fb,l),E=l.Xa;const F=!E;E=new Ar(E||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ss(E,"https"),ri(E),F?ld(E.toString(),_):Tl(E.toString(),_)}else ut(2);l.G=0,l.l&&l.l.sa(m),Cl(l),so(l)}n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Cl(l){if(l.G=0,l.ka=[],l.l){const m=yl(l.h);(m.length!=0||l.i.length!=0)&&(V(l.ka,m),V(l.ka,l.i),l.h.i.length=0,z(l.i),l.i.length=0),l.l.ra()}}function Pl(l,m,_){var E=_ instanceof Ar?hn(_):new Ar(_);if(E.g!="")m&&(E.g=m+"."+E.g),ti(E,E.s);else{var F=d.location;E=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var $=new Ar(null);E&&ss($,E),m&&($.g=m),F&&ti($,F),_&&($.l=_),E=$}return _=l.D,m=l.ya,_&&m&&Qe(E,_,m),Qe(E,"VER",l.la),Pr(l,E),E}function kl(l,m,_){if(m&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=l.Ca&&!l.pa?new tt(new Rr({eb:_})):new tt(l.pa),m.Ha(l.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oa(){}n=Oa.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function co(){}co.prototype.g=function(l,m){return new Ht(l,m)};function Ht(l,m){gt.call(this),this.g=new Na(m),this.l=l,this.h=m&&m.messageUrlParams||null,l=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(l?l["X-WebChannel-Content-Type"]=m.messageContentType:l={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(l?l["X-WebChannel-Client-Profile"]=m.va:l={"X-WebChannel-Client-Profile":m.va}),this.g.S=l,(l=m&&m.Sb)&&!re(l)&&(this.g.m=l),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!re(m)&&(this.g.D=m,l=this.h,l!==null&&m in l&&(l=this.h,m in l&&delete l[m])),this.j=new ar(this)}b(Ht,gt),Ht.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ht.prototype.close=function(){kt(this.g)},Ht.prototype.o=function(l){var m=this.g;if(typeof l=="string"){var _={};_.__data__=l,l=_}else this.u&&(_={},_.__data__=ga(l),l=_);m.i.push(new pl(m.Ya++,l)),m.G==3&&or(m)},Ht.prototype.N=function(){this.g.l=null,delete this.j,kt(this.g),delete this.g,Ht.aa.N.call(this)};function xl(l){tr.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var m=l.__sm__;if(m){e:{for(const _ in m){l=_;break e}l=void 0}(this.i=l)&&(l=this.i,m=m!==null&&l in m?m[l]:void 0),this.data=m}else this.data=l}b(xl,tr);function Nl(){Ks.call(this),this.status=1}b(Nl,Ks);function ar(l){this.g=l}b(ar,Oa),ar.prototype.ua=function(){yt(this.g,"a")},ar.prototype.ta=function(l){yt(this.g,new xl(l))},ar.prototype.sa=function(l){yt(this.g,new Nl)},ar.prototype.ra=function(){yt(this.g,"b")},co.prototype.createWebChannel=co.prototype.g,Ht.prototype.send=Ht.prototype.o,Ht.prototype.open=Ht.prototype.m,Ht.prototype.close=Ht.prototype.close,bT=function(){return new co},OT=function(){return Ji()},DT=nr,Np={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,zc=Ys,cl.COMPLETE="complete",NT=cl,Ws.EventType=En,En.OPEN="a",En.CLOSE="b",En.ERROR="c",En.MESSAGE="d",gt.prototype.listen=gt.prototype.K,hu=Ws,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,xT=tt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const Uv="@firebase/firestore",jv="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ia="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs=new mm("@firebase/firestore");function bo(){return bs.logLevel}function ae(n,...e){if(bs.logLevel<=Le.DEBUG){const t=e.map(km);bs.debug(`Firestore (${ia}): ${n}`,...t)}}function Gr(n,...e){if(bs.logLevel<=Le.ERROR){const t=e.map(km);bs.error(`Firestore (${ia}): ${n}`,...t)}}function Go(n,...e){if(bs.logLevel<=Le.WARN){const t=e.map(km);bs.warn(`Firestore (${ia}): ${n}`,...t)}}function km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n="Unexpected state"){const e=`FIRESTORE (${ia}) INTERNAL ASSERTION FAILED: `+n;throw Gr(e),new Error(e)}function Ke(n,e){n||Ae()}function ke(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Qk{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(zt.UNAUTHENTICATED))}shutdown(){}}class Yk{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Xk{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ke(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let u=new Cs;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new Cs,e.enqueueRetryable(()=>o(this.currentUser))};const c=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new Cs)}},0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Ke(typeof i.accessToken=="string"),new VT(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new zt(e)}}class Jk{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Zk{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new Jk(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ex{constructor(e,t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,yn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,t){Ke(this.o===void 0);const i=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>i(u))};const o=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new zv(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ke(typeof t.token=="string"),this.R=t.token,new zv(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tx(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dp(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=tx(40);for(let u=0;u<o.length;++u)i.length<20&&o[u]<t&&(i+=e.charAt(o[u]%62))}return i}}function Fe(n,e){return n<e?-1:n>e?1:0}function Op(n,e){const t=Dp().encode(n),i=Dp().encode(e);for(let o=0;o<Math.min(t.length,i.length);o++){const u=Fe(t[o],i[o]);if(u!==0)return u}return Fe(t.length,i.length)}function Qo(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bv=-62135596800,$v=1e6;class Et{static now(){return Et.fromMillis(Date.now())}static fromDate(e){return Et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*$v);return new Et(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new le(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Bv)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/$v}_compareTo(e){return this.seconds===e.seconds?Fe(this.nanoseconds,e.nanoseconds):Fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-Bv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ce{static fromTimestamp(e){return new Ce(e)}static min(){return new Ce(new Et(0,0))}static max(){return new Ce(new Et(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv="__name__";class fr{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ae(),i===void 0?i=e.length-t:i>e.length-t&&Ae(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const u=fr.compareSegments(e.get(o),t.get(o));if(u!==0)return u}return Fe(e.length,t.length)}static compareSegments(e,t){const i=fr.isNumericId(e),o=fr.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):Op(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bi.fromString(e.substring(4,e.length-2))}}class et extends fr{construct(e,t,i){return new et(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new le(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new et(t)}static emptyPath(){return new et([])}}const nx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class bt extends fr{construct(e,t,i){return new bt(e,t,i)}static isValidIdentifier(e){return nx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),bt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qv}static keyField(){return new bt([qv])}static fromServerFormat(e){const t=[];let i="",o=0;const u=()=>{if(i.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new le(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else d==="`"?(c=!c,o++):d!=="."||c?(i+=d,o++):(u(),o++)}if(u(),c)throw new le(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new bt(t)}static emptyPath(){return new bt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(et.fromString(e))}static fromName(e){return new ve(et.fromString(e).popFirst(5))}static empty(){return new ve(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return et.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new et(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=-1;function rx(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ce.fromTimestamp(i===1e9?new Et(t+1,0):new Et(t,i));return new Li(o,ve.empty(),e)}function ix(n){return new Li(n.readTime,n.key,ju)}class Li{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Li(Ce.min(),ve.empty(),ju)}static max(){return new Li(Ce.max(),ve.empty(),ju)}}function sx(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ve.comparator(n.documentKey,e.documentKey),t!==0?t:Fe(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ax{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sa(n){if(n.code!==W.FAILED_PRECONDITION||n.message!==ox)throw n;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new K((i,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(i,o)},this.catchCallback=u=>{this.wrapFailure(t,u).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof K?t:K.resolve(t)}catch(t){return K.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):K.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):K.reject(t)}static resolve(e){return new K((t,i)=>{t(e)})}static reject(e){return new K((t,i)=>{i(e)})}static waitFor(e){return new K((t,i)=>{let o=0,u=0,c=!1;e.forEach(d=>{++o,d.next(()=>{++u,c&&u===o&&t()},p=>i(p))}),c=!0,u===o&&t()})}static or(e){let t=K.resolve(!1);for(const i of e)t=t.next(o=>o?K.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,u)=>{i.push(t.call(this,o,u))}),this.waitFor(i)}static mapArray(e,t){return new K((i,o)=>{const u=e.length,c=new Array(u);let d=0;for(let p=0;p<u;p++){const y=p;t(e[y]).next(w=>{c[y]=w,++d,d===u&&i(c)},w=>o(w))}})}static doWhile(e,t){return new K((i,o)=>{const u=()=>{e()===!0?t().next(()=>{u()},o):i()};u()})}}function ux(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function oa(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.oe(i),this._e=i=>t.writeSequenceNumber(i))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}jh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function zh(n){return n==null}function fh(n){return n===0&&1/n==-1/0}function lx(n){return typeof n=="number"&&Number.isInteger(n)&&!fh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LT="";function cx(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hv(e)),e=hx(n.get(t),e);return Hv(e)}function hx(n,e){let t=e;const i=n.length;for(let o=0;o<i;o++){const u=n.charAt(o);switch(u){case"\0":t+="";break;case LT:t+="";break;default:t+=u}}return t}function Hv(n){return n+LT+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wv(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Wi(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function FT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class st{constructor(e,t){this.comparator=e,this.root=t||Ot.EMPTY}insert(e,t){return new st(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new st(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nc(this.root,e,this.comparator,!0)}}class Nc{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?i(e.key,t):1,t&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,t,i,o,u){this.key=e,this.value=t,this.color=i??Ot.RED,this.left=o??Ot.EMPTY,this.right=u??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,u){return new Ot(e??this.key,t??this.value,i??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const u=i(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,t,i),null):u===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ot.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,t,i,o,u){return this}insert(e,t,i){return new Ot(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e){this.comparator=e,this.data=new st(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Kv(this.data.getIterator())}getIteratorFrom(e){return new Kv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Tt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tt(this.comparator);return t.data=e,t}}class Kv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(bt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new Tt(bt.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Qo(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new UT("Invalid base64 string: "+u):u}}(e);return new Vt(t)}static fromUint8Array(e){const t=function(o){let u="";for(let c=0;c<o.length;++c)u+=String.fromCharCode(o[c]);return u}(e);return new Vt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Vt.EMPTY_BYTE_STRING=new Vt("");const dx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Fi(n){if(Ke(!!n),typeof n=="string"){let e=0;const t=dx.exec(n);if(Ke(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(n.seconds),nanos:ct(n.nanos)}}function ct(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ui(n){return typeof n=="string"?Vt.fromBase64String(n):Vt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT="server_timestamp",zT="__type__",BT="__previous_value__",$T="__local_write_time__";function Nm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[zT])===null||t===void 0?void 0:t.stringValue)===jT}function Bh(n){const e=n.mapValue.fields[BT];return Nm(e)?Bh(e):e}function zu(n){const e=Fi(n.mapValue.fields[$T].timestampValue);return new Et(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,t,i,o,u,c,d,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=y}}const ph="(default)";class Bu{constructor(e,t){this.projectId=e,this.database=t||ph}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database===ph}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="__type__",HT="__max__",Dc={mapValue:{fields:{__type__:{stringValue:HT}}}},WT="__vector__",mh="value";function ji(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Nm(n)?4:mx(n)?9007199254740991:px(n)?10:11:Ae()}function vr(n,e){if(n===e)return!0;const t=ji(n);if(t!==ji(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zu(n).isEqual(zu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const c=Fi(o.timestampValue),d=Fi(u.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,u){return Ui(o.bytesValue).isEqual(Ui(u.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,u){return ct(o.geoPointValue.latitude)===ct(u.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(u.geoPointValue.longitude)}(n,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return ct(o.integerValue)===ct(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const c=ct(o.doubleValue),d=ct(u.doubleValue);return c===d?fh(c)===fh(d):isNaN(c)&&isNaN(d)}return!1}(n,e);case 9:return Qo(n.arrayValue.values||[],e.arrayValue.values||[],vr);case 10:case 11:return function(o,u){const c=o.mapValue.fields||{},d=u.mapValue.fields||{};if(Wv(c)!==Wv(d))return!1;for(const p in c)if(c.hasOwnProperty(p)&&(d[p]===void 0||!vr(c[p],d[p])))return!1;return!0}(n,e);default:return Ae()}}function $u(n,e){return(n.values||[]).find(t=>vr(t,e))!==void 0}function Yo(n,e){if(n===e)return 0;const t=ji(n),i=ji(e);if(t!==i)return Fe(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Fe(n.booleanValue,e.booleanValue);case 2:return function(u,c){const d=ct(u.integerValue||u.doubleValue),p=ct(c.integerValue||c.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(n,e);case 3:return Gv(n.timestampValue,e.timestampValue);case 4:return Gv(zu(n),zu(e));case 5:return Op(n.stringValue,e.stringValue);case 6:return function(u,c){const d=Ui(u),p=Ui(c);return d.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(u,c){const d=u.split("/"),p=c.split("/");for(let y=0;y<d.length&&y<p.length;y++){const w=Fe(d[y],p[y]);if(w!==0)return w}return Fe(d.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(u,c){const d=Fe(ct(u.latitude),ct(c.latitude));return d!==0?d:Fe(ct(u.longitude),ct(c.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return Qv(n.arrayValue,e.arrayValue);case 10:return function(u,c){var d,p,y,w;const T=u.fields||{},I=c.fields||{},O=(d=T[mh])===null||d===void 0?void 0:d.arrayValue,b=(p=I[mh])===null||p===void 0?void 0:p.arrayValue,z=Fe(((y=O==null?void 0:O.values)===null||y===void 0?void 0:y.length)||0,((w=b==null?void 0:b.values)===null||w===void 0?void 0:w.length)||0);return z!==0?z:Qv(O,b)}(n.mapValue,e.mapValue);case 11:return function(u,c){if(u===Dc.mapValue&&c===Dc.mapValue)return 0;if(u===Dc.mapValue)return 1;if(c===Dc.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),y=c.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const I=Op(p[T],w[T]);if(I!==0)return I;const O=Yo(d[p[T]],y[w[T]]);if(O!==0)return O}return Fe(p.length,w.length)}(n.mapValue,e.mapValue);default:throw Ae()}}function Gv(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Fe(n,e);const t=Fi(n),i=Fi(e),o=Fe(t.seconds,i.seconds);return o!==0?o:Fe(t.nanos,i.nanos)}function Qv(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const u=Yo(t[o],i[o]);if(u)return u}return Fe(t.length,i.length)}function Xo(n){return bp(n)}function bp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=Fi(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Ui(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ve.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const u of t.values||[])o?o=!1:i+=",",i+=bp(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",u=!0;for(const c of i)u?u=!1:o+=",",o+=`${c}:${bp(t.fields[c])}`;return o+"}"}(n.mapValue):Ae()}function Bc(n){switch(ji(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bh(n);return e?16+Bc(e):16;case 5:return 2*n.stringValue.length;case 6:return Ui(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((o,u)=>o+Bc(u),0)}(n.arrayValue);case 10:case 11:return function(i){let o=0;return Wi(i.fields,(u,c)=>{o+=u.length+Bc(c)}),o}(n.mapValue);default:throw Ae()}}function Yv(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Vp(n){return!!n&&"integerValue"in n}function Dm(n){return!!n&&"arrayValue"in n}function Xv(n){return!!n&&"nullValue"in n}function Jv(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function $c(n){return!!n&&"mapValue"in n}function px(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[qT])===null||t===void 0?void 0:t.stringValue)===WT}function Tu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Wi(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=Tu(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Tu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mx(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===HT}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.value=e}static empty(){return new an({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!$c(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Tu(t)}setAll(e){let t=bt.emptyPath(),i={},o=[];e.forEach((c,d)=>{if(!t.isImmediateParentOf(d)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=d.popLast()}c?i[d.lastSegment()]=Tu(c):o.push(d.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,i,o)}delete(e){const t=this.field(e.popLast());$c(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];$c(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Wi(t,(o,u)=>e[o]=u);for(const o of i)delete e[o]}clone(){return new an(Tu(this.value))}}function KT(n){const e=[];return Wi(n.fields,(t,i)=>{const o=new bt([t]);if($c(i)){const u=KT(i.mapValue).fields;if(u.length===0)e.push(o);else for(const c of u)e.push(o.child(c))}else e.push(o)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e,t,i,o,u,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=u,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Bt(e,0,Ce.min(),Ce.min(),Ce.min(),an.empty(),0)}static newFoundDocument(e,t,i,o){return new Bt(e,1,t,Ce.min(),i,o,0)}static newNoDocument(e,t){return new Bt(e,2,t,Ce.min(),Ce.min(),an.empty(),0)}static newUnknownDocument(e,t){return new Bt(e,3,t,Ce.min(),Ce.min(),an.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=an.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=an.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Bt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Bt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,t){this.position=e,this.inclusive=t}}function Zv(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const u=e[o],c=n.position[o];if(u.field.isKeyField()?i=ve.comparator(ve.fromName(c.referenceValue),t.key):i=Yo(c,t.data.field(u.field)),u.dir==="desc"&&(i*=-1),i!==0)break}return i}function ew(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qu{constructor(e,t="asc"){this.field=e,this.dir=t}}function gx(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{}class mt extends GT{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new _x(e,t,i):t==="array-contains"?new Ex(e,i):t==="in"?new Tx(e,i):t==="not-in"?new Ix(e,i):t==="array-contains-any"?new Sx(e,i):new mt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new vx(e,i):new wx(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Yo(t,this.value)):t!==null&&ji(this.value)===ji(t)&&this.matchesComparison(Yo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends GT{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new er(e,t)}matches(e){return QT(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function QT(n){return n.op==="and"}function YT(n){return yx(n)&&QT(n)}function yx(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function Mp(n){if(n instanceof mt)return n.field.canonicalString()+n.op.toString()+Xo(n.value);if(YT(n))return n.filters.map(e=>Mp(e)).join(",");{const e=n.filters.map(t=>Mp(t)).join(",");return`${n.op}(${e})`}}function XT(n,e){return n instanceof mt?function(i,o){return o instanceof mt&&i.op===o.op&&i.field.isEqual(o.field)&&vr(i.value,o.value)}(n,e):n instanceof er?function(i,o){return o instanceof er&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((u,c,d)=>u&&XT(c,o.filters[d]),!0):!1}(n,e):void Ae()}function JT(n){return n instanceof mt?function(t){return`${t.field.canonicalString()} ${t.op} ${Xo(t.value)}`}(n):n instanceof er?function(t){return t.op.toString()+" {"+t.getFilters().map(JT).join(" ,")+"}"}(n):"Filter"}class _x extends mt{constructor(e,t,i){super(e,t,i),this.key=ve.fromName(i.referenceValue)}matches(e){const t=ve.comparator(e.key,this.key);return this.matchesComparison(t)}}class vx extends mt{constructor(e,t){super(e,"in",t),this.keys=ZT("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class wx extends mt{constructor(e,t){super(e,"not-in",t),this.keys=ZT("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ZT(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>ve.fromName(i.referenceValue))}class Ex extends mt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dm(t)&&$u(t.arrayValue,this.value)}}class Tx extends mt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}}class Ix extends mt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!$u(this.value.arrayValue,t)}}class Sx extends mt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>$u(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e,t=null,i=[],o=[],u=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=u,this.startAt=c,this.endAt=d,this.le=null}}function tw(n,e=null,t=[],i=[],o=null,u=null,c=null){return new Ax(n,e,t,i,o,u,c)}function Om(n){const e=ke(n);if(e.le===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>Mp(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(u){return u.field.canonicalString()+u.dir}(i)).join(","),zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>Xo(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>Xo(i)).join(",")),e.le=t}return e.le}function bm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gx(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!XT(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ew(n.startAt,e.startAt)&&ew(n.endAt,e.endAt)}function Lp(n){return ve.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,t=null,i=[],o=[],u=null,c="F",d=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=u,this.limitType=c,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function Rx(n,e,t,i,o,u,c,d){return new aa(n,e,t,i,o,u,c,d)}function Vm(n){return new aa(n)}function nw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function e0(n){return n.collectionGroup!==null}function Iu(n){const e=ke(n);if(e.he===null){e.he=[];const t=new Set;for(const u of e.explicitOrderBy)e.he.push(u),t.add(u.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Tt(bt.comparator);return c.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(d=d.add(y.field))})}),d})(e).forEach(u=>{t.has(u.canonicalString())||u.isKeyField()||e.he.push(new qu(u,i))}),t.has(bt.keyField().canonicalString())||e.he.push(new qu(bt.keyField(),i))}return e.he}function gr(n){const e=ke(n);return e.Pe||(e.Pe=Cx(e,Iu(n))),e.Pe}function Cx(n,e){if(n.limitType==="F")return tw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new qu(o.field,u)});const t=n.endAt?new gh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new gh(n.startAt.position,n.startAt.inclusive):null;return tw(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function Fp(n,e){const t=n.filters.concat([e]);return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Up(n,e,t){return new aa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return bm(gr(n),gr(e))&&n.limitType===e.limitType}function t0(n){return`${Om(gr(n))}|lt:${n.limitType}`}function Vo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>JT(o)).join(", ")}]`),zh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(c){return`${c.field.canonicalString()} (${c.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>Xo(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>Xo(o)).join(",")),`Target(${i})`}(gr(n))}; limitType=${n.limitType})`}function qh(n,e){return e.isFoundDocument()&&function(i,o){const u=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(u):ve.isDocumentKey(i.path)?i.path.isEqual(u):i.path.isImmediateParentOf(u)}(n,e)&&function(i,o){for(const u of Iu(i))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const u of i.filters)if(!u.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(c,d,p){const y=Zv(c,d,p);return c.inclusive?y<=0:y<0}(i.startAt,Iu(i),o)||i.endAt&&!function(c,d,p){const y=Zv(c,d,p);return c.inclusive?y>=0:y>0}(i.endAt,Iu(i),o))}(n,e)}function Px(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function n0(n){return(e,t)=>{let i=!1;for(const o of Iu(n)){const u=kx(o,e,t);if(u!==0)return u;i=i||o.field.isKeyField()}return 0}}function kx(n,e,t){const i=n.field.isKeyField()?ve.comparator(e.key,t.key):function(u,c,d){const p=c.data.field(u),y=d.data.field(u);return p!==null&&y!==null?Yo(p,y):Ae()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,u]of i)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Wi(this.inner,(t,i)=>{for(const[o,u]of i)e(o,u)})}isEmpty(){return FT(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=new st(ve.comparator);function Qr(){return xx}const r0=new st(ve.comparator);function du(...n){let e=r0;for(const t of n)e=e.insert(t.key,t);return e}function i0(n){let e=r0;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Rs(){return Su()}function s0(){return Su()}function Su(){return new Ls(n=>n.toString(),(n,e)=>n.isEqual(e))}const Nx=new st(ve.comparator),Dx=new Tt(ve.comparator);function Ue(...n){let e=Dx;for(const t of n)e=e.add(t);return e}const Ox=new Tt(Fe);function bx(){return Ox}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:fh(e)?"-0":e}}function o0(n){return{integerValue:""+n}}function Vx(n,e){return lx(e)?o0(e):Mm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(){this._=void 0}}function Mx(n,e,t){return n instanceof Hu?function(o,u){const c={fields:{[zT]:{stringValue:jT},[$T]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Nm(u)&&(u=Bh(u)),u&&(c.fields[BT]=u),{mapValue:c}}(t,e):n instanceof Wu?u0(n,e):n instanceof Ku?l0(n,e):function(o,u){const c=a0(o,u),d=rw(c)+rw(o.Ie);return Vp(c)&&Vp(o.Ie)?o0(d):Mm(o.serializer,d)}(n,e)}function Lx(n,e,t){return n instanceof Wu?u0(n,e):n instanceof Ku?l0(n,e):t}function a0(n,e){return n instanceof yh?function(i){return Vp(i)||function(u){return!!u&&"doubleValue"in u}(i)}(e)?e:{integerValue:0}:null}class Hu extends Hh{}class Wu extends Hh{constructor(e){super(),this.elements=e}}function u0(n,e){const t=c0(e);for(const i of n.elements)t.some(o=>vr(o,i))||t.push(i);return{arrayValue:{values:t}}}class Ku extends Hh{constructor(e){super(),this.elements=e}}function l0(n,e){let t=c0(e);for(const i of n.elements)t=t.filter(o=>!vr(o,i));return{arrayValue:{values:t}}}class yh extends Hh{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function rw(n){return ct(n.integerValue||n.doubleValue)}function c0(n){return Dm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,t){this.field=e,this.transform=t}}function Ux(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof Wu&&o instanceof Wu||i instanceof Ku&&o instanceof Ku?Qo(i.elements,o.elements,vr):i instanceof yh&&o instanceof yh?vr(i.Ie,o.Ie):i instanceof Hu&&o instanceof Hu}(n.transform,e.transform)}class jx{constructor(e,t){this.version=e,this.transformResults=t}}class un{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new un}static exists(e){return new un(void 0,e)}static updateTime(e){return new un(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function qc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Wh{}function h0(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Kh(n.key,un.none()):new rl(n.key,n.data,un.none());{const t=n.data,i=an.empty();let o=new Tt(bt.comparator);for(let u of e.fields)if(!o.has(u)){let c=t.field(u);c===null&&u.length>1&&(u=u.popLast(),c=t.field(u)),c===null?i.delete(u):i.set(u,c),o=o.add(u)}return new Ki(n.key,i,new _n(o.toArray()),un.none())}}function zx(n,e,t){n instanceof rl?function(o,u,c){const d=o.value.clone(),p=sw(o.fieldTransforms,u,c.transformResults);d.setAll(p),u.convertToFoundDocument(c.version,d).setHasCommittedMutations()}(n,e,t):n instanceof Ki?function(o,u,c){if(!qc(o.precondition,u))return void u.convertToUnknownDocument(c.version);const d=sw(o.fieldTransforms,u,c.transformResults),p=u.data;p.setAll(d0(o)),p.setAll(d),u.convertToFoundDocument(c.version,p).setHasCommittedMutations()}(n,e,t):function(o,u,c){u.convertToNoDocument(c.version).setHasCommittedMutations()}(0,e,t)}function Au(n,e,t,i){return n instanceof rl?function(u,c,d,p){if(!qc(u.precondition,c))return d;const y=u.value.clone(),w=ow(u.fieldTransforms,p,c);return y.setAll(w),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof Ki?function(u,c,d,p){if(!qc(u.precondition,c))return d;const y=ow(u.fieldTransforms,p,c),w=c.data;return w.setAll(d0(u)),w.setAll(y),c.convertToFoundDocument(c.version,w).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(n,e,t,i):function(u,c,d){return qc(u.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d}(n,e,t)}function Bx(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),u=a0(i.transform,o||null);u!=null&&(t===null&&(t=an.empty()),t.set(i.field,u))}return t||null}function iw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Qo(i,o,(u,c)=>Ux(u,c))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class rl extends Wh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Ki extends Wh{constructor(e,t,i,o,u=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function d0(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function sw(n,e,t){const i=new Map;Ke(n.length===t.length);for(let o=0;o<t.length;o++){const u=n[o],c=u.transform,d=e.data.field(u.field);i.set(u.field,Lx(c,d,t[o]))}return i}function ow(n,e,t){const i=new Map;for(const o of n){const u=o.transform,c=t.data.field(o.field);i.set(o.field,Mx(u,c,e))}return i}class Kh extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class $x extends Wh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&zx(u,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=Au(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=Au(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=s0();return this.mutations.forEach(o=>{const u=e.get(o.key),c=u.overlayedDocument;let d=this.applyToLocalView(c,u.mutatedFields);d=t.has(o.key)?null:d;const p=h0(c,d);p!==null&&i.set(o.key,p),c.isValidDocument()||c.convertToNoDocument(Ce.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Qo(this.mutations,e.mutations,(t,i)=>iw(t,i))&&Qo(this.baseMutations,e.baseMutations,(t,i)=>iw(t,i))}}class Lm{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){Ke(e.mutations.length===i.length);let o=function(){return Nx}();const u=e.mutations;for(let c=0;c<u.length;c++)o=o.insert(u[c].key,i[c].version);return new Lm(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pt,$e;function Kx(n){switch(n){case W.OK:return Ae();case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return Ae()}}function f0(n){if(n===void 0)return Gr("GRPC error has no .code"),W.UNKNOWN;switch(n){case pt.OK:return W.OK;case pt.CANCELLED:return W.CANCELLED;case pt.UNKNOWN:return W.UNKNOWN;case pt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case pt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case pt.INTERNAL:return W.INTERNAL;case pt.UNAVAILABLE:return W.UNAVAILABLE;case pt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case pt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case pt.NOT_FOUND:return W.NOT_FOUND;case pt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case pt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case pt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case pt.ABORTED:return W.ABORTED;case pt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case pt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case pt.DATA_LOSS:return W.DATA_LOSS;default:return Ae()}}($e=pt||(pt={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gx=new bi([4294967295,4294967295],0);function aw(n){const e=Dp().encode(n),t=new kT;return t.update(e),new Uint8Array(t.digest())}function uw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bi([t,i],0),new bi([o,u],0)]}class Fm{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new fu(`Invalid padding: ${t}`);if(i<0)throw new fu(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new fu(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new fu(`Invalid padding when bitmap length is 0: ${t}`);this.Ee=8*e.length-t,this.de=bi.fromNumber(this.Ee)}Ae(e,t,i){let o=e.add(t.multiply(bi.fromNumber(i)));return o.compare(Gx)===1&&(o=new bi([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const t=aw(e),[i,o]=uw(t);for(let u=0;u<this.hashCount;u++){const c=this.Ae(i,o,u);if(!this.Re(c))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new Fm(u,o,t);return i.forEach(d=>c.insert(d)),c}insert(e){if(this.Ee===0)return;const t=aw(e),[i,o]=uw(t);for(let u=0;u<this.hashCount;u++){const c=this.Ae(i,o,u);this.Ve(c)}}Ve(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class fu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,t,i,o,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,il.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Gh(Ce.min(),o,new st(Fe),Qr(),Ue())}}class il{constructor(e,t,i,o,u){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new il(i,t,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(e,t,i,o){this.me=e,this.removedTargetIds=t,this.key=i,this.fe=o}}class p0{constructor(e,t){this.targetId=e,this.ge=t}}class m0{constructor(e,t,i=Vt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class lw{constructor(){this.pe=0,this.ye=cw(),this.we=Vt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Ue(),t=Ue(),i=Ue();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ae()}}),new il(this.we,this.Se,e,t,i)}Me(){this.be=!1,this.ye=cw()}xe(e,t){this.be=!0,this.ye=this.ye.insert(e,t)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ke(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class Qx{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Qr(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new st(Fe)}We(e){for(const t of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(t,e.fe):this.ze(t,e.key,e.fe);for(const t of e.removedTargetIds)this.ze(t,e.key,e.fe)}je(e){this.forEachTarget(e,t=>{const i=this.He(t);switch(e.state){case 0:this.Je(t)&&i.Ce(e.resumeToken);break;case 1:i.Be(),i.De||i.Me(),i.Ce(e.resumeToken);break;case 2:i.Be(),i.De||this.removeTarget(t);break;case 3:this.Je(t)&&(i.Le(),i.Ce(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),i.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qe.forEach((i,o)=>{this.Je(o)&&t(o)})}Ze(e){const t=e.targetId,i=e.ge.count,o=this.Xe(t);if(o){const u=o.target;if(Lp(u))if(i===0){const c=new ve(u.path);this.ze(t,c,Bt.newNoDocument(c,Ce.min()))}else Ke(i===1);else{const c=this.et(t);if(c!==i){const d=this.tt(e),p=d?this.nt(d,e,c):1;if(p!==0){this.Ye(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,y)}}}}}tt(e){const t=e.ge.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:u=0}=t;let c,d;try{c=Ui(i).toUint8Array()}catch(p){if(p instanceof UT)return Go("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Fm(c,o,u)}catch(p){return Go(p instanceof fu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,t,i){return t.ge.count===i-this.st(e,t.targetId)?0:2}st(e,t){const i=this.ke.getRemoteKeysForTarget(t);let o=0;return i.forEach(u=>{const c=this.ke.it(),d=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(t,u,null),o++)}),o}ot(e){const t=new Map;this.qe.forEach((u,c)=>{const d=this.Xe(c);if(d){if(u.current&&Lp(d.target)){const p=new ve(d.target.path);this._t(p).has(c)||this.ut(c,p)||this.ze(c,p,Bt.newNoDocument(p,e))}u.ve&&(t.set(c,u.Fe()),u.Me())}});let i=Ue();this.Ue.forEach((u,c)=>{let d=!0;c.forEachWhile(p=>{const y=this.Xe(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(i=i.add(u))}),this.Qe.forEach((u,c)=>c.setReadTime(e));const o=new Gh(e,t,this.Ke,this.Qe,i);return this.Qe=Qr(),this.$e=Oc(),this.Ue=Oc(),this.Ke=new st(Fe),o}Ge(e,t){if(!this.Je(e))return;const i=this.ut(e,t.key)?2:0;this.He(e).xe(t.key,i),this.Qe=this.Qe.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e)),this.Ue=this.Ue.insert(t.key,this.ct(t.key).add(e))}ze(e,t,i){if(!this.Je(e))return;const o=this.He(e);this.ut(e,t)?o.xe(t,1):o.Oe(t),this.Ue=this.Ue.insert(t,this.ct(t).delete(e)),this.Ue=this.Ue.insert(t,this.ct(t).add(e)),i&&(this.Qe=this.Qe.insert(t,i))}removeTarget(e){this.qe.delete(e)}et(e){const t=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let t=this.qe.get(e);return t||(t=new lw,this.qe.set(e,t)),t}ct(e){let t=this.Ue.get(e);return t||(t=new Tt(Fe),this.Ue=this.Ue.insert(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new Tt(Fe),this.$e=this.$e.insert(e,t)),t}Je(e){const t=this.Xe(e)!==null;return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.qe.get(e);return t&&t.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new lw),this.ke.getRemoteKeysForTarget(e).forEach(t=>{this.ze(e,t,null)})}ut(e,t){return this.ke.getRemoteKeysForTarget(e).has(t)}}function Oc(){return new st(ve.comparator)}function cw(){return new st(ve.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},Xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Jx={and:"AND",or:"OR"};class Zx{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function jp(n,e){return n.useProto3Json||zh(e)?e:{value:e}}function _h(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function g0(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function eN(n,e){return _h(n,e.toTimestamp())}function yr(n){return Ke(!!n),Ce.fromTimestamp(function(t){const i=Fi(t);return new Et(i.seconds,i.nanos)}(n))}function Um(n,e){return zp(n,e).canonicalString()}function zp(n,e){const t=function(o){return new et(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function y0(n){const e=et.fromString(n);return Ke(T0(e)),e}function Bp(n,e){return Um(n.databaseId,e.path)}function ip(n,e){const t=y0(e);if(t.get(1)!==n.databaseId.projectId)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new le(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ve(v0(t))}function _0(n,e){return Um(n.databaseId,e)}function tN(n){const e=y0(n);return e.length===4?et.emptyPath():v0(e)}function $p(n){return new et(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function v0(n){return Ke(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function hw(n,e,t){return{name:Bp(n,e),fields:t.value.mapValue.fields}}function nN(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,w){return y.useProto3Json?(Ke(w===void 0||typeof w=="string"),Vt.fromBase64String(w||"")):(Ke(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Vt.fromUint8Array(w||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&function(y){const w=y.code===void 0?W.UNKNOWN:f0(y.code);return new le(w,y.message||"")}(c);t=new m0(i,o,u,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=ip(n,i.document.name),u=yr(i.document.updateTime),c=i.document.createTime?yr(i.document.createTime):Ce.min(),d=new an({mapValue:{fields:i.document.fields}}),p=Bt.newFoundDocument(o,u,c,d),y=i.targetIds||[],w=i.removedTargetIds||[];t=new Hc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=ip(n,i.document),u=i.readTime?yr(i.readTime):Ce.min(),c=Bt.newNoDocument(o,u),d=i.removedTargetIds||[];t=new Hc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=ip(n,i.document),u=i.removedTargetIds||[];t=new Hc([],u,o,null)}else{if(!("filter"in e))return Ae();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:u}=i,c=new Wx(o,u),d=i.targetId;t=new p0(d,c)}}return t}function rN(n,e){let t;if(e instanceof rl)t={update:hw(n,e.key,e.value)};else if(e instanceof Kh)t={delete:Bp(n,e.key)};else if(e instanceof Ki)t={update:hw(n,e.key,e.data),updateMask:dN(e.fieldMask)};else{if(!(e instanceof $x))return Ae();t={verify:Bp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(u,c){const d=c.transform;if(d instanceof Hu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Wu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Ku)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof yh)return{fieldPath:c.field.canonicalString(),increment:d.Ie};throw Ae()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:eN(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Ae()}(n,e.precondition)),t}function iN(n,e){return n&&n.length>0?(Ke(e!==void 0),n.map(t=>function(o,u){let c=o.updateTime?yr(o.updateTime):yr(u);return c.isEqual(Ce.min())&&(c=yr(u)),new jx(c,o.transformResults||[])}(t,e))):[]}function sN(n,e){return{documents:[_0(n,e.path)]}}function oN(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=_0(n,o);const u=function(y){if(y.length!==0)return E0(er.create(y,"and"))}(e.filters);u&&(t.structuredQuery.where=u);const c=function(y){if(y.length!==0)return y.map(w=>function(I){return{field:Mo(I.field),direction:lN(I.dir)}}(w))}(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=jp(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{ht:t,parent:o}}function aN(n){let e=tN(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){Ke(i===1);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let u=[];t.where&&(u=function(T){const I=w0(T);return I instanceof er&&YT(I)?I.getFilters():[I]}(t.where));let c=[];t.orderBy&&(c=function(T){return T.map(I=>function(b){return new qu(Lo(b.field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(b.direction))}(I))}(t.orderBy));let d=null;t.limit&&(d=function(T){let I;return I=typeof T=="object"?T.value:T,zh(I)?null:I}(t.limit));let p=null;t.startAt&&(p=function(T){const I=!!T.before,O=T.values||[];return new gh(O,I)}(t.startAt));let y=null;return t.endAt&&(y=function(T){const I=!T.before,O=T.values||[];return new gh(O,I)}(t.endAt)),Rx(e,o,c,u,d,"F",p,y)}function uN(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function w0(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Lo(t.unaryFilter.field);return mt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Lo(t.unaryFilter.field);return mt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=Lo(t.unaryFilter.field);return mt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Lo(t.unaryFilter.field);return mt.create(c,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(n):n.fieldFilter!==void 0?function(t){return mt.create(Lo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return er.create(t.compositeFilter.filters.map(i=>w0(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae()}}(t.compositeFilter.op))}(n):Ae()}function lN(n){return Yx[n]}function cN(n){return Xx[n]}function hN(n){return Jx[n]}function Mo(n){return{fieldPath:n.canonicalString()}}function Lo(n){return bt.fromServerFormat(n.fieldPath)}function E0(n){return n instanceof mt?function(t){if(t.op==="=="){if(Jv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NAN"}};if(Xv(t.value))return{unaryFilter:{field:Mo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Mo(t.field),op:cN(t.op),value:t.value}}}(n):n instanceof er?function(t){const i=t.getFilters().map(o=>E0(o));return i.length===1?i[0]:{compositeFilter:{op:hN(t.op),filters:i}}}(n):Ae()}function dN(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function T0(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ki{constructor(e,t,i,o,u=Ce.min(),c=Ce.min(),d=Vt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ki(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ki(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{constructor(e){this.Tt=e}}function pN(n){const e=aN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Up(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mN{constructor(){this.Tn=new gN}addToCollectionParentIndex(e,t){return this.Tn.add(t),K.resolve()}getCollectionParents(e,t){return K.resolve(this.Tn.getEntries(t))}addFieldIndex(e,t){return K.resolve()}deleteFieldIndex(e,t){return K.resolve()}deleteAllFieldIndexes(e){return K.resolve()}createTargetIndexes(e,t){return K.resolve()}getDocumentsMatchingTarget(e,t){return K.resolve(null)}getIndexType(e,t){return K.resolve(0)}getFieldIndexes(e,t){return K.resolve([])}getNextCollectionGroupToUpdate(e){return K.resolve(null)}getMinOffset(e,t){return K.resolve(Li.min())}getMinOffsetFromCollectionGroup(e,t){return K.resolve(Li.min())}updateCollectionGroup(e,t,i){return K.resolve()}updateIndexEntries(e,t){return K.resolve()}}class gN{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Tt(et.comparator),u=!o.has(i);return this.index[t]=o.add(i),u}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Tt(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},I0=41943040;class rn{static withCacheSize(e){return new rn(e,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */rn.DEFAULT_COLLECTION_PERCENTILE=10,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,rn.DEFAULT=new rn(I0,rn.DEFAULT_COLLECTION_PERCENTILE,rn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),rn.DISABLED=new rn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new Jo(0)}static Kn(){return new Jo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fw="LruGarbageCollector",yN=1048576;function pw([n,e],[t,i]){const o=Fe(n,t);return o===0?Fe(e,i):o}class _N{constructor(e){this.Hn=e,this.buffer=new Tt(pw),this.Jn=0}Yn(){return++this.Jn}Zn(e){const t=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();pw(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vN{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ae(fw,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){oa(t)?ae(fw,"Ignoring IndexedDB error during garbage collection: ",t):await sa(t)}await this.er(3e5)})}}class wN{constructor(e,t){this.tr=e,this.params=t}calculateTargetCount(e,t){return this.tr.nr(e).next(i=>Math.floor(t/100*i))}nthSequenceNumber(e,t){if(t===0)return K.resolve(jh.ae);const i=new _N(t);return this.tr.forEachTarget(e,o=>i.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>i.Zn(o))).next(()=>i.maxValue)}removeTargets(e,t,i){return this.tr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.tr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),K.resolve(dw)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dw):this.ir(e,t))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,t){let i,o,u,c,d,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,c=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(i=T,d=Date.now(),this.removeTargets(e,i,t))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,i))).next(T=>(y=Date.now(),bo()<=Le.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-w}ms
	Determined least recently used ${o} in `+(d-c)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),K.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function EN(n,e){return new wN(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TN{constructor(){this.changes=new Ls(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Bt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?K.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IN{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SN{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&Au(i.mutation,o,_n.empty(),Et.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,Ue()).next(()=>i))}getLocalViewOfDocuments(e,t,i=Ue()){const o=Rs();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(u=>{let c=du();return u.forEach((d,p)=>{c=c.insert(d,p.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const i=Rs();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,Ue()))}populateOverlays(e,t,i){const o=[];return i.forEach(u=>{t.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((c,d)=>{t.set(c,d)})})}computeViews(e,t,i,o){let u=Qr();const c=Su(),d=function(){return Su()}();return t.forEach((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Ki)?u=u.insert(y.key,y):w!==void 0?(c.set(y.key,w.mutation.getFieldMask()),Au(w.mutation,y,w.mutation.getFieldMask(),Et.now())):c.set(y.key,_n.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((y,w)=>c.set(y,w)),t.forEach((y,w)=>{var T;return d.set(y,new IN(w,(T=c.get(y))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,t){const i=Su();let o=new st((c,d)=>c-d),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const d of c)d.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||_n.empty();w=d.applyToLocalView(y,w),i.set(p,w);const T=(o.get(d.batchId)||Ue()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const c=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),y=p.key,w=p.value,T=s0();w.forEach(I=>{if(!u.has(I)){const O=h0(t.get(I),i.get(I));O!==null&&T.set(I,O),u=u.add(I)}}),c.push(this.documentOverlayCache.saveOverlays(e,y,T))}return K.waitFor(c)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(c){return ve.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):e0(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(u=>{const c=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-u.size):K.resolve(Rs());let d=ju,p=u;return c.next(y=>K.forEach(y,(w,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(w)?K.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{p=p.insert(w,I)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,p,y,Ue())).next(w=>({batchId:d,changes:i0(w)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ve(t)).next(i=>{let o=du();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const u=t.collectionGroup;let c=du();return this.indexManager.getCollectionParents(e,u).next(d=>K.forEach(d,p=>{const y=function(T,I){return new aa(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(t,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(w=>{w.forEach((T,I)=>{c=c.insert(T,I)})})}).next(()=>c))}getDocumentsMatchingCollectionQuery(e,t,i,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(c=>(u=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,u,o))).next(c=>{u.forEach((p,y)=>{const w=y.getKey();c.get(w)===null&&(c=c.insert(w,Bt.newInvalidDocument(w)))});let d=du();return c.forEach((p,y)=>{const w=u.get(p);w!==void 0&&Au(w.mutation,y,_n.empty(),Et.now()),qh(t,y)&&(d=d.insert(p,y))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,t){return K.resolve(this.dr.get(t))}saveBundleMetadata(e,t){return this.dr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:yr(o.createTime)}}(t)),K.resolve()}getNamedQuery(e,t){return K.resolve(this.Ar.get(t))}saveNamedQuery(e,t){return this.Ar.set(t.name,function(o){return{name:o.name,query:pN(o.bundledQuery),readTime:yr(o.readTime)}}(t)),K.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.overlays=new st(ve.comparator),this.Rr=new Map}getOverlay(e,t){return K.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Rs();return K.forEach(t,o=>this.getOverlay(e,o).next(u=>{u!==null&&i.set(o,u)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,u)=>{this.Et(e,t,u)}),K.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Rr.get(i);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(i)),K.resolve()}getOverlaysForCollection(e,t,i){const o=Rs(),u=t.length+1,c=new ve(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const p=d.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===u&&p.largestBatchId>i&&o.set(p.getKey(),p)}return K.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let u=new st((y,w)=>y-w);const c=this.overlays.getIterator();for(;c.hasNext();){const y=c.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=u.get(y.largestBatchId);w===null&&(w=Rs(),u=u.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const d=Rs(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,w)=>d.set(y,w)),!(d.size()>=o)););return K.resolve(d)}Et(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const c=this.Rr.get(o.largestBatchId).delete(i.key);this.Rr.set(o.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Hx(t,i));let u=this.Rr.get(t);u===void 0&&(u=Ue(),this.Rr.set(t,u)),this.Rr.set(t,u.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(){this.sessionToken=Vt.EMPTY_BYTE_STRING}getSessionToken(e){return K.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,K.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.Vr=new Tt(Ct.mr),this.gr=new Tt(Ct.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,t){const i=new Ct(e,t);this.Vr=this.Vr.add(i),this.gr=this.gr.add(i)}yr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.wr(new Ct(e,t))}Sr(e,t){e.forEach(i=>this.removeReference(i,t))}br(e){const t=new ve(new et([])),i=new Ct(t,e),o=new Ct(t,e+1),u=[];return this.gr.forEachInRange([i,o],c=>{this.wr(c),u.push(c.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const t=new ve(new et([])),i=new Ct(t,e),o=new Ct(t,e+1);let u=Ue();return this.gr.forEachInRange([i,o],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new Ct(e,0),i=this.Vr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class Ct{constructor(e,t){this.key=e,this.Cr=t}static mr(e,t){return ve.comparator(e.key,t.key)||Fe(e.Cr,t.Cr)}static pr(e,t){return Fe(e.Cr,t.Cr)||ve.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Fr=1,this.Mr=new Tt(Ct.mr)}checkEmpty(e){return K.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new qx(u,t,i,o);this.mutationQueue.push(c);for(const d of o)this.Mr=this.Mr.add(new Ct(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return K.resolve(c)}lookupMutationBatch(e,t){return K.resolve(this.Or(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Nr(i),u=o<0?0:o;return K.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return K.resolve(this.mutationQueue.length===0?xm:this.Fr-1)}getAllMutationBatches(e){return K.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new Ct(t,0),o=new Ct(t,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([i,o],c=>{const d=this.Or(c.Cr);u.push(d)}),K.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Tt(Fe);return t.forEach(o=>{const u=new Ct(o,0),c=new Ct(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,c],d=>{i=i.add(d.Cr)})}),K.resolve(this.Br(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let u=i;ve.isDocumentKey(u)||(u=u.child(""));const c=new Ct(new ve(u),0);let d=new Tt(Fe);return this.Mr.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(d=d.add(p.Cr)),!0)},c),K.resolve(this.Br(d))}Br(e){const t=[];return e.forEach(i=>{const o=this.Or(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){Ke(this.Lr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.Mr;return K.forEach(t.mutations,o=>{const u=new Ct(o.key,t.batchId);return i=i.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=i})}qn(e){}containsKey(e,t){const i=new Ct(t,0),o=this.Mr.firstAfterOrEqual(i);return K.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,K.resolve()}Lr(e,t){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const t=this.Nr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(e){this.kr=e,this.docs=function(){return new st(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),u=o?o.size:0,c=this.kr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return K.resolve(i?i.document.mutableCopy():Bt.newInvalidDocument(t))}getEntries(e,t){let i=Qr();return t.forEach(o=>{const u=this.docs.get(o);i=i.insert(o,u?u.document.mutableCopy():Bt.newInvalidDocument(o))}),K.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let u=Qr();const c=t.path,d=new ve(c.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!c.isPrefixOf(y.path))break;y.path.length>c.length+1||sx(ix(w),i)<=0||(o.has(w.key)||qh(t,w))&&(u=u.insert(w.key,w.mutableCopy()))}return K.resolve(u)}getAllFromCollectionGroup(e,t,i,o){Ae()}qr(e,t){return K.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new xN(this)}getSize(e){return K.resolve(this.size)}}class xN extends TN{constructor(e){super(),this.Ir=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(i)}),K.waitFor(t)}getFromCache(e,t){return this.Ir.getEntry(e,t)}getAllFromCache(e,t){return this.Ir.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.persistence=e,this.Qr=new Ls(t=>Om(t),bm),this.lastRemoteSnapshotVersion=Ce.min(),this.highestTargetId=0,this.$r=0,this.Ur=new jm,this.targetCount=0,this.Kr=Jo.Un()}forEachTarget(e,t){return this.Qr.forEach((i,o)=>t(o)),K.resolve()}getLastRemoteSnapshotVersion(e){return K.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return K.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),K.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.$r&&(this.$r=t),K.resolve()}zn(e){this.Qr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Kr=new Jo(t),this.highestTargetId=t),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,t){return this.zn(t),this.targetCount+=1,K.resolve()}updateTargetData(e,t){return this.zn(t),K.resolve()}removeTargetData(e,t){return this.Qr.delete(t.target),this.Ur.br(t.targetId),this.targetCount-=1,K.resolve()}removeTargets(e,t,i){let o=0;const u=[];return this.Qr.forEach((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.Qr.delete(c),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),K.waitFor(u).next(()=>o)}getTargetCount(e){return K.resolve(this.targetCount)}getTargetData(e,t){const i=this.Qr.get(t)||null;return K.resolve(i)}addMatchingKeys(e,t,i){return this.Ur.yr(t,i),K.resolve()}removeMatchingKeys(e,t,i){this.Ur.Sr(t,i);const o=this.persistence.referenceDelegate,u=[];return o&&t.forEach(c=>{u.push(o.markPotentiallyOrphaned(e,c))}),K.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ur.br(t),K.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Ur.vr(t);return K.resolve(i)}containsKey(e,t){return K.resolve(this.Ur.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S0{constructor(e,t){this.Wr={},this.overlays={},this.Gr=new jh(0),this.zr=!1,this.zr=!0,this.jr=new CN,this.referenceDelegate=e(this),this.Hr=new NN(this),this.indexManager=new mN,this.remoteDocumentCache=function(o){return new kN(o)}(i=>this.referenceDelegate.Jr(i)),this.serializer=new fN(t),this.Yr=new AN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new RN,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.Wr[e.toKey()];return i||(i=new PN(t,this.referenceDelegate),this.Wr[e.toKey()]=i),i}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,t,i){ae("MemoryPersistence","Starting transaction:",e);const o=new DN(this.Gr.next());return this.referenceDelegate.Zr(),i(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,t){return K.or(Object.values(this.Wr).map(i=>()=>i.containsKey(e,t)))}}class DN extends ax{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.ti=new jm,this.ni=null}static ri(e){return new zm(e)}get ii(){if(this.ni)return this.ni;throw Ae()}addReference(e,t,i){return this.ti.addReference(i,t),this.ii.delete(i.toString()),K.resolve()}removeReference(e,t,i){return this.ti.removeReference(i,t),this.ii.add(i.toString()),K.resolve()}markPotentiallyOrphaned(e,t){return this.ii.add(t.toString()),K.resolve()}removeTarget(e,t){this.ti.br(t.targetId).forEach(o=>this.ii.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>i.removeTargetData(e,t))}Zr(){this.ni=new Set}Xr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return K.forEach(this.ii,i=>{const o=ve.fromPath(i);return this.si(e,o).next(u=>{u||t.removeEntry(o,Ce.min())})}).next(()=>(this.ni=null,t.apply(e)))}updateLimboDocument(e,t){return this.si(e,t).next(i=>{i?this.ii.delete(t.toString()):this.ii.add(t.toString())})}Jr(e){return 0}si(e,t){return K.or([()=>K.resolve(this.ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.ei(e,t)])}}class vh{constructor(e,t){this.persistence=e,this.oi=new Ls(i=>cx(i.path),(i,o)=>i.isEqual(o)),this.garbageCollector=EN(this,t)}static ri(e,t){return new vh(e,t)}Zr(){}Xr(e){return K.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}nr(e){const t=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>t.next(o=>i+o))}sr(e){let t=0;return this.rr(e,i=>{t++}).next(()=>t)}rr(e,t){return K.forEach(this.oi,(i,o)=>this.ar(e,i,o).next(u=>u?K.resolve():t(o)))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,c=>this.ar(e,c,t).next(d=>{d||(i++,u.removeEntry(c,Ce.min()))})).next(()=>u.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}removeReference(e,t,i){return this.oi.set(i,e.currentSequenceNumber),K.resolve()}updateLimboDocument(e,t){return this.oi.set(t,e.currentSequenceNumber),K.resolve()}Jr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Bc(e.data.value)),t}ar(e,t,i){return K.or([()=>this.persistence.ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.oi.get(t);return K.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bm{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Hi=i,this.Ji=o}static Yi(e,t){let i=Ue(),o=Ue();for(const u of t.docChanges)switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new Bm(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return pR()?8:ux($t())>0?6:4}()}initialize(e,t){this.ns=e,this.indexManager=t,this.Zi=!0}getDocumentsMatchingQuery(e,t,i,o){const u={result:null};return this.rs(e,t).next(c=>{u.result=c}).next(()=>{if(!u.result)return this.ss(e,t,o,i).next(c=>{u.result=c})}).next(()=>{if(u.result)return;const c=new ON;return this._s(e,t,c).next(d=>{if(u.result=d,this.Xi)return this.us(e,t,c,d.size)})}).next(()=>u.result)}us(e,t,i,o){return i.documentReadCount<this.es?(bo()<=Le.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Vo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),K.resolve()):(bo()<=Le.DEBUG&&ae("QueryEngine","Query:",Vo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.ts*o?(bo()<=Le.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Vo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gr(t))):K.resolve())}rs(e,t){if(nw(t))return K.resolve(null);let i=gr(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=Up(t,null,"F"),i=gr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(u=>{const c=Ue(...u);return this.ns.getDocuments(e,c).next(d=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.cs(t,d);return this.ls(t,y,c,p.readTime)?this.rs(e,Up(t,null,"F")):this.hs(e,y,t,p)}))})))}ss(e,t,i,o){return nw(t)||o.isEqual(Ce.min())?K.resolve(null):this.ns.getDocuments(e,i).next(u=>{const c=this.cs(t,u);return this.ls(t,c,i,o)?K.resolve(null):(bo()<=Le.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Vo(t)),this.hs(e,c,t,rx(o,ju)).next(d=>d))})}cs(e,t){let i=new Tt(n0(e));return t.forEach((o,u)=>{qh(e,u)&&(i=i.add(u))}),i}ls(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const u=e.limitType==="F"?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,t,i){return bo()<=Le.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Vo(t)),this.ns.getDocumentsMatchingQuery(e,t,Li.min(),i)}hs(e,t,i,o){return this.ns.getDocumentsMatchingQuery(e,i,o).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $m="LocalStore",VN=3e8;class MN{constructor(e,t,i,o){this.persistence=e,this.Ps=t,this.serializer=o,this.Ts=new st(Fe),this.Is=new Ls(u=>Om(u),bm),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(i)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new SN(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ts))}}function LN(n,e,t,i){return new MN(n,e,t,i)}async function A0(n,e){const t=ke(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(u=>(o=u,t.As(e),t.mutationQueue.getAllMutationBatches(i))).next(u=>{const c=[],d=[];let p=Ue();for(const y of o){c.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of u){d.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next(y=>({Rs:y,removedBatchIds:c,addedBatchIds:d}))})})}function FN(n,e){const t=ke(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),u=t.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,y,w){const T=y.batch,I=T.keys();let O=K.resolve();return I.forEach(b=>{O=O.next(()=>w.getEntry(p,b)).next(z=>{const V=y.docVersions.get(b);Ke(V!==null),z.version.compareTo(V)<0&&(T.applyToRemoteDocument(z,y),z.isValidDocument()&&(z.setReadTime(y.commitVersion),w.addEntry(z)))})}),O.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(t,i,e,u).next(()=>u.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(d){let p=Ue();for(let y=0;y<d.mutationResults.length;++y)d.mutationResults[y].transformResults.length>0&&(p=p.add(d.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function R0(n){const e=ke(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Hr.getLastRemoteSnapshotVersion(t))}function UN(n,e){const t=ke(n),i=e.snapshotVersion;let o=t.Ts;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.ds.newChangeBuffer({trackRemovals:!0});o=t.Ts;const d=[];e.targetChanges.forEach((w,T)=>{const I=o.get(T);if(!I)return;d.push(t.Hr.removeMatchingKeys(u,w.removedDocuments,T).next(()=>t.Hr.addMatchingKeys(u,w.addedDocuments,T)));let O=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?O=O.withResumeToken(Vt.EMPTY_BYTE_STRING,Ce.min()).withLastLimboFreeSnapshotVersion(Ce.min()):w.resumeToken.approximateByteSize()>0&&(O=O.withResumeToken(w.resumeToken,i)),o=o.insert(T,O),function(z,V,X){return z.resumeToken.approximateByteSize()===0||V.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=VN?!0:X.addedDocuments.size+X.modifiedDocuments.size+X.removedDocuments.size>0}(I,O,w)&&d.push(t.Hr.updateTargetData(u,O))});let p=Qr(),y=Ue();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(u,w))}),d.push(jN(u,c,e.documentUpdates).next(w=>{p=w.Vs,y=w.fs})),!i.isEqual(Ce.min())){const w=t.Hr.getLastRemoteSnapshotVersion(u).next(T=>t.Hr.setTargetsMetadata(u,u.currentSequenceNumber,i));d.push(w)}return K.waitFor(d).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,p,y)).next(()=>p)}).then(u=>(t.Ts=o,u))}function jN(n,e,t){let i=Ue(),o=Ue();return t.forEach(u=>i=i.add(u)),e.getEntries(n,i).next(u=>{let c=Qr();return t.forEach((d,p)=>{const y=u.get(d);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Ce.min())?(e.removeEntry(d,p.readTime),c=c.insert(d,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),c=c.insert(d,p)):ae($m,"Ignoring outdated watch update for ",d,". Current version:",y.version," Watch version:",p.version)}),{Vs:c,fs:o}})}function zN(n,e){const t=ke(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=xm),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function BN(n,e){const t=ke(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Hr.getTargetData(i,e).next(u=>u?(o=u,K.resolve(o)):t.Hr.allocateTargetId(i).next(c=>(o=new ki(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.Hr.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.Ts.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Ts=t.Ts.insert(i.targetId,i),t.Is.set(e,i.targetId)),i})}async function qp(n,e,t){const i=ke(n),o=i.Ts.get(e),u=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",u,c=>i.persistence.referenceDelegate.removeTarget(c,o))}catch(c){if(!oa(c))throw c;ae($m,`Failed to update sequence numbers for target ${e}: ${c}`)}i.Ts=i.Ts.remove(e),i.Is.delete(o.target)}function mw(n,e,t){const i=ke(n);let o=Ce.min(),u=Ue();return i.persistence.runTransaction("Execute query","readwrite",c=>function(p,y,w){const T=ke(p),I=T.Is.get(w);return I!==void 0?K.resolve(T.Ts.get(I)):T.Hr.getTargetData(y,w)}(i,c,gr(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,i.Hr.getMatchingKeysForTargetId(c,d.targetId).next(p=>{u=p})}).next(()=>i.Ps.getDocumentsMatchingQuery(c,e,t?o:Ce.min(),t?u:Ue())).next(d=>($N(i,Px(e),d),{documents:d,gs:u})))}function $N(n,e,t){let i=n.Es.get(e)||Ce.min();t.forEach((o,u)=>{u.readTime.compareTo(i)>0&&(i=u.readTime)}),n.Es.set(e,i)}class gw{constructor(){this.activeTargetIds=bx()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qN{constructor(){this.ho=new gw,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,t,i){this.Po[e]=t}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new gw,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HN{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="ConnectivityMonitor";class _w{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ae(yw,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ae(yw,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc=null;function Hp(){return bc===null?bc=function(){return 268435456+Math.round(2147483648*Math.random())}():bc++,"0x"+bc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp="RestConnection",WN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class KN{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=t+"://"+e.host,this.yo=`projects/${i}/databases/${o}`,this.wo=this.databaseId.database===ph?`project_id=${i}`:`project_id=${i}&database_id=${o}`}So(e,t,i,o,u){const c=Hp(),d=this.bo(e,t.toUriEncodedString());ae(sp,`Sending RPC '${e}' ${c}:`,d,i);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,i).then(y=>(ae(sp,`Received RPC '${e}' ${c}: `,y),y),y=>{throw Go(sp,`RPC '${e}' ${c} failed with error: `,y,"url: ",d,"request:",i),y})}Co(e,t,i,o,u,c){return this.So(e,t,i,o,u)}Do(e,t,i){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ia}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((o,u)=>e[u]=o),i&&i.headers.forEach((o,u)=>e[u]=o)}bo(e,t){const i=WN[e];return`${this.po}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jt="WebChannelConnection";class QN extends KN{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,t,i,o){const u=Hp();return new Promise((c,d)=>{const p=new xT;p.setWithCredentials(!0),p.listenOnce(NT.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case zc.NO_ERROR:const w=p.getResponseJson();ae(jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),c(w);break;case zc.TIMEOUT:ae(jt,`RPC '${e}' ${u} timed out`),d(new le(W.DEADLINE_EXCEEDED,"Request time out"));break;case zc.HTTP_ERROR:const T=p.getStatus();if(ae(jt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const O=I==null?void 0:I.error;if(O&&O.status&&O.message){const b=function(V){const X=V.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(X)>=0?X:W.UNKNOWN}(O.status);d(new le(b,O.message))}else d(new le(W.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new le(W.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{ae(jt,`RPC '${e}' ${u} completed.`)}});const y=JSON.stringify(o);ae(jt,`RPC '${e}' ${u} sending request:`,o),p.send(t,"POST",y,i,15)})}Wo(e,t,i){const o=Hp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=bT(),d=OT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=u.join("");ae(jt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=c.createWebChannel(w,p);let I=!1,O=!1;const b=new GN({Fo:V=>{O?ae(jt,`Not sending because RPC '${e}' stream ${o} is closed:`,V):(I||(ae(jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),I=!0),ae(jt,`RPC '${e}' stream ${o} sending:`,V),T.send(V))},Mo:()=>T.close()}),z=(V,X,re)=>{V.listen(X,H=>{try{re(H)}catch(te){setTimeout(()=>{throw te},0)}})};return z(T,hu.EventType.OPEN,()=>{O||(ae(jt,`RPC '${e}' stream ${o} transport opened.`),b.Qo())}),z(T,hu.EventType.CLOSE,()=>{O||(O=!0,ae(jt,`RPC '${e}' stream ${o} transport closed`),b.Uo())}),z(T,hu.EventType.ERROR,V=>{O||(O=!0,Go(jt,`RPC '${e}' stream ${o} transport errored:`,V),b.Uo(new le(W.UNAVAILABLE,"The operation could not be completed")))}),z(T,hu.EventType.MESSAGE,V=>{var X;if(!O){const re=V.data[0];Ke(!!re);const H=re,te=(H==null?void 0:H.error)||((X=H[0])===null||X===void 0?void 0:X.error);if(te){ae(jt,`RPC '${e}' stream ${o} received error:`,te);const de=te.status;let ce=function(A){const k=pt[A];if(k!==void 0)return f0(k)}(de),P=te.message;ce===void 0&&(ce=W.INTERNAL,P="Unknown error status: "+de+" with message "+te.message),O=!0,b.Uo(new le(ce,P)),T.close()}else ae(jt,`RPC '${e}' stream ${o} received:`,re),b.Ko(re)}}),z(d,DT.STAT_EVENT,V=>{V.stat===Np.PROXY?ae(jt,`RPC '${e}' stream ${o} detected buffering proxy`):V.stat===Np.NOPROXY&&ae(jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{b.$o()},0),b}}function op(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(n){return new Zx(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(e,t,i=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=t,this.Go=i,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const t=Math.floor(this.Ho+this.e_()),i=Math.max(0,Date.now()-this.Yo),o=Math.max(0,t-i);o>0&&ae("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="PersistentStream";class P0{constructor(e,t,i,o,u,c,d,p){this.Ti=e,this.n_=i,this.r_=o,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new C0(e,t)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,t){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():t&&t.code===W.RESOURCE_EXHAUSTED?(Gr(t.toString()),Gr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):t&&t.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(t)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),t=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.i_===t&&this.V_(i,o)},i=>{e(()=>{const o=new le(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.m_(o)})})}V_(e,t){const i=this.R_(this.i_);this.stream=this.f_(e,t),this.stream.xo(()=>{i(()=>this.listener.xo())}),this.stream.No(()=>{i(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{i(()=>this.m_(o))}),this.stream.onMessage(o=>{i(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ae(vw,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return t=>{this.Ti.enqueueAndForget(()=>this.i_===e?t():(ae(vw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class YN extends P0{constructor(e,t,i,o,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,c),this.serializer=u}f_(e,t){return this.connection.Wo("Listen",e,t)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const t=nN(this.serializer,e),i=function(u){if(!("targetChange"in u))return Ce.min();const c=u.targetChange;return c.targetIds&&c.targetIds.length?Ce.min():c.readTime?yr(c.readTime):Ce.min()}(e);return this.listener.p_(t,i)}y_(e){const t={};t.database=$p(this.serializer),t.addTarget=function(u,c){let d;const p=c.target;if(d=Lp(p)?{documents:sN(u,p)}:{query:oN(u,p).ht},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=g0(u,c.resumeToken);const y=jp(u,c.expectedCount);y!==null&&(d.expectedCount=y)}else if(c.snapshotVersion.compareTo(Ce.min())>0){d.readTime=_h(u,c.snapshotVersion.toTimestamp());const y=jp(u,c.expectedCount);y!==null&&(d.expectedCount=y)}return d}(this.serializer,e);const i=uN(this.serializer,e);i&&(t.labels=i),this.I_(t)}w_(e){const t={};t.database=$p(this.serializer),t.removeTarget=e,this.I_(t)}}class XN extends P0{constructor(e,t,i,o,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,c),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,t){return this.connection.Wo("Write",e,t)}g_(e){return Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const t=iN(e.writeResults,e.commitTime),i=yr(e.commitTime);return this.listener.v_(i,t)}C_(){const e={};e.database=$p(this.serializer),this.I_(e)}b_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>rN(this.serializer,i))};this.I_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{}class ZN extends JN{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,i,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.So(e,zp(t,i),o,u,c)).catch(u=>{throw u.name==="FirebaseError"?(u.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(W.UNKNOWN,u.toString())})}Co(e,t,i,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Co(e,zp(t,i),o,c,d,u)).catch(c=>{throw c.name==="FirebaseError"?(c.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new le(W.UNKNOWN,c.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class e2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Gr(t),this.N_=!1):ae("OnlineStateTracker",t)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="RemoteStore";class t2{constructor(e,t,i,o,u){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(c=>{i.enqueueAndForget(async()=>{Fs(this)&&(ae(Vs,"Restarting streams for network reachability change."),await async function(p){const y=ke(p);y.W_.add(4),await sl(y),y.j_.set("Unknown"),y.W_.delete(4),await Yh(y)}(this))})}),this.j_=new e2(i,o)}}async function Yh(n){if(Fs(n))for(const e of n.G_)await e(!0)}async function sl(n){for(const e of n.G_)await e(!1)}function k0(n,e){const t=ke(n);t.K_.has(e.targetId)||(t.K_.set(e.targetId,e),Km(t)?Wm(t):ua(t).c_()&&Hm(t,e))}function qm(n,e){const t=ke(n),i=ua(t);t.K_.delete(e),i.c_()&&x0(t,e),t.K_.size===0&&(i.c_()?i.P_():Fs(t)&&t.j_.set("Unknown"))}function Hm(n,e){if(n.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ce.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ua(n).y_(e)}function x0(n,e){n.H_.Ne(e),ua(n).w_(e)}function Wm(n){n.H_=new Qx({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>n.K_.get(e)||null,it:()=>n.datastore.serializer.databaseId}),ua(n).start(),n.j_.B_()}function Km(n){return Fs(n)&&!ua(n).u_()&&n.K_.size>0}function Fs(n){return ke(n).W_.size===0}function N0(n){n.H_=void 0}async function n2(n){n.j_.set("Online")}async function r2(n){n.K_.forEach((e,t)=>{Hm(n,e)})}async function i2(n,e){N0(n),Km(n)?(n.j_.q_(e),Wm(n)):n.j_.set("Unknown")}async function s2(n,e,t){if(n.j_.set("Online"),e instanceof m0&&e.state===2&&e.cause)try{await async function(o,u){const c=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,c),o.K_.delete(d),o.H_.removeTarget(d))}(n,e)}catch(i){ae(Vs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await wh(n,i)}else if(e instanceof Hc?n.H_.We(e):e instanceof p0?n.H_.Ze(e):n.H_.je(e),!t.isEqual(Ce.min()))try{const i=await R0(n.localStore);t.compareTo(i)>=0&&await function(u,c){const d=u.H_.ot(c);return d.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=u.K_.get(y);w&&u.K_.set(y,w.withResumeToken(p.resumeToken,c))}}),d.targetMismatches.forEach((p,y)=>{const w=u.K_.get(p);if(!w)return;u.K_.set(p,w.withResumeToken(Vt.EMPTY_BYTE_STRING,w.snapshotVersion)),x0(u,p);const T=new ki(w.target,p,y,w.sequenceNumber);Hm(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(n,t)}catch(i){ae(Vs,"Failed to raise snapshot:",i),await wh(n,i)}}async function wh(n,e,t){if(!oa(e))throw e;n.W_.add(1),await sl(n),n.j_.set("Offline"),t||(t=()=>R0(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ae(Vs,"Retrying IndexedDB access"),await t(),n.W_.delete(1),await Yh(n)})}function D0(n,e){return e().catch(t=>wh(n,t,e))}async function Xh(n){const e=ke(n),t=zi(e);let i=e.U_.length>0?e.U_[e.U_.length-1].batchId:xm;for(;o2(e);)try{const o=await zN(e.localStore,i);if(o===null){e.U_.length===0&&t.P_();break}i=o.batchId,a2(e,o)}catch(o){await wh(e,o)}O0(e)&&b0(e)}function o2(n){return Fs(n)&&n.U_.length<10}function a2(n,e){n.U_.push(e);const t=zi(n);t.c_()&&t.S_&&t.b_(e.mutations)}function O0(n){return Fs(n)&&!zi(n).u_()&&n.U_.length>0}function b0(n){zi(n).start()}async function u2(n){zi(n).C_()}async function l2(n){const e=zi(n);for(const t of n.U_)e.b_(t.mutations)}async function c2(n,e,t){const i=n.U_.shift(),o=Lm.from(i,e,t);await D0(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Xh(n)}async function h2(n,e){e&&zi(n).S_&&await async function(i,o){if(function(c){return Kx(c)&&c!==W.ABORTED}(o.code)){const u=i.U_.shift();zi(i).h_(),await D0(i,()=>i.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Xh(i)}}(n,e),O0(n)&&b0(n)}async function ww(n,e){const t=ke(n);t.asyncQueue.verifyOperationInProgress(),ae(Vs,"RemoteStore received new credentials");const i=Fs(t);t.W_.add(3),await sl(t),i&&t.j_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.W_.delete(3),await Yh(t)}async function d2(n,e){const t=ke(n);e?(t.W_.delete(2),await Yh(t)):e||(t.W_.add(2),await sl(t),t.j_.set("Unknown"))}function ua(n){return n.J_||(n.J_=function(t,i,o){const u=ke(t);return u.M_(),new YN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:n2.bind(null,n),No:r2.bind(null,n),Lo:i2.bind(null,n),p_:s2.bind(null,n)}),n.G_.push(async e=>{e?(n.J_.h_(),Km(n)?Wm(n):n.j_.set("Unknown")):(await n.J_.stop(),N0(n))})),n.J_}function zi(n){return n.Y_||(n.Y_=function(t,i,o){const u=ke(t);return u.M_(),new XN(i,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(n.datastore,n.asyncQueue,{xo:()=>Promise.resolve(),No:u2.bind(null,n),Lo:h2.bind(null,n),D_:l2.bind(null,n),v_:c2.bind(null,n)}),n.G_.push(async e=>{e?(n.Y_.h_(),await Xh(n)):(await n.Y_.stop(),n.U_.length>0&&(ae(Vs,`Stopping write stream with ${n.U_.length} pending writes`),n.U_=[]))})),n.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gm{constructor(e,t,i,o,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=u,this.deferred=new Cs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,u){const c=Date.now()+i,d=new Gm(e,t,c,o,u);return d.start(i),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Qm(n,e){if(Gr("AsyncQueue",`${e}: ${n}`),oa(n))return new le(W.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qo{static emptySet(e){return new qo(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ve.comparator(t.key,i.key):(t,i)=>ve.comparator(t.key,i.key),this.keyedMap=du(),this.sortedSet=new st(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof qo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,u=i.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new qo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(){this.Z_=new st(ve.comparator)}track(e){const t=e.doc.key,i=this.Z_.get(t);i?e.type!==0&&i.type===3?this.Z_=this.Z_.insert(t,e):e.type===3&&i.type!==1?this.Z_=this.Z_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.Z_=this.Z_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.Z_=this.Z_.remove(t):e.type===1&&i.type===2?this.Z_=this.Z_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.Z_=this.Z_.insert(t,{type:2,doc:e.doc}):Ae():this.Z_=this.Z_.insert(t,e)}X_(){const e=[];return this.Z_.inorderTraversal((t,i)=>{e.push(i)}),e}}class Zo{constructor(e,t,i,o,u,c,d,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,u){const c=[];return t.forEach(d=>{c.push({type:0,doc:d})}),new Zo(e,t,qo.emptySet(t),c,i,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class p2{constructor(){this.queries=Tw(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(t,i){const o=ke(t),u=o.queries;o.queries=Tw(),u.forEach((c,d)=>{for(const p of d.ta)p.onError(i)})})(this,new le(W.ABORTED,"Firestore shutting down"))}}function Tw(){return new Ls(n=>t0(n),$h)}async function m2(n,e){const t=ke(n);let i=3;const o=e.query;let u=t.queries.get(o);u?!u.na()&&e.ra()&&(i=2):(u=new f2,i=e.ra()?0:1);try{switch(i){case 0:u.ea=await t.onListen(o,!0);break;case 1:u.ea=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(c){const d=Qm(c,`Initialization of query '${Vo(e.query)}' failed`);return void e.onError(d)}t.queries.set(o,u),u.ta.push(e),e.sa(t.onlineState),u.ea&&e.oa(u.ea)&&Ym(t)}async function g2(n,e){const t=ke(n),i=e.query;let o=3;const u=t.queries.get(i);if(u){const c=u.ta.indexOf(e);c>=0&&(u.ta.splice(c,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function y2(n,e){const t=ke(n);let i=!1;for(const o of e){const u=o.query,c=t.queries.get(u);if(c){for(const d of c.ta)d.oa(o)&&(i=!0);c.ea=o}}i&&Ym(t)}function _2(n,e,t){const i=ke(n),o=i.queries.get(e);if(o)for(const u of o.ta)u.onError(t);i.queries.delete(e)}function Ym(n){n.ia.forEach(e=>{e.next()})}var Wp,Iw;(Iw=Wp||(Wp={}))._a="default",Iw.Cache="cache";class v2{constructor(e,t,i){this.query=e,this.aa=t,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=i||{}}oa(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ua?this.la(e)&&(this.aa.next(e),t=!0):this.ha(e,this.onlineState)&&(this.Pa(e),t=!0),this.ca=e,t}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let t=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),t=!0),t}ha(e,t){if(!e.fromCache||!this.ra())return!0;const i=t!=="Offline";return(!this.options.Ta||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}la(e){if(e.docChanges.length>0)return!0;const t=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Pa(e){e=Zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Wp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{constructor(e){this.key=e}}class M0{constructor(e){this.key=e}}class w2{constructor(e,t){this.query=e,this.fa=t,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Ue(),this.mutatedKeys=Ue(),this.ya=n0(e),this.wa=new qo(this.ya)}get Sa(){return this.fa}ba(e,t){const i=t?t.Da:new Ew,o=t?t.wa:this.wa;let u=t?t.mutatedKeys:this.mutatedKeys,c=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((w,T)=>{const I=o.get(w),O=qh(this.query,T)?T:null,b=!!I&&this.mutatedKeys.has(I.key),z=!!O&&(O.hasLocalMutations||this.mutatedKeys.has(O.key)&&O.hasCommittedMutations);let V=!1;I&&O?I.data.isEqual(O.data)?b!==z&&(i.track({type:3,doc:O}),V=!0):this.va(I,O)||(i.track({type:2,doc:O}),V=!0,(p&&this.ya(O,p)>0||y&&this.ya(O,y)<0)&&(d=!0)):!I&&O?(i.track({type:0,doc:O}),V=!0):I&&!O&&(i.track({type:1,doc:I}),V=!0,(p||y)&&(d=!0)),V&&(O?(c=c.add(O),u=z?u.add(w):u.delete(w)):(c=c.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;c.size>this.query.limit;){const w=this.query.limitType==="F"?c.last():c.first();c=c.delete(w.key),u=u.delete(w.key),i.track({type:1,doc:w})}return{wa:c,Da:i,ls:d,mutatedKeys:u}}va(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const c=e.Da.X_();c.sort((w,T)=>function(O,b){const z=V=>{switch(V){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return z(O)-z(b)}(w.type,T.type)||this.ya(w.doc,T.doc)),this.Ca(i),o=o!=null&&o;const d=t&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,y=p!==this.ga;return this.ga=p,c.length!==0||y?{snapshot:new Zo(this.query,e.wa,u,c,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Ew,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(t=>this.fa=this.fa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.fa=this.fa.delete(t)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Ue(),this.wa.forEach(i=>{this.xa(i.key)&&(this.pa=this.pa.add(i.key))});const t=[];return e.forEach(i=>{this.pa.has(i)||t.push(new M0(i))}),this.pa.forEach(i=>{e.has(i)||t.push(new V0(i))}),t}Oa(e){this.fa=e.gs,this.pa=Ue();const t=this.ba(e.documents);return this.applyChanges(t,!0)}Na(){return Zo.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const Xm="SyncEngine";class E2{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class T2{constructor(e){this.key=e,this.Ba=!1}}class I2{constructor(e,t,i,o,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.La={},this.ka=new Ls(d=>t0(d),$h),this.qa=new Map,this.Qa=new Set,this.$a=new st(ve.comparator),this.Ua=new Map,this.Ka=new jm,this.Wa={},this.Ga=new Map,this.za=Jo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function S2(n,e,t=!0){const i=B0(n);let o;const u=i.ka.get(e);return u?(i.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await L0(i,e,t,!0),o}async function A2(n,e){const t=B0(n);await L0(t,e,!0,!1)}async function L0(n,e,t,i){const o=await BN(n.localStore,gr(e)),u=o.targetId,c=n.sharedClientState.addLocalQueryTarget(u,t);let d;return i&&(d=await R2(n,e,u,c==="current",o.resumeToken)),n.isPrimaryClient&&t&&k0(n.remoteStore,o),d}async function R2(n,e,t,i,o){n.Ha=(T,I,O)=>async function(z,V,X,re){let H=V.view.ba(X);H.ls&&(H=await mw(z.localStore,V.query,!1).then(({documents:P})=>V.view.ba(P,H)));const te=re&&re.targetChanges.get(V.targetId),de=re&&re.targetMismatches.get(V.targetId)!=null,ce=V.view.applyChanges(H,z.isPrimaryClient,te,de);return Aw(z,V.targetId,ce.Ma),ce.snapshot}(n,T,I,O);const u=await mw(n.localStore,e,!0),c=new w2(e,u.gs),d=c.ba(u.documents),p=il.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=c.applyChanges(d,n.isPrimaryClient,p);Aw(n,t,y.Ma);const w=new E2(e,t,c);return n.ka.set(e,w),n.qa.has(t)?n.qa.get(t).push(e):n.qa.set(t,[e]),y.snapshot}async function C2(n,e,t){const i=ke(n),o=i.ka.get(e),u=i.qa.get(o.targetId);if(u.length>1)return i.qa.set(o.targetId,u.filter(c=>!$h(c,e))),void i.ka.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await qp(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&qm(i.remoteStore,o.targetId),Kp(i,o.targetId)}).catch(sa)):(Kp(i,o.targetId),await qp(i.localStore,o.targetId,!0))}async function P2(n,e){const t=ke(n),i=t.ka.get(e),o=t.qa.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),qm(t.remoteStore,i.targetId))}async function k2(n,e,t){const i=M2(n);try{const o=await function(c,d){const p=ke(c),y=Et.now(),w=d.reduce((O,b)=>O.add(b.key),Ue());let T,I;return p.persistence.runTransaction("Locally write mutations","readwrite",O=>{let b=Qr(),z=Ue();return p.ds.getEntries(O,w).next(V=>{b=V,b.forEach((X,re)=>{re.isValidDocument()||(z=z.add(X))})}).next(()=>p.localDocuments.getOverlayedDocuments(O,b)).next(V=>{T=V;const X=[];for(const re of d){const H=Bx(re,T.get(re.key).overlayedDocument);H!=null&&X.push(new Ki(re.key,H,KT(H.value.mapValue),un.exists(!0)))}return p.mutationQueue.addMutationBatch(O,y,X,d)}).next(V=>{I=V;const X=V.applyToLocalDocumentSet(T,z);return p.documentOverlayCache.saveOverlays(O,V.batchId,X)})}).then(()=>({batchId:I.batchId,changes:i0(T)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(c,d,p){let y=c.Wa[c.currentUser.toKey()];y||(y=new st(Fe)),y=y.insert(d,p),c.Wa[c.currentUser.toKey()]=y}(i,o.batchId,t),await ol(i,o.changes),await Xh(i.remoteStore)}catch(o){const u=Qm(o,"Failed to persist write");t.reject(u)}}async function F0(n,e){const t=ke(n);try{const i=await UN(t.localStore,e);e.targetChanges.forEach((o,u)=>{const c=t.Ua.get(u);c&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?c.Ba=!0:o.modifiedDocuments.size>0?Ke(c.Ba):o.removedDocuments.size>0&&(Ke(c.Ba),c.Ba=!1))}),await ol(t,i,e)}catch(i){await sa(i)}}function Sw(n,e,t){const i=ke(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.ka.forEach((u,c)=>{const d=c.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(c,d){const p=ke(c);p.onlineState=d;let y=!1;p.queries.forEach((w,T)=>{for(const I of T.ta)I.sa(d)&&(y=!0)}),y&&Ym(p)}(i.eventManager,e),o.length&&i.La.p_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function x2(n,e,t){const i=ke(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Ua.get(e),u=o&&o.key;if(u){let c=new st(ve.comparator);c=c.insert(u,Bt.newNoDocument(u,Ce.min()));const d=Ue().add(u),p=new Gh(Ce.min(),new Map,new st(Fe),c,d);await F0(i,p),i.$a=i.$a.remove(u),i.Ua.delete(e),Jm(i)}else await qp(i.localStore,e,!1).then(()=>Kp(i,e,t)).catch(sa)}async function N2(n,e){const t=ke(n),i=e.batch.batchId;try{const o=await FN(t.localStore,e);j0(t,i,null),U0(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await ol(t,o)}catch(o){await sa(o)}}async function D2(n,e,t){const i=ke(n);try{const o=await function(c,d){const p=ke(c);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let w;return p.mutationQueue.lookupMutationBatch(y,d).next(T=>(Ke(T!==null),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w)).next(()=>p.localDocuments.getDocuments(y,w))})}(i.localStore,e);j0(i,e,t),U0(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await ol(i,o)}catch(o){await sa(o)}}function U0(n,e){(n.Ga.get(e)||[]).forEach(t=>{t.resolve()}),n.Ga.delete(e)}function j0(n,e,t){const i=ke(n);let o=i.Wa[i.currentUser.toKey()];if(o){const u=o.get(e);u&&(t?u.reject(t):u.resolve(),o=o.remove(e)),i.Wa[i.currentUser.toKey()]=o}}function Kp(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.qa.get(e))n.ka.delete(i),t&&n.La.Ja(i,t);n.qa.delete(e),n.isPrimaryClient&&n.Ka.br(e).forEach(i=>{n.Ka.containsKey(i)||z0(n,i)})}function z0(n,e){n.Qa.delete(e.path.canonicalString());const t=n.$a.get(e);t!==null&&(qm(n.remoteStore,t),n.$a=n.$a.remove(e),n.Ua.delete(t),Jm(n))}function Aw(n,e,t){for(const i of t)i instanceof V0?(n.Ka.addReference(i.key,e),O2(n,i)):i instanceof M0?(ae(Xm,"Document no longer in limbo: "+i.key),n.Ka.removeReference(i.key,e),n.Ka.containsKey(i.key)||z0(n,i.key)):Ae()}function O2(n,e){const t=e.key,i=t.path.canonicalString();n.$a.get(t)||n.Qa.has(i)||(ae(Xm,"New document in limbo: "+t),n.Qa.add(i),Jm(n))}function Jm(n){for(;n.Qa.size>0&&n.$a.size<n.maxConcurrentLimboResolutions;){const e=n.Qa.values().next().value;n.Qa.delete(e);const t=new ve(et.fromString(e)),i=n.za.next();n.Ua.set(i,new T2(t)),n.$a=n.$a.insert(t,i),k0(n.remoteStore,new ki(gr(Vm(t.path)),i,"TargetPurposeLimboResolution",jh.ae))}}async function ol(n,e,t){const i=ke(n),o=[],u=[],c=[];i.ka.isEmpty()||(i.ka.forEach((d,p)=>{c.push(i.Ha(p,e,t).then(y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=Bm.Yi(p.targetId,y);u.push(T)}}))}),await Promise.all(c),i.La.p_(o),await async function(p,y){const w=ke(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>K.forEach(y,I=>K.forEach(I.Hi,O=>w.persistence.referenceDelegate.addReference(T,I.targetId,O)).next(()=>K.forEach(I.Ji,O=>w.persistence.referenceDelegate.removeReference(T,I.targetId,O)))))}catch(T){if(!oa(T))throw T;ae($m,"Failed to update sequence numbers: "+T)}for(const T of y){const I=T.targetId;if(!T.fromCache){const O=w.Ts.get(I),b=O.snapshotVersion,z=O.withLastLimboFreeSnapshotVersion(b);w.Ts=w.Ts.insert(I,z)}}}(i.localStore,u))}async function b2(n,e){const t=ke(n);if(!t.currentUser.isEqual(e)){ae(Xm,"User change. New user:",e.toKey());const i=await A0(t.localStore,e);t.currentUser=e,function(u,c){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new le(W.CANCELLED,c))})}),u.Ga.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await ol(t,i.Rs)}}function V2(n,e){const t=ke(n),i=t.Ua.get(e);if(i&&i.Ba)return Ue().add(i.key);{let o=Ue();const u=t.qa.get(e);if(!u)return o;for(const c of u){const d=t.ka.get(c);o=o.unionWith(d.view.Sa)}return o}}function B0(n){const e=ke(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=F0.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=V2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=x2.bind(null,e),e.La.p_=y2.bind(null,e.eventManager),e.La.Ja=_2.bind(null,e.eventManager),e}function M2(n){const e=ke(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=N2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=D2.bind(null,e),e}class Eh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qh(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,t){return null}nu(e,t){return null}eu(e){return LN(this.persistence,new bN,e.initialUser,this.serializer)}Xa(e){return new S0(zm.ri,this.serializer)}Za(e){return new qN}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Eh.provider={build:()=>new Eh};class L2 extends Eh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,t){Ke(this.persistence.referenceDelegate instanceof vh);const i=this.persistence.referenceDelegate.garbageCollector;return new vN(i,e.asyncQueue,t)}Xa(e){const t=this.cacheSizeBytes!==void 0?rn.withCacheSize(this.cacheSizeBytes):rn.DEFAULT;return new S0(i=>vh.ri(i,t),this.serializer)}}class Gp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Sw(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=b2.bind(null,this.syncEngine),await d2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new p2}()}createDatastore(e){const t=Qh(e.databaseInfo.databaseId),i=function(u){return new QN(u)}(e.databaseInfo);return function(u,c,d,p){return new ZN(u,c,d,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,u,c,d){return new t2(i,o,u,c,d)}(this.localStore,this.datastore,e.asyncQueue,t=>Sw(this.syncEngine,t,0),function(){return _w.D()?new _w:new HN}())}createSyncEngine(e,t){return function(o,u,c,d,p,y,w){const T=new I2(o,u,c,d,p,y);return w&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const u=ke(o);ae(Vs,"RemoteStore shutting down."),u.W_.add(5),await sl(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Gp.provider={build:()=>new Gp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Gr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bi="FirestoreClient";class U2{constructor(e,t,i,o,u){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=MT.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(i,async c=>{ae(Bi,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c}),this.appCheckCredentials.start(i,c=>(ae(Bi,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Cs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=Qm(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function ap(n,e){n.asyncQueue.verifyOperationInProgress(),ae(Bi,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await A0(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Rw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await j2(n);ae(Bi,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>ww(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>ww(e.remoteStore,o)),n._onlineComponents=e}async function j2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae(Bi,"Using user provided OfflineComponentProvider");try{await ap(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===W.FAILED_PRECONDITION||o.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;Go("Error using user provided cache. Falling back to memory cache: "+t),await ap(n,new Eh)}}else ae(Bi,"Using default OfflineComponentProvider"),await ap(n,new L2(void 0));return n._offlineComponents}async function $0(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae(Bi,"Using user provided OnlineComponentProvider"),await Rw(n,n._uninitializedComponentsProvider._online)):(ae(Bi,"Using default OnlineComponentProvider"),await Rw(n,new Gp))),n._onlineComponents}function z2(n){return $0(n).then(e=>e.syncEngine)}async function Cw(n){const e=await $0(n),t=e.eventManager;return t.onListen=S2.bind(null,e.syncEngine),t.onUnlisten=C2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=A2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=P2.bind(null,e.syncEngine),t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q0(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pw=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(n,e,t){if(!t)throw new le(W.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function B2(n,e,t,i){if(e===!0&&i===!0)throw new le(W.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function kw(n){if(!ve.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function xw(n){if(ve.isDocumentKey(n))throw new le(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae()}function qr(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new le(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jh(n);throw new le(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="firestore.googleapis.com",Nw=!0;class Dw{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new le(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W0,this.ssl=Nw}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Nw;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=I0;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<yN)throw new le(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}B2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=q0((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new le(W.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new Qk;switch(i.type){case"firstParty":return new Zk(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new le(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=Pw.get(t);i&&(ae("ComponentProvider","Removing Datastore"),Pw.delete(t),i.terminate())}(this),Promise.resolve()}}function $2(n,e,t,i={}){var o;const u=(n=qr(n,Zh))._getSettings(),c=`${e}:${t}`;if(u.host!==W0&&u.host!==c&&Go("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},u),{host:c,ssl:!1})),i.mockUserToken){let d,p;if(typeof i.mockUserToken=="string")d=i.mockUserToken,p=zt.MOCK_USER;else{d=aR(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new le(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new zt(y)}n._authCredentials=new Yk(new VT(d,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Us(this.firestore,e,this._query)}}class ln{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ln(this.firestore,e,this._key)}}class Vi extends Us{constructor(e,t,i){super(e,t,Vm(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ln(this.firestore,null,new ve(e))}withConverter(e){return new Vi(this.firestore,e,this._path)}}function Ow(n,e,...t){if(n=ht(n),H0("collection","path",e),n instanceof Zh){const i=et.fromString(e,...t);return xw(i),new Vi(n,null,i)}{if(!(n instanceof ln||n instanceof Vi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return xw(i),new Vi(n.firestore,null,i)}}function pu(n,e,...t){if(n=ht(n),arguments.length===1&&(e=MT.newId()),H0("doc","path",e),n instanceof Zh){const i=et.fromString(e,...t);return kw(i),new ln(n,null,new ve(i))}{if(!(n instanceof ln||n instanceof Vi))throw new le(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(et.fromString(e,...t));return kw(i),new ln(n.firestore,n instanceof Vi?n.converter:null,new ve(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bw="AsyncQueue";class Vw{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new C0(this,"async_queue_retry"),this.Su=()=>{const i=op();i&&ae(bw,"Visibility state changed to "+i.visibilityState),this.a_.t_()},this.bu=e;const t=op();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const t=op();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const t=new Cs;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!oa(e))throw e;ae(bw,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const t=this.bu.then(()=>(this.pu=!0,e().catch(i=>{this.gu=i,this.pu=!1;const o=function(c){let d=c.message||"";return c.stack&&(d=c.stack.includes(c.message)?c.stack:c.message+`
`+c.stack),d}(i);throw Gr("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.pu=!1,i))));return this.bu=t,t}enqueueAfterDelay(e,t,i){this.Du(),this.wu.indexOf(e)>-1&&(t=0);const o=Gm.createAndSchedule(this,e,t,i,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&Ae()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const t of this.fu)if(t.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.fu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const t=this.fu.indexOf(e);this.fu.splice(t,1)}}function Mw(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const u of i)if(u in o&&typeof o[u]=="function")return!0;return!1}(n,["next","error","complete"])}class Ms extends Zh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Vw,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Vw(e),this._firestoreClient=void 0,await e}}}function q2(n,e){const t=typeof n=="object"?n:WE(),i=typeof n=="string"?n:ph,o=ym(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const u=sR("firestore");u&&$2(o,...u)}return o}function Zm(n){if(n._terminated)throw new le(W.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||H2(n),n._firestoreClient}function H2(n){var e,t,i;const o=n._freezeSettings(),u=function(d,p,y,w){return new fx(d,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,q0(w.experimentalLongPollingOptions),w.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new U2(n._authCredentials,n._appCheckCredentials,n._queue,u,n._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ea(Vt.fromBase64String(e))}catch(t){throw new le(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ea(Vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new le(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new bt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ed{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new le(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new le(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Fe(this._lat,e._lat)||Fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let u=0;u<i.length;++u)if(i[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2=/^__.*__$/;class K2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Ki(e,this.data,this.fieldMask,t,this.fieldTransforms):new rl(e,this.data,t,this.fieldTransforms)}}class K0{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Ki(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function G0(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class ng{constructor(e,t,i,o,u,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new ng(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.$u(e),o}Uu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.ku({path:i,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Th(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(G0(this.Lu)&&W2.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class G2{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Qh(e)}ju(e,t,i,o=!1){return new ng({Lu:e,methodName:t,zu:i,path:bt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function td(n){const e=n._freezeSettings(),t=Qh(n._databaseId);return new G2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Q0(n,e,t,i,o,u={}){const c=n.ju(u.merge||u.mergeFields?2:0,e,t,o);ig("Data must be an object, but it was:",c,i);const d=J0(i,c);let p,y;if(u.merge)p=new _n(c.fieldMask),y=c.fieldTransforms;else if(u.mergeFields){const w=[];for(const T of u.mergeFields){const I=Qp(e,T,t);if(!c.contains(I))throw new le(W.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);eI(w,I)||w.push(I)}p=new _n(w),y=c.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,y=c.fieldTransforms;return new K2(new an(d),p,y)}class nd extends ed{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nd}}class rg extends ed{_toFieldTransform(e){return new Fx(e.path,new Hu)}isEqual(e){return e instanceof rg}}function Y0(n,e,t,i){const o=n.ju(1,e,t);ig("Data must be an object, but it was:",o,i);const u=[],c=an.empty();Wi(i,(p,y)=>{const w=sg(e,p,t);y=ht(y);const T=o.Uu(w);if(y instanceof nd)u.push(w);else{const I=ul(y,T);I!=null&&(u.push(w),c.set(w,I))}});const d=new _n(u);return new K0(c,d,o.fieldTransforms)}function X0(n,e,t,i,o,u){const c=n.ju(1,e,t),d=[Qp(e,i,t)],p=[o];if(u.length%2!=0)throw new le(W.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)d.push(Qp(e,u[I])),p.push(u[I+1]);const y=[],w=an.empty();for(let I=d.length-1;I>=0;--I)if(!eI(y,d[I])){const O=d[I];let b=p[I];b=ht(b);const z=c.Uu(O);if(b instanceof nd)y.push(O);else{const V=ul(b,z);V!=null&&(y.push(O),w.set(O,V))}}const T=new _n(y);return new K0(w,T,c.fieldTransforms)}function Q2(n,e,t,i=!1){return ul(t,n.ju(i?4:3,e))}function ul(n,e){if(Z0(n=ht(n)))return ig("Unsupported field value:",e,n),J0(n,e);if(n instanceof ed)return function(i,o){if(!G0(o.Lu))throw o.Wu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${i._methodName}() is not currently supported inside arrays`);const u=i._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(i,o){const u=[];let c=0;for(const d of i){let p=ul(d,o.Ku(c));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),c++}return{arrayValue:{values:u}}}(n,e)}return function(i,o){if((i=ht(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return Vx(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const u=Et.fromDate(i);return{timestampValue:_h(o.serializer,u)}}if(i instanceof Et){const u=new Et(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:_h(o.serializer,u)}}if(i instanceof eg)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ea)return{bytesValue:g0(o.serializer,i._byteString)};if(i instanceof ln){const u=o.databaseId,c=i.firestore._databaseId;if(!c.isEqual(u))throw o.Wu(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Um(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof tg)return function(c,d){return{mapValue:{fields:{[qT]:{stringValue:WT},[mh]:{arrayValue:{values:c.toArray().map(y=>{if(typeof y!="number")throw d.Wu("VectorValues must only contain numeric values.");return Mm(d.serializer,y)})}}}}}}(i,o);throw o.Wu(`Unsupported field value: ${Jh(i)}`)}(n,e)}function J0(n,e){const t={};return FT(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wi(n,(i,o)=>{const u=ul(o,e.qu(i));u!=null&&(t[i]=u)}),{mapValue:{fields:t}}}function Z0(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Et||n instanceof eg||n instanceof ea||n instanceof ln||n instanceof ed||n instanceof tg)}function ig(n,e,t){if(!Z0(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Jh(t);throw i==="an object"?e.Wu(n+" a custom object"):e.Wu(n+" "+i)}}function Qp(n,e,t){if((e=ht(e))instanceof al)return e._internalPath;if(typeof e=="string")return sg(n,e);throw Th("Field path arguments must be of type string or ",n,!1,void 0,t)}const Y2=new RegExp("[~\\*/\\[\\]]");function sg(n,e,t){if(e.search(Y2)>=0)throw Th(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new al(...e.split("."))._internalPath}catch{throw Th(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Th(n,e,t,i,o){const u=i&&!i.isEmpty(),c=o!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||c)&&(p+=" (found",u&&(p+=` in field ${i}`),c&&(p+=` in document ${o}`),p+=")"),new le(W.INVALID_ARGUMENT,d+n+p)}function eI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tI{constructor(e,t,i,o,u){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new ln(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new X2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(rd("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class X2 extends tI{data(){return super.data()}}function rd(n,e){return typeof e=="string"?sg(n,e):e instanceof al?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new le(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class og{}class nI extends og{}function Z2(n,e,...t){let i=[];e instanceof og&&i.push(e),i=i.concat(t),function(u){const c=u.filter(p=>p instanceof ag).length,d=u.filter(p=>p instanceof id).length;if(c>1||c>0&&d>0)throw new le(W.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class id extends nI{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new id(e,t,i)}_apply(e){const t=this._parse(e);return rI(e._query,t),new Us(e.firestore,e.converter,Fp(e._query,t))}_parse(e){const t=td(e.firestore);return function(u,c,d,p,y,w,T){let I;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new le(W.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Fw(T,w);const b=[];for(const z of T)b.push(Lw(p,u,z));I={arrayValue:{values:b}}}else I=Lw(p,u,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Fw(T,w),I=Q2(d,c,T,w==="in"||w==="not-in");return mt.create(y,w,I)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function eD(n,e,t){const i=e,o=rd("where",n);return id._create(o,i,t)}class ag extends og{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ag(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,u){let c=o;const d=u.getFlattenedFilters();for(const p of d)rI(c,p),c=Fp(c,p)}(e._query,t),new Us(e.firestore,e.converter,Fp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ug extends nI{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ug(e,t)}_apply(e){const t=function(o,u,c){if(o.startAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new le(W.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new qu(u,c)}(e._query,this._field,this._direction);return new Us(e.firestore,e.converter,function(o,u){const c=o.explicitOrderBy.concat([u]);return new aa(o.path,o.collectionGroup,c,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function tD(n,e="asc"){const t=e,i=rd("orderBy",n);return ug._create(i,t)}function Lw(n,e,t){if(typeof(t=ht(t))=="string"){if(t==="")throw new le(W.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!e0(e)&&t.indexOf("/")!==-1)throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(et.fromString(t));if(!ve.isDocumentKey(i))throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Yv(n,new ve(i))}if(t instanceof ln)return Yv(n,t._key);throw new le(W.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jh(t)}.`)}function Fw(n,e){if(!Array.isArray(n)||n.length===0)throw new le(W.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function rI(n,e){const t=function(o,u){for(const c of o)for(const d of c.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(W.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class nD{convertValue(e,t="none"){switch(ji(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ui(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Wi(e,(o,u)=>{i[o]=this.convertValue(u,t)}),i}convertVectorValue(e){var t,i,o;const u=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[mh].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(c=>ct(c.doubleValue));return new tg(u)}convertGeoPoint(e){return new eg(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Bh(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(zu(e));default:return null}}convertTimestamp(e){const t=Fi(e);return new Et(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=et.fromString(e);Ke(T0(i));const o=new Bu(i.get(1),i.get(3)),u=new ve(i.popFirst(5));return o.isEqual(t)||Gr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class sI extends tI{constructor(e,t,i,o,u,c){super(e,t,i,o,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Wc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(rd("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class Wc extends sI{data(e={}){return super.data(e)}}class rD{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new mu(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new Wc(this._firestore,this._userDataWriter,i.key,i,new mu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new le(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let c=0;return o._snapshot.docChanges.map(d=>{const p=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:c++}})}{let c=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Wc(o._firestore,o._userDataWriter,d.doc.key,d.doc,new mu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return d.type!==0&&(y=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),w=c.indexOf(d.doc.key)),{type:iD(d.type),doc:p,oldIndex:y,newIndex:w}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function iD(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}class oI extends nD{constructor(e){super(),this.firestore=e}convertBytes(e){return new ea(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ln(this.firestore,null,t)}}function Uw(n,e,t,...i){n=qr(n,ln);const o=qr(n.firestore,Ms),u=td(o);let c;return c=typeof(e=ht(e))=="string"||e instanceof al?X0(u,"updateDoc",n._key,e,t,i):Y0(u,"updateDoc",n._key,e),sd(o,[c.toMutation(n._key,un.exists(!0))])}function sD(n){return sd(qr(n.firestore,Ms),[new Kh(n._key,un.none())])}function oD(n,e){const t=qr(n.firestore,Ms),i=pu(n),o=iI(n.converter,e);return sd(t,[Q0(td(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,un.exists(!1))]).then(()=>i)}function aD(n,...e){var t,i,o;n=ht(n);let u={includeMetadataChanges:!1,source:"default"},c=0;typeof e[c]!="object"||Mw(e[c])||(u=e[c],c++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(Mw(e[c])){const T=e[c];e[c]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[c+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[c+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,w;if(n instanceof ln)y=qr(n.firestore,Ms),w=Vm(n._key.path),p={next:T=>{e[c]&&e[c](uD(y,n,T))},error:e[c+1],complete:e[c+2]};else{const T=qr(n,Us);y=qr(T.firestore,Ms),w=T._query;const I=new oI(y);p={next:O=>{e[c]&&e[c](new rD(y,I,T,O))},error:e[c+1],complete:e[c+2]},J2(n._query)}return function(I,O,b,z){const V=new F2(z),X=new v2(O,V,b);return I.asyncQueue.enqueueAndForget(async()=>m2(await Cw(I),X)),()=>{V.su(),I.asyncQueue.enqueueAndForget(async()=>g2(await Cw(I),X))}}(Zm(y),w,d,p)}function sd(n,e){return function(i,o){const u=new Cs;return i.asyncQueue.enqueueAndForget(async()=>k2(await z2(i),o,u)),u.promise}(Zm(n),e)}function uD(n,e,t){const i=t.docs.get(e._key),o=new oI(n);return new sI(n,o,e._key,i,new mu(t.hasPendingWrites,t.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=td(e)}set(e,t,i){this._verifyNotCommitted();const o=up(e,this._firestore),u=iI(o.converter,t,i),c=Q0(this._dataReader,"WriteBatch.set",o._key,u,o.converter!==null,i);return this._mutations.push(c.toMutation(o._key,un.none())),this}update(e,t,i,...o){this._verifyNotCommitted();const u=up(e,this._firestore);let c;return c=typeof(t=ht(t))=="string"||t instanceof al?X0(this._dataReader,"WriteBatch.update",u._key,t,i,o):Y0(this._dataReader,"WriteBatch.update",u._key,t),this._mutations.push(c.toMutation(u._key,un.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=up(e,this._firestore);return this._mutations=this._mutations.concat(new Kh(t._key,un.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new le(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function up(n,e){if((n=ht(n)).firestore!==e)throw new le(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function cD(){return new rg("serverTimestamp")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hD(n){return Zm(n=qr(n,Ms)),new lD(n,e=>sd(n,e))}(function(e,t=!0){(function(o){ia=o})(na),Ko(new Ns("firestore",(i,{instanceIdentifier:o,options:u})=>{const c=i.getProvider("app").getImmediate(),d=new Ms(new Xk(i.getProvider("auth-internal")),new ex(c,i.getProvider("app-check-internal")),function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new le(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(y.options.projectId,w)}(c,o),c);return u=Object.assign({useFetchStreams:t},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Oi(Uv,jv,e),Oi(Uv,jv,"esm2017")})();const dD={apiKey:"AIzaSyAd64o_qFunGUi3-rQ0uUlVzHu1SJhk5lY",authDomain:"to-do-list-auth-c58d3.firebaseapp.com",projectId:"to-do-list-auth-c58d3",storageBucket:"to-do-list-auth-c58d3.firebasestorage.app",messagingSenderId:"978403657505",appId:"1:978403657505:web:49d080cf9437206703a060",measurementId:"G-YHFZJ5KYJZ"},lg=HE(dD),Ru=Kk(lg);new pr(lg);const Ts=q2(lg),fD={loading:!1},aI=bE({name:"loading",initialState:fD,reducers:{setLoading:(n,e)=>{n.loading=e.payload}}}),{setLoading:jw}=aI.actions,pD=aI.reducer;function mD({removeAllTask:n,logout:e}){const{alertType:t}=TE(d=>d.alert),i=hm();if(!t)return;const o={REMOVE_ALL:{function:n,text:"Delete all task?"},LOGOUT:{function:e,text:"Are you sure?"}},u=()=>{i(GA())},c=()=>{o[t]&&o[t].function(),u()};return G.jsx("div",{id:"alert-popup-overlay",className:"fixed top-0 left-0 h-full w-full flex justify-center items-center bg-[rgba(0,0,0,0.3)] z-20",onClick:u,children:G.jsxs("div",{id:"alert-popup-container",onClick:d=>d.stopPropagation(),className:"w-[80%] max-w-[360px] max-h-[100px] xl:max-w-[380px] xl:max-h-[140px] h-1/6 bg-gray-700 border-2 border-gray-500 rounded-lg flex flex-col items-center justify-center gap-1 lg:gap-3 xl:gap-4",children:[G.jsx("p",{className:"alert-text text-lg text-gray-100",children:o[t].text}),G.jsxs("div",{className:"flex space-x-10",children:[G.jsx("button",{onClick:u,className:"alert-btn w-10 lg:w-12 xl:w-14 2xl:w-16 text-gray-100 bg-red-400 rounded-full flex items-center justify-center transition-transform transform hover:scale-110",children:"No"}),G.jsx("button",{onClick:c,className:"alert-btn w-10 lg:w-12 xl:w-14 2xl:w-16 text-gray-100 bg-green-400 rounded-full flex items-center justify-center transition-transform transform hover:scale-110",children:"Yes"})]})]})})}function gD({user:n}){const[e,t]=ye.useState([]),[i,o]=ye.useState(""),u=hm();ye.useEffect(()=>{if(!n)return;u(jw(!0));const I=Z2(Ow(Ts,"todos"),eD("uid","==",n.uid),tD("createdAt","asc"));return aD(I,b=>{const z=[];b.forEach(V=>{z.push({...V.data(),id:V.id})}),t(z),u(jw(!1))},b=>{console.error(b)})},[n]);const c=async()=>{if(i.trim())try{await oD(Ow(Ts,"todos"),{name:i,completed:!1,memo:"",createdAt:cD(),uid:n.uid})}catch(I){console.error("Error adding to do: ",I)}},d=async(I,O)=>{const b=pu(Ts,"todos",I);await Uw(b,{completed:O})},p=async(I,O,b)=>{const z=pu(Ts,"todos",I);await Uw(z,{name:O,memo:b})},y=async I=>{await sD(pu(Ts,"todos",I))},w=async()=>{try{const I=hD(Ts);e.forEach(O=>{const b=pu(Ts,"todos",O.id);I.delete(b)}),await I.commit()}catch(I){console.error(I)}},T=async()=>{try{MP(Ru)}catch(I){console.error(I)}};return G.jsxs("div",{className:"to-do-list-container relative select-none bg-slate-700 flex flex-col justify-around [@media(min-width:500px)]:rounded-xl p-5 py-10 w-full h-full max-w-[500px] lg:max-w-[700px] xl:max-w-[800px] 2xl:max-w-[900px] max-h-[540px] xl:max-h-[600px]",children:[G.jsx("a",{onClick:()=>u(ME({alertType:"LOGOUT"})),id:"logout",className:"absolute top-4 left-4 cursor-pointer bg-red-500 hover:bg-red-600 transition-colors px-1 rounded",children:G.jsx("i",{className:"fa-solid fa-arrow-right-from-bracket text-white"})}),G.jsx(mD,{removeAllTask:w,logout:T}),G.jsx(XA,{}),G.jsx(_S,{newTodo:i,setNewTodo:o,addTask:c}),G.jsx(YA,{todos:e,removeTask:y,editTask:p,toggleCompleted:d,removeAllTask:w})]})}function yD({setUser:n}){const[e,t]=ye.useState(!1),[i,o]=ye.useState(""),[u,c]=ye.useState(""),[d,p]=ye.useState(""),y=async w=>{w.preventDefault(),p("");try{if(e){const T=await DP(Ru,i,u);n(T.user)}else{const T=await NP(Ru,i,u);n(T.user)}}catch(T){p(T.message)}};return G.jsxs("div",{id:"auth-form-container",onSubmit:y,className:"flex flex-col justify-center bg-slate-700 p-5 text-white w-full h-full max-w-[460px] max-h-[540px] md:rounded-xl",children:[G.jsx("h2",{className:"text-center text-2xl",children:e?"Log In":"Sign Up"}),G.jsxs("form",{id:"auth-form",onSubmit:y,className:"flex flex-col mt-4 gap-2",children:[G.jsxs("div",{id:"email-auth-container",className:"flex flex-col",children:[G.jsx("label",{htmlFor:"email-auth",children:"Email"}),G.jsx("input",{value:i,onChange:w=>o(w.target.value),name:"email-auth",id:"email-auth",className:"text-black pl-1",required:!0})]}),G.jsxs("div",{id:"password-auth-container",className:"flex flex-col",children:[G.jsx("label",{htmlFor:"password-auth",children:"Password"}),G.jsx("input",{value:u,onChange:w=>c(w.target.value),name:"password-auth",id:"password-auth",className:"text-black pl-1",required:!0})]}),G.jsx("button",{type:"submit",id:"auth-submit-btn",className:"text-sm mt-2 p-1 md:p-[6px] lg:p-2 xl:p-[10px] bg-blue-500 rounded",children:e?"Log In":"Sign Up"}),G.jsx("p",{id:"auth-switch-text",className:"self-center text-center mt-4",children:e?G.jsxs(G.Fragment,{children:["Dont have an account? Click",G.jsx("a",{className:"cursor-pointer text-blue-400 select-none",onClick:()=>t(!1),children:" here "}),"to sign up"]}):G.jsxs(G.Fragment,{children:["Already have an account? Click",G.jsx("a",{className:"cursor-pointer text-blue-400 select-none",onClick:()=>t(!0),children:" here "}),"to log in"]})}),G.jsxs("div",{id:"auth-login-methods-container",className:"mt-3 text-center flex flex-col justify-center items-center",children:[G.jsx("p",{children:"Login with:"}),G.jsx("div",{id:"auth-login-methods-logos",className:"flex gap-4",children:G.jsx("button",{type:"button",className:"mt-2 flex justify-center items-center border-2 border-white rounded p-1 gap-2 hover:bg-gray-500 transition-colors select-none",onClick:()=>nk(Ru,new pr),children:G.jsx("div",{className:"w-7 md:w-8 lg:w-9 xl:w-10 2xl:w-11",children:G.jsx("img",{src:"/To-Do-List/google.png",className:"block w-full h-auto"})})})})]})]})]})}function _D(){const n=TE(i=>i.loading.loading),[e,t]=ye.useState(null);return ye.useEffect(()=>VP(Ru,o=>{t(o)}),[]),G.jsxs("div",{className:"flex w-full h-screen justify-center items-center",children:[G.jsx("div",{id:"app-bg",className:"fixed top-0 left-0 w-full h-screen z-[-2] bg-slate-500"}),n&&G.jsx("div",{id:"loading",className:"fixed top-0 left-0 w-full h-screen z-50 bg-slate-500 flex justify-center items-center",children:G.jsx("div",{className:"loader"})}),e?G.jsx(gD,{user:e}):G.jsx(yD,{setUser:t})]})}const vD=VA({reducer:{loading:pD,alert:QA}});yS.createRoot(document.getElementById("root")).render(G.jsx(ye.StrictMode,{children:G.jsx(oA,{store:vD,children:G.jsx(_D,{})})}));
